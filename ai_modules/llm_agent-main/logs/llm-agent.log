2025-09-28 03:26:07 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:07 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:07 - main - INFO - ==================================================
2025-09-28 03:26:09 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:09 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:09 - main - INFO - ==================================================
2025-09-28 03:26:11 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:11 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:11 - main - INFO - ==================================================
2025-09-28 03:26:13 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:13 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:13 - main - INFO - ==================================================
2025-09-28 03:26:16 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:16 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:16 - main - INFO - ==================================================
2025-09-28 03:26:20 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:20 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:20 - main - INFO - ==================================================
2025-09-28 03:26:25 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:25 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:25 - main - INFO - ==================================================
2025-09-28 03:26:33 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:33 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:33 - main - INFO - ==================================================
2025-09-28 03:26:48 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:26:48 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:26:48 - main - INFO - ==================================================
2025-09-28 03:27:15 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:27:15 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:27:15 - main - INFO - ==================================================
2025-09-28 03:28:08 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:08 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:08 - main - INFO - ==================================================
2025-09-28 03:28:23 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:23 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:23 - main - INFO - ==================================================
2025-09-28 03:28:25 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:25 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:25 - main - INFO - ==================================================
2025-09-28 03:28:27 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:27 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:27 - main - INFO - ==================================================
2025-09-28 03:28:29 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:29 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:29 - main - INFO - ==================================================
2025-09-28 03:28:32 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:32 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:32 - main - INFO - ==================================================
2025-09-28 03:28:35 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:35 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:35 - main - INFO - ==================================================
2025-09-28 03:28:40 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:40 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:40 - main - INFO - ==================================================
2025-09-28 03:28:49 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:28:49 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:28:49 - main - INFO - ==================================================
2025-09-28 03:29:03 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:29:03 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:29:03 - main - INFO - ==================================================
2025-09-28 03:29:31 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:29:31 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:29:31 - main - INFO - ==================================================
2025-09-28 03:29:44 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:29:44 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:29:44 - main - INFO - ==================================================
2025-09-28 03:29:44 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:29:44 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:29:44 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:29:44 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:29:44 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:29:44 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:29:44 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:29:44 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:29:44 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:29:44 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:29:44 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:31:51 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:31:51 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš”, AI ë©˜í† ì…ë‹ˆë‹¤!...
2025-09-28 03:31:51 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”, AI ë©˜í† ì…ë‹ˆë‹¤!...'
2025-09-28 03:31:51 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:31:51 - service.nodes.base_node - ERROR - âŒ Router ë…¸ë“œ ì‹¤íŒ¨ (0.00ì´ˆ): 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:31:51 - service.core.mentor_service - ERROR - âŒ ì²˜ë¦¬ ì‹¤íŒ¨: 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:31:51 - controller.agentController - ERROR - AI ë©˜í†  ì„œë¹„ìŠ¤ ì˜¤ë¥˜: ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜: 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:34:25 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:34:25 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:34:25 - main - INFO - ==================================================
2025-09-28 03:34:25 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:34:25 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:34:25 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:34:25 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:34:25 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:34:25 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:34:25 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:34:25 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:34:25 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:34:25 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:34:25 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:35:12 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:35:12 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš”, AI ë©˜í† ì…ë‹ˆë‹¤!...
2025-09-28 03:35:12 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”, AI ë©˜í† ì…ë‹ˆë‹¤!...'
2025-09-28 03:35:12 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:35:12 - service.nodes.base_node - ERROR - âŒ Router ë…¸ë“œ ì‹¤íŒ¨ (0.00ì´ˆ): 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:35:12 - service.core.mentor_service - ERROR - âŒ ì²˜ë¦¬ ì‹¤íŒ¨: 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:35:12 - controller.agentController - ERROR - AI ë©˜í†  ì„œë¹„ìŠ¤ ì˜¤ë¥˜: ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜: 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:35:20 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:20 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:35:20 - main - INFO - ==================================================
2025-09-28 03:35:20 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:35:20 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:35:20 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:20 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:35:20 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:35:20 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:35:20 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:35:20 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:35:20 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:20 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:20 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:35:57 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:57 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:35:57 - main - INFO - ==================================================
2025-09-28 03:35:57 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:35:57 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:35:57 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:57 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:35:57 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:35:57 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:35:57 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:35:57 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:35:57 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:57 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:35:57 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:36:42 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:36:42 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:36:42 - main - INFO - ==================================================
2025-09-28 03:36:42 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:36:42 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:36:42 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:36:42 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:36:42 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:36:42 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:36:42 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:36:42 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:36:42 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:36:42 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:36:42 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:37:07 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:37:07 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš”!...
2025-09-28 03:37:07 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:37:07 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:37:07 - service.nodes.base_node - ERROR - âŒ Router ë…¸ë“œ ì‹¤íŒ¨ (0.00ì´ˆ): 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:37:07 - service.core.mentor_service - ERROR - âŒ ì²˜ë¦¬ ì‹¤íŒ¨: 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:37:07 - controller.agentController - ERROR - AI ë©˜í†  ì„œë¹„ìŠ¤ ì˜¤ë¥˜: ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜: 'LlmClient' object has no attribute 'chat_completion'
2025-09-28 03:37:28 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:37:28 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:37:28 - main - INFO - ==================================================
2025-09-28 03:37:28 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:37:28 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:37:28 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:37:28 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:37:28 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:37:28 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:37:28 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:37:28 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:37:28 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:37:28 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:37:28 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:37:59 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:37:59 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš”!...
2025-09-28 03:37:59 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:37:59 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:37:59 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-629e0261-a6cb-4b46-9f3a-3f73cbddd336', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì•ˆë…•í•˜ì„¸ìš”!\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:37:59 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:37:59 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 03:37:59 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa86a448a50>
2025-09-28 03:37:59 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fa86aac3bf0> server_hostname='api.openai.com' timeout=None
2025-09-28 03:37:59 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa86a447dd0>
2025-09-28 03:37:59 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:37:59 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:37:59 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:37:59 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:37:59 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:38:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2710'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3263'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998122'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_671c31276c534f26b93a46ab6ee4142d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=uc00NBdDVWM2wDRW0fniEnyDJT.YhkDkC.9Mzwk9P8c-1758998283-1.0.1.1-zGvHQcIjWGcy.RKO5WwHlnu2gZXiW64Pj.MpLEoZfI5IZ9da90YsTcuqrdy0303fyDaHZ5XlmfOZM0iyxnk8sB0PcOhPdsBrOwOweq7pTx8; path=/; expires=Sat, 27-Sep-25 19:08:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=dvIT4s0SJNjcITW8UA2MKvN8WBusUYX36WIauKM06zc-1758998283453-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d1d8ef827d1f1-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:38:03 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:38:03 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 18:38:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2710'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '3263'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998122'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_671c31276c534f26b93a46ab6ee4142d'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=uc00NBdDVWM2wDRW0fniEnyDJT.YhkDkC.9Mzwk9P8c-1758998283-1.0.1.1-zGvHQcIjWGcy.RKO5WwHlnu2gZXiW64Pj.MpLEoZfI5IZ9da90YsTcuqrdy0303fyDaHZ5XlmfOZM0iyxnk8sB0PcOhPdsBrOwOweq7pTx8; path=/; expires=Sat, 27-Sep-25 19:08:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=dvIT4s0SJNjcITW8UA2MKvN8WBusUYX36WIauKM06zc-1758998283453-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d1d8ef827d1f1-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 03:38:03 - openai._base_client - DEBUG - request_id: req_671c31276c534f26b93a46ab6ee4142d
2025-09-28 03:38:03 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 681ì í…ìŠ¤íŠ¸
2025-09-28 03:38:03 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 669ì, 7ê°œ í•„ë“œ
2025-09-28 03:38:03 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:38:03 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 03:38:03 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 03:38:03 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì•ˆë…•í•˜ì„¸ìš”!'
2025-09-28 03:38:03 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì•ˆë…•í•˜ì„¸ìš”!

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: The user is initiating a conversation, possibly seeking information related to Jeonbuk National University. | ê´€ë ¨í‚¤ì›Œë“œ: Jeonbuk National University, query expansion, AI Mentor'
2025-09-28 03:38:03 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-357c277f-dcb9-4e73-a01b-07a3322e2370', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:38:03 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:38:03 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:38:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'11601'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'11750'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_4107c0d09b4743ffbf4ae8cf46e68e4a'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d1da7b8f2d1f1-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:38:17 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:38:17 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 18:38:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '11601', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '11750', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_4107c0d09b4743ffbf4ae8cf46e68e4a', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d1da7b8f2d1f1-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 03:38:17 - openai._base_client - DEBUG - request_id: req_4107c0d09b4743ffbf4ae8cf46e68e4a
2025-09-28 03:38:17 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1487ì í…ìŠ¤íŠ¸
2025-09-28 03:38:17 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 03:38:17 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:38:17 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 03:38:17 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 03:38:17 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 03:38:17 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 03:38:17 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (18.52ì´ˆ)
2025-09-28 03:38:17 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:38:17 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:38:17 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:38:17 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fa86a270690>
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:38:17 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:38:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:38:18 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 404 Not Found"
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:38:18 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:38:18 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:38:18 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fa86a2b6dd0>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:38:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:38:18 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search-sql-filter "HTTP/1.1 404 Not Found"
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:38:18 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 404
2025-09-28 03:38:18 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 03:38:18 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fa86a2d4290>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 18:38:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 03:38:18 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 500 Internal Server Error"
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:38:18 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:38:18 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:38:18 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 03:38:18 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 03:38:18 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (0.01ì´ˆ)
2025-09-28 03:38:18 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:38:18 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 03:38:18 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:38:18 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:38:18 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 03:38:18 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:41:14 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:41:14 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:41:14 - main - INFO - ==================================================
2025-09-28 03:41:14 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:41:14 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:41:14 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:41:14 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:41:14 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:41:14 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:41:14 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:41:14 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:41:14 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:41:14 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:41:14 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:41:50 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:41:50 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš”!...
2025-09-28 03:41:50 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:41:50 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:41:50 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6c2de0d2-9b54-46f3-ad2e-569c466db7f0', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì•ˆë…•í•˜ì„¸ìš”!\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:41:50 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:41:50 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 03:41:50 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f542eb7b210>
2025-09-28 03:41:50 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f542f237bf0> server_hostname='api.openai.com' timeout=None
2025-09-28 03:41:50 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f5434c94850>
2025-09-28 03:41:50 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:41:50 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:41:50 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:41:50 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:41:50 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:41:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2014'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2204'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998122'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_d23b241544944b0e8a0c5a7c89044594'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Aty_j2oIRCiDmn6onbXQjc7TTyO6dzgfiaXEIdouvbA-1758998513-1.0.1.1-zR2dfKW4UEvEg0IMWSdSPdCeDnYk1LZgKQFHvyac9yiLweS8ZRX9DKq1ONEegZkJiYD._ZZhaeFE4d29uB0iNZyrfsPN8uO.SJ9a9PFihtc; path=/; expires=Sat, 27-Sep-25 19:11:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=cwTsDbeWvMCKLemej_TW.PVF8WY5UJof.4jRmV4CzbM-1758998513742-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d233589f9ea33-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:41:53 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:41:53 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 18:41:53 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2014'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2204'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998122'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_d23b241544944b0e8a0c5a7c89044594'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Aty_j2oIRCiDmn6onbXQjc7TTyO6dzgfiaXEIdouvbA-1758998513-1.0.1.1-zR2dfKW4UEvEg0IMWSdSPdCeDnYk1LZgKQFHvyac9yiLweS8ZRX9DKq1ONEegZkJiYD._ZZhaeFE4d29uB0iNZyrfsPN8uO.SJ9a9PFihtc; path=/; expires=Sat, 27-Sep-25 19:11:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=cwTsDbeWvMCKLemej_TW.PVF8WY5UJof.4jRmV4CzbM-1758998513742-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d233589f9ea33-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 03:41:53 - openai._base_client - DEBUG - request_id: req_d23b241544944b0e8a0c5a7c89044594
2025-09-28 03:41:53 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 677ì í…ìŠ¤íŠ¸
2025-09-28 03:41:53 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 665ì, 7ê°œ í•„ë“œ
2025-09-28 03:41:53 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:41:53 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 03:41:53 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 03:41:53 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì•ˆë…•í•˜ì„¸ìš”!'
2025-09-28 03:41:53 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì•ˆë…•í•˜ì„¸ìš”!

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: The user is initiating a conversation, possibly seeking information related to Jeonbuk National University. | ê´€ë ¨í‚¤ì›Œë“œ: Jeonbuk National University, query expansion, AI Mentor'
2025-09-28 03:41:53 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7268a13d-91a2-43c4-9ba3-116b83455521', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:41:53 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:41:53 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:41:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'3689'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3737'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_033c157bbc6f47b6ab100fdf43f86cb9'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d23470a5fea33-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:41:57 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:41:57 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 18:41:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '3689', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '3737', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_033c157bbc6f47b6ab100fdf43f86cb9', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d23470a5fea33-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 03:41:57 - openai._base_client - DEBUG - request_id: req_033c157bbc6f47b6ab100fdf43f86cb9
2025-09-28 03:41:57 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1110ì í…ìŠ¤íŠ¸
2025-09-28 03:41:57 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 03:41:57 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:41:57 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 03:41:57 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 03:41:57 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 03:41:57 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 03:41:57 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (6.75ì´ˆ)
2025-09-28 03:41:57 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:41:57 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:41:57 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:41:57 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f542eb637d0>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:41:56 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:41:57 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 404 Not Found"
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:41:57 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:41:57 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:41:57 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f542e9eed10>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:41:56 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:41:57 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search-sql-filter "HTTP/1.1 404 Not Found"
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:41:57 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 404
2025-09-28 03:41:57 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 03:41:57 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f542e9ef650>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 18:41:56 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 03:41:57 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 500 Internal Server Error"
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:41:57 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:41:57 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:41:57 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 03:41:57 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 03:41:57 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (0.01ì´ˆ)
2025-09-28 03:41:57 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:41:57 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 03:41:57 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:41:57 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:41:57 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 03:41:57 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:47:09 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:47:09 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:47:09 - main - INFO - ==================================================
2025-09-28 03:47:09 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:47:09 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:47:09 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:47:09 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:47:10 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:47:10 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:47:10 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:47:10 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:47:10 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:47:10 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:47:10 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:52:49 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:52:49 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 03:52:49 - main - INFO - ==================================================
2025-09-28 03:52:49 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 03:52:49 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 03:52:49 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:52:49 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 03:52:49 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 03:52:49 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 03:52:49 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 03:52:49 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 03:52:49 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:52:49 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 03:52:49 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 03:53:27 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:53:27 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš”!...
2025-09-28 03:53:27 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:53:27 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:53:27 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-13ef3a0d-b458-498b-a041-7deb4dd4dbd4', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì•ˆë…•í•˜ì„¸ìš”!\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:53:27 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:53:27 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 03:53:27 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aa21e4f50>
2025-09-28 03:53:27 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3aa27f7bf0> server_hostname='api.openai.com' timeout=None
2025-09-28 03:53:27 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aa2190c10>
2025-09-28 03:53:27 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:53:27 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:53:27 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:53:27 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:53:27 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:53:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1779'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1868'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998122'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_d0a80844c2544f65bbdcd29c6d4fedba'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NKwhjPlVWPTvwo_eZ.4doVkKSPtQHj6VACRTc0YMIB8-1758999209-1.0.1.1-M7DaKy06EdD7NEKt5esmGGuKsZngXwhXDE2MBRzrK4Gf7tmXM3WE0uHl_NLC0SCMqRzsab6vGxvvO0naeMo_FdNNSX0SiSr0utILWR_MSMg; path=/; expires=Sat, 27-Sep-25 19:23:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=9JTN2QhgdlXGKXkX_fgZfz8Ssg7kBkSIkzgYkeI9H40-1758999209812-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d34371edfd1de-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:53:29 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:53:29 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 18:53:29 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '1779'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1868'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998122'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_d0a80844c2544f65bbdcd29c6d4fedba'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=NKwhjPlVWPTvwo_eZ.4doVkKSPtQHj6VACRTc0YMIB8-1758999209-1.0.1.1-M7DaKy06EdD7NEKt5esmGGuKsZngXwhXDE2MBRzrK4Gf7tmXM3WE0uHl_NLC0SCMqRzsab6vGxvvO0naeMo_FdNNSX0SiSr0utILWR_MSMg; path=/; expires=Sat, 27-Sep-25 19:23:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=9JTN2QhgdlXGKXkX_fgZfz8Ssg7kBkSIkzgYkeI9H40-1758999209812-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d34371edfd1de-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 03:53:29 - openai._base_client - DEBUG - request_id: req_d0a80844c2544f65bbdcd29c6d4fedba
2025-09-28 03:53:29 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 616ì í…ìŠ¤íŠ¸
2025-09-28 03:53:29 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 604ì, 7ê°œ í•„ë“œ
2025-09-28 03:53:29 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:53:29 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 03:53:29 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 03:53:29 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì•ˆë…•í•˜ì„¸ìš”!'
2025-09-28 03:53:29 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì•ˆë…•í•˜ì„¸ìš”!

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: The user is greeting and initiating a conversation, possibly leading to a query about academic information. | ê´€ë ¨í‚¤ì›Œë“œ: ì¸ì‚¬, ì•ˆë…•í•˜ì„¸ìš”, ë¬¸ì˜'
2025-09-28 03:53:29 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fffda9a4-48bf-4464-a422-ece7fc6382e7', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:53:29 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:53:29 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:53:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5708'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5743'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_7ea14c3873889bd381f81f418faa61e5'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d34457a06d1de-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:53:35 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:53:35 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 18:53:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5708', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '5743', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_7ea14c3873889bd381f81f418faa61e5', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d34457a06d1de-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 03:53:35 - openai._base_client - DEBUG - request_id: req_7ea14c3873889bd381f81f418faa61e5
2025-09-28 03:53:35 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 2200ì í…ìŠ¤íŠ¸
2025-09-28 03:53:35 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 03:53:35 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 717ì, 11ê°œ í•„ë“œ
2025-09-28 03:53:35 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 689ì, 11ê°œ í•„ë“œ
2025-09-28 03:53:35 - utils.json_utils - INFO - ğŸ” 3ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:53:35 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 03:53:35 - utils.json_utils - DEBUG - ğŸ” JSON #2: complexity=heavy, score=6
2025-09-28 03:53:35 - utils.json_utils - DEBUG - ğŸ” JSON #3: complexity=heavy, score=6
2025-09-28 03:53:35 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 03:53:35 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 03:53:35 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 03:53:35 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (8.26ì´ˆ)
2025-09-28 03:53:35 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:53:35 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš”!...'
2025-09-28 03:53:35 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:53:35 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa21af750>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:53:35 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:53:35 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 404 Not Found"
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:53:35 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:53:35 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:53:35 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa204f010>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:53:35 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:53:35 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search-sql-filter "HTTP/1.1 404 Not Found"
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:53:35 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 404
2025-09-28 03:53:35 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 03:53:35 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa20704d0>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 18:53:35 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 03:53:35 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 500 Internal Server Error"
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:53:35 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:53:35 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:53:35 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 03:53:35 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 03:53:35 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (0.01ì´ˆ)
2025-09-28 03:53:35 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:53:35 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 03:53:35 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:53:35 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:53:35 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 03:53:35 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:58:04 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_session, stream: False
2025-09-28 03:58:04 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”...
2025-09-28 03:58:04 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”...'
2025-09-28 03:58:04 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:58:04 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fca29e4e-9cc8-466b-9b0a-c79a91ac9567', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:58:04 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:58:04 - httpcore.connection - DEBUG - close.started
2025-09-28 03:58:04 - httpcore.connection - DEBUG - close.complete
2025-09-28 03:58:04 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 03:58:04 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aa2073450>
2025-09-28 03:58:04 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3aa27f7bf0> server_hostname='api.openai.com' timeout=None
2025-09-28 03:58:04 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aa21d24d0>
2025-09-28 03:58:04 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:58:04 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:58:04 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:58:04 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:58:04 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:58:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'3653'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3804'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998115'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_a227cea40c50492083ad9956ec546c78'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d3af8bcbfa7c0-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:58:08 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:58:08 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 18:58:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '3653', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '3804', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998115', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_a227cea40c50492083ad9956ec546c78', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d3af8bcbfa7c0-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 03:58:08 - openai._base_client - DEBUG - request_id: req_a227cea40c50492083ad9956ec546c78
2025-09-28 03:58:08 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 705ì í…ìŠ¤íŠ¸
2025-09-28 03:58:08 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 693ì, 7ê°œ í•„ë“œ
2025-09-28 03:58:08 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:58:08 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 03:58:08 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 03:58:08 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”'
2025-09-28 03:58:08 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for information about the Computer Science department, including its courses and academic focus. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 03:58:08 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9c1cb79e-9949-4566-94fb-a792afc78e34', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 03:58:08 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:58:08 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 18:58:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2010'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2245'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_eb31d4627cf44e209c6469a212a3e4e0'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d3b11b929a7c0-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 03:58:11 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:58:11 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 18:58:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2010', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2245', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_eb31d4627cf44e209c6469a212a3e4e0', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d3b11b929a7c0-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 03:58:11 - openai._base_client - DEBUG - request_id: req_eb31d4627cf44e209c6469a212a3e4e0
2025-09-28 03:58:11 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 728ì í…ìŠ¤íŠ¸
2025-09-28 03:58:11 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 03:58:11 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 03:58:11 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 03:58:11 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 03:58:11 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 03:58:11 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 03:58:11 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (6.90ì´ˆ)
2025-09-28 03:58:11 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:58:11 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”...'
2025-09-28 03:58:11 - httpcore.connection - DEBUG - close.started
2025-09-28 03:58:11 - httpcore.connection - DEBUG - close.complete
2025-09-28 03:58:11 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:58:11 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa2175910>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:58:10 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:58:11 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 404 Not Found"
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:58:11 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:58:11 - httpcore.connection - DEBUG - close.started
2025-09-28 03:58:11 - httpcore.connection - DEBUG - close.complete
2025-09-28 03:58:11 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 03:58:11 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa207f610>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 18:58:10 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 03:58:11 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search-sql-filter "HTTP/1.1 404 Not Found"
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:58:11 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 404
2025-09-28 03:58:11 - httpcore.connection - DEBUG - close.started
2025-09-28 03:58:11 - httpcore.connection - DEBUG - close.complete
2025-09-28 03:58:11 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 03:58:11 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa21e5390>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 18:58:10 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 03:58:11 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 03:58:11 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 03:58:11 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 03:58:11 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 03:58:11 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 03:58:11 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (0.01ì´ˆ)
2025-09-28 03:58:11 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:58:11 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 03:58:11 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 03:58:11 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 03:58:11 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 03:58:11 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:01:54 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test, stream: False
2025-09-28 04:01:54 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”...
2025-09-28 04:01:54 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”...'
2025-09-28 04:01:54 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:01:54 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c8c8f99f-74f4-4d11-ae96-838e08f260b6', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:01:54 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:01:54 - httpcore.connection - DEBUG - close.started
2025-09-28 04:01:54 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:01:54 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:01:54 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aa2070d90>
2025-09-28 04:01:54 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3aa27f7bf0> server_hostname='api.openai.com' timeout=None
2025-09-28 04:01:54 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aa20724d0>
2025-09-28 04:01:54 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:01:54 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:01:54 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:01:54 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:01:54 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:01:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2120'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2314'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998115'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_5e6c8763787546b4b3a5b44c1cc3b9b4'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d4096e9f2aa7e-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:01:57 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:01:57 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:01:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2120', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2314', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998115', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_5e6c8763787546b4b3a5b44c1cc3b9b4', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d4096e9f2aa7e-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:01:57 - openai._base_client - DEBUG - request_id: req_5e6c8763787546b4b3a5b44c1cc3b9b4
2025-09-28 04:01:57 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 668ì í…ìŠ¤íŠ¸
2025-09-28 04:01:57 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 656ì, 7ê°œ í•„ë“œ
2025-09-28 04:01:57 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:01:57 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:01:57 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:01:57 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”'
2025-09-28 04:01:57 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for information about the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´í“¨í„°ê³µí•™, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:01:57 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6b99d8c3-074e-468e-9b63-69b32435c1ce', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:01:57 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:01:57 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:01:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1909'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1932'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_ae548f785afd4459a5d1cd257ab26723'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d40a909e7aa7e-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:01:59 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:01:59 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:01:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '1909', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1932', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_ae548f785afd4459a5d1cd257ab26723', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d40a909e7aa7e-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:01:59 - openai._base_client - DEBUG - request_id: req_ae548f785afd4459a5d1cd257ab26723
2025-09-28 04:01:59 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 727ì í…ìŠ¤íŠ¸
2025-09-28 04:01:59 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:01:59 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:01:59 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:01:59 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:01:59 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:01:59 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:01:59 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (5.05ì´ˆ)
2025-09-28 04:01:59 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:01:59 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”...'
2025-09-28 04:01:59 - httpcore.connection - DEBUG - close.started
2025-09-28 04:01:59 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:01:59 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:01:59 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa207c6d0>
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:01:59 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:01:58 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44646'), (b'content-type', b'application/json')])
2025-09-28 04:02:02 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:02:02 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:02:02 - httpcore.connection - DEBUG - close.started
2025-09-28 04:02:02 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:02:02 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:02:02 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa2084a50>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 19:02:01 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 04:02:02 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search-sql-filter "HTTP/1.1 404 Not Found"
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:02:02 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 404
2025-09-28 04:02:02 - httpcore.connection - DEBUG - close.started
2025-09-28 04:02:02 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:02:02 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:02:02 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3aa21c5150>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:02:01 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:02:02 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:02:02 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:02:02 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:02:02 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 04:02:02 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:02:02 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (2.77ì´ˆ)
2025-09-28 04:02:02 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:02:02 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:02:02 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:02:02 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:02:02 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:02:02 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:04:05 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:04:05 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:04:05 - main - INFO - ==================================================
2025-09-28 04:04:05 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:04:05 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:04:05 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:04:05 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:04:05 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:04:05 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:04:05 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:04:05 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:04:05 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:04:05 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:04:05 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:04:21 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: default, stream: False
2025-09-28 04:04:21 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜...
2025-09-28 04:04:21 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜...'
2025-09-28 04:04:21 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:04:21 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3d62e927-fac9-4703-a56a-e43504c2db27', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:04:21 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:04:21 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:04:21 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3ddea42d10>
2025-09-28 04:04:21 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3ddef9acc0> server_hostname='api.openai.com' timeout=None
2025-09-28 04:04:21 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3ddea43290>
2025-09-28 04:04:21 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:04:21 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:04:21 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:04:21 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:04:21 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:04:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2689'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2702'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998110'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_96a137084a084aa694f156f616848d69'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=0jWXdOosXfoNhH23wT75OYmh.qGfvFmEQf_nLBvH7Uc-1758999864-1.0.1.1-IKXzADgqInLCMGDBH34U_r0L9av9DEXipdgo7aguMaCTKZ49Ap1Sik2796TWbvj7KFshKuJOp_2EHojMHXkiX_shLk71kuoQ8NN_LDNobYM; path=/; expires=Sat, 27-Sep-25 19:34:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=6kcFLGGnCD4IeNe7xvnpvPL.Ni6vAYtKpN2Y3hPQ7ik-1758999864027-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d442c3e9e018f-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:04:24 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:04:24 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:04:24 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2689'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2702'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998110'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_96a137084a084aa694f156f616848d69'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=0jWXdOosXfoNhH23wT75OYmh.qGfvFmEQf_nLBvH7Uc-1758999864-1.0.1.1-IKXzADgqInLCMGDBH34U_r0L9av9DEXipdgo7aguMaCTKZ49Ap1Sik2796TWbvj7KFshKuJOp_2EHojMHXkiX_shLk71kuoQ8NN_LDNobYM; path=/; expires=Sat, 27-Sep-25 19:34:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=6kcFLGGnCD4IeNe7xvnpvPL.Ni6vAYtKpN2Y3hPQ7ik-1758999864027-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d442c3e9e018f-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:04:24 - openai._base_client - DEBUG - request_id: req_96a137084a084aa694f156f616848d69
2025-09-28 04:04:24 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 671ì í…ìŠ¤íŠ¸
2025-09-28 04:04:24 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 659ì, 7ê°œ í•„ë“œ
2025-09-28 04:04:24 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:04:24 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:04:24 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:04:24 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜'
2025-09-28 04:04:24 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses available in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:04:24 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-339676b0-5c50-4976-98cc-80c1141ac5f9', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:04:24 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:04:24 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:04:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5916'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5956'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_231eba77232e48ffb592bdd178c4a55f'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d443e4e81018f-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:04:30 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:04:30 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:04:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5916', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '5956', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_231eba77232e48ffb592bdd178c4a55f', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d443e4e81018f-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:04:30 - openai._base_client - DEBUG - request_id: req_231eba77232e48ffb592bdd178c4a55f
2025-09-28 04:04:30 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1927ì í…ìŠ¤íŠ¸
2025-09-28 04:04:30 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:04:30 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:04:30 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:04:30 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:04:30 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:04:30 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:04:30 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (9.14ì´ˆ)
2025-09-28 04:04:30 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:04:30 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜...'
2025-09-28 04:04:30 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:04:30 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3dde9dcc10>
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:04:30 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:04:29 GMT'), (b'server', b'uvicorn'), (b'content-length', b'9616'), (b'content-type', b'application/json')])
2025-09-28 04:04:31 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:04:31 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:04:31 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:04:31 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3dde0c2690>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Sat, 27 Sep 2025 19:04:30 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-09-28 04:04:31 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search-sql-filter "HTTP/1.1 404 Not Found"
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:04:31 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 404
2025-09-28 04:04:31 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:04:31 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f3dde0c3a10>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:04:31 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:04:31 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:04:31 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:04:31 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:04:31 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 04:04:31 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:04:31 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (1.74ì´ˆ)
2025-09-28 04:04:31 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:04:31 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:04:31 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:04:31 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:04:31 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:04:31 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:05:18 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:05:18 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:05:18 - main - INFO - ==================================================
2025-09-28 04:05:18 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:05:18 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:05:18 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:05:18 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:05:18 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:05:18 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:05:18 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:05:18 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:05:18 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:05:18 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:05:18 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:05:30 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: default, stream: False
2025-09-28 04:05:30 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì•ˆë…•í•˜ì„¸ìš” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤...
2025-09-28 04:05:30 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤...'
2025-09-28 04:05:30 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:05:30 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-cd616ad4-97f2-4906-80b6-85d925582285', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì•ˆë…•í•˜ì„¸ìš” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:05:30 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:05:30 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:05:30 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa4c4f2dad0>
2025-09-28 04:05:30 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fa4c5613bf0> server_hostname='api.openai.com' timeout=None
2025-09-28 04:05:30 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa4c4f37390>
2025-09-28 04:05:30 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:05:30 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:05:30 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:05:30 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:05:30 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:05:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2965'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2989'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998118'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_63c02d8490224b6e90ed87afac78e6a6'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Skt8VPdcZs.nsnRexApsoNjDh6zWlQM8kSW.e1dNQNk-1758999934-1.0.1.1-gJvvEDgTAKPMi4sYh_dOGCJMLpp_oCXzg.Ar9r6Bws_3G5gC1c5C8mhF8Mrs9GkyUxrK3P_X70giErr_desYY.3ZijPKYZdhi_AyIqPC9xk; path=/; expires=Sat, 27-Sep-25 19:35:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=jMJS_0TNPQcZzGaxR2MdgcMi02vH3w6oWfBUr8cI76c-1758999934158-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d45e0bcc13176-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:05:34 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:05:34 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:05:34 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2965'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2989'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998118'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_63c02d8490224b6e90ed87afac78e6a6'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Skt8VPdcZs.nsnRexApsoNjDh6zWlQM8kSW.e1dNQNk-1758999934-1.0.1.1-gJvvEDgTAKPMi4sYh_dOGCJMLpp_oCXzg.Ar9r6Bws_3G5gC1c5C8mhF8Mrs9GkyUxrK3P_X70giErr_desYY.3ZijPKYZdhi_AyIqPC9xk; path=/; expires=Sat, 27-Sep-25 19:35:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=jMJS_0TNPQcZzGaxR2MdgcMi02vH3w6oWfBUr8cI76c-1758999934158-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d45e0bcc13176-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:05:34 - openai._base_client - DEBUG - request_id: req_63c02d8490224b6e90ed87afac78e6a6
2025-09-28 04:05:34 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 601ì í…ìŠ¤íŠ¸
2025-09-28 04:05:34 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 589ì, 7ê°œ í•„ë“œ
2025-09-28 04:05:34 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:05:34 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:05:34 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:05:34 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì•ˆë…•í•˜ì„¸ìš” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤'
2025-09-28 04:05:34 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì•ˆë…•í•˜ì„¸ìš” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: The user is initiating a conversation, possibly for testing purposes. | ê´€ë ¨í‚¤ì›Œë“œ: í…ŒìŠ¤íŠ¸, ì•ˆë…•í•˜ì„¸ìš”'
2025-09-28 04:05:34 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-efa2e322-0c88-485a-8385-55dfd8babe58', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:05:34 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:05:34 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:05:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5783'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5805'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_41ce1595087941ad9e407dbd85c56c77'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d45f4a8793176-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:05:40 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:05:40 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:05:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5783', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '5805', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_41ce1595087941ad9e407dbd85c56c77', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d45f4a8793176-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:05:40 - openai._base_client - DEBUG - request_id: req_41ce1595087941ad9e407dbd85c56c77
2025-09-28 04:05:40 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1814ì í…ìŠ¤íŠ¸
2025-09-28 04:05:40 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:05:40 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:05:40 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:05:40 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:05:40 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:05:40 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:05:40 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (9.22ì´ˆ)
2025-09-28 04:05:40 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:05:40 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì•ˆë…•í•˜ì„¸ìš” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤...'
2025-09-28 04:05:40 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:05:40 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fa4c4f10cd0>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:05:39 GMT'), (b'server', b'uvicorn'), (b'content-length', b'357579'), (b'content-type', b'application/json')])
2025-09-28 04:05:40 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:05:40 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:05:40 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:05:40 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fa4c4dab190>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:05:40 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 19:05:40 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 04:05:41 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 500 Internal Server Error"
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:05:41 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 500
2025-09-28 04:05:41 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:05:41 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fa4c4dc06d0>
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:05:41 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:05:44 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 19:05:41 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 04:05:44 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 500 Internal Server Error"
2025-09-28 04:05:44 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:05:44 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:05:44 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:05:44 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:05:44 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:05:44 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 04:05:44 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:05:44 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (4.00ì´ˆ)
2025-09-28 04:05:44 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:05:44 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:05:44 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:05:44 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:05:44 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:05:44 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:06:29 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:06:29 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:06:29 - main - INFO - ==================================================
2025-09-28 04:06:29 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:06:29 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:06:29 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:06:29 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:06:29 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:06:29 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:06:29 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:06:29 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:06:29 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:06:29 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:06:29 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:06:42 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test, stream: False
2025-09-28 04:06:42 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:06:42 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:06:42 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:06:42 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d95e37be-1d03-40d3-9804-c412c32ad750', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:06:42 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:06:42 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:06:42 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f51d603fdd0>
2025-09-28 04:06:42 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f51d6596cc0> server_hostname='api.openai.com' timeout=None
2025-09-28 04:06:42 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f51d603f910>
2025-09-28 04:06:42 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:06:42 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:06:42 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:06:42 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:06:42 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:06:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2144'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2312'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998114'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_3b7c4c4c5fcb4ea7a12a882cdb59a0a4'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=0Lf6J09rSUz5_XPvpzVvwCAgH_EazXIzyhBPuz5RfdI-1759000005-1.0.1.1-5dYawIRPdLY9kGzP7rjsmEVZad0oFivzDT5QpdaTYHM_BD2i7H4w5aHc_1WF2ikUDBVjeFNCm8klq54WdEKEJ7QYdJRAaxMSUUg08P9xtX0; path=/; expires=Sat, 27-Sep-25 19:36:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=usmbFQIc3394dbvAw2CEHKVmLnY2W_qF80rNjtVdUhM-1759000005442-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d47a23f53bcc4-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:06:45 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:06:45 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:06:45 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2144'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2312'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998114'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_3b7c4c4c5fcb4ea7a12a882cdb59a0a4'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=0Lf6J09rSUz5_XPvpzVvwCAgH_EazXIzyhBPuz5RfdI-1759000005-1.0.1.1-5dYawIRPdLY9kGzP7rjsmEVZad0oFivzDT5QpdaTYHM_BD2i7H4w5aHc_1WF2ikUDBVjeFNCm8klq54WdEKEJ7QYdJRAaxMSUUg08P9xtX0; path=/; expires=Sat, 27-Sep-25 19:36:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=usmbFQIc3394dbvAw2CEHKVmLnY2W_qF80rNjtVdUhM-1759000005442-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d47a23f53bcc4-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:06:45 - openai._base_client - DEBUG - request_id: req_3b7c4c4c5fcb4ea7a12a882cdb59a0a4
2025-09-28 04:06:45 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 694ì í…ìŠ¤íŠ¸
2025-09-28 04:06:45 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 682ì, 7ê°œ í•„ë“œ
2025-09-28 04:06:45 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:06:45 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:06:45 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:06:45 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:06:45 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended curriculum and courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´í“¨í„°ê³µí•™, ì»¤ë¦¬í˜ëŸ¼, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹'
2025-09-28 04:06:45 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-38d6a84e-1a6f-462e-8e66-267ed9ca9ae3', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:06:45 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:06:45 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:06:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2517'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2536'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_e90591960d0a457fafe7acae82b00061'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d47b22c74bcc4-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:06:48 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:06:48 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:06:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2517', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2536', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_e90591960d0a457fafe7acae82b00061', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d47b22c74bcc4-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:06:48 - openai._base_client - DEBUG - request_id: req_e90591960d0a457fafe7acae82b00061
2025-09-28 04:06:48 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 728ì í…ìŠ¤íŠ¸
2025-09-28 04:06:48 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:06:48 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:06:48 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:06:48 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:06:48 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:06:48 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:06:48 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (5.30ì´ˆ)
2025-09-28 04:06:48 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:06:48 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:06:48 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:06:48 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f51d56790d0>
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:06:48 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:06:47 GMT'), (b'server', b'uvicorn'), (b'content-length', b'9616'), (b'content-type', b'application/json')])
2025-09-28 04:06:51 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:06:51 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:06:51 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:06:51 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f51d56aa7d0>
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:06:51 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:06:51 GMT'), (b'server', b'uvicorn'), (b'content-length', b'14'), (b'content-type', b'application/json')])
2025-09-28 04:06:53 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 200 OK"
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:06:53 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:06:53 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f51d56abb90>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:06:52 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:06:53 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:06:53 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:06:53 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:06:53 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 04:06:53 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:06:53 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (5.73ì´ˆ)
2025-09-28 04:06:53 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:06:53 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:06:53 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:06:53 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:06:53 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:06:53 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:07:32 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: default, stream: False
2025-09-28 04:07:32 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ì¶”ì²œí•´ì¤˜...
2025-09-28 04:07:32 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ì¶”ì²œí•´ì¤˜...'
2025-09-28 04:07:32 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:07:32 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2a9538b9-1d76-4b85-be15-a4f8515f48e2', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ ì¶”ì²œí•´ì¤˜\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:07:32 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:07:32 - httpcore.connection - DEBUG - close.started
2025-09-28 04:07:32 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:07:32 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:07:32 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f51d56ca110>
2025-09-28 04:07:32 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f51d6596cc0> server_hostname='api.openai.com' timeout=None
2025-09-28 04:07:32 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f51d56ca210>
2025-09-28 04:07:32 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:07:32 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:07:32 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:07:32 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:07:32 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:07:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2257'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2268'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998118'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_b9130d0cc2794886a815e36faf4fb691'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d48db38a3018f-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:07:35 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:07:35 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:07:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2257', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2268', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998118', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_b9130d0cc2794886a815e36faf4fb691', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d48db38a3018f-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:07:35 - openai._base_client - DEBUG - request_id: req_b9130d0cc2794886a815e36faf4fb691
2025-09-28 04:07:35 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 663ì í…ìŠ¤íŠ¸
2025-09-28 04:07:35 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 651ì, 7ê°œ í•„ë“œ
2025-09-28 04:07:35 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:07:35 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:07:35 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:07:35 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ ì¶”ì²œí•´ì¤˜'
2025-09-28 04:07:35 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ ì¶”ì²œí•´ì¤˜

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommendations related to the Computer Science department. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´í“¨í„°ê³µí•™, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:07:35 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-40418439-d845-4989-be07-7fbf9c527d69', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:07:35 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:07:35 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:07:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'3492'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3516'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_16e4d482b36d4a81a2b1fb254ddfd05d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d48ea997a018f-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:07:39 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:07:39 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:07:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '3492', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '3516', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_16e4d482b36d4a81a2b1fb254ddfd05d', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d48ea997a018f-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:07:39 - openai._base_client - DEBUG - request_id: req_16e4d482b36d4a81a2b1fb254ddfd05d
2025-09-28 04:07:39 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1128ì í…ìŠ¤íŠ¸
2025-09-28 04:07:39 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:07:39 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:07:39 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:07:39 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:07:39 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:07:39 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:07:39 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (6.18ì´ˆ)
2025-09-28 04:07:39 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:07:39 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ì¶”ì²œí•´ì¤˜...'
2025-09-28 04:07:39 - httpcore.connection - DEBUG - close.started
2025-09-28 04:07:39 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:07:39 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:07:39 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f51d6031ad0>
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:07:39 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:07:38 GMT'), (b'server', b'uvicorn'), (b'content-length', b'10052'), (b'content-type', b'application/json')])
2025-09-28 04:07:40 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:07:40 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:07:40 - httpcore.connection - DEBUG - close.started
2025-09-28 04:07:40 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:07:40 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:07:40 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f51d56d21d0>
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:07:40 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:07:40 GMT'), (b'server', b'uvicorn'), (b'content-length', b'14'), (b'content-type', b'application/json')])
2025-09-28 04:07:42 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 200 OK"
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:07:42 - httpcore.connection - DEBUG - close.started
2025-09-28 04:07:42 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:07:42 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:07:42 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f51d600bf50>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:07:42 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:07:42 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:07:42 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:07:42 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:07:42 - service.nodes.query_route.heavy_nodes - WARNING - âš ï¸ [HEAVY] curriculum í•¸ë“¤ëŸ¬ ì‚¬ìš© ë¶ˆê°€
2025-09-28 04:07:42 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 2ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:07:42 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (3.43ì´ˆ)
2025-09-28 04:07:42 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:07:42 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:07:42 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:07:42 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:07:42 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:07:42 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:07:47 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:07:47 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:07:47 - main - INFO - ==================================================
2025-09-28 04:07:47 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:07:47 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:07:47 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:07:47 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:07:47 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:07:47 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:07:47 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:07:47 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:07:47 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:07:47 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:07:47 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:08:10 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test2, stream: False
2025-09-28 04:08:10 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:08:10 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:08:10 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:08:10 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-58b49301-9017-4f21-8833-5de963166f57', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:08:10 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:08:10 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:08:10 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7faef38a9650>
2025-09-28 04:08:10 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7faef3ee3c80> server_hostname='api.openai.com' timeout=None
2025-09-28 04:08:10 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7faef38b7d50>
2025-09-28 04:08:10 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:08:10 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:08:10 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:08:10 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:08:10 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:08:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'3200'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3225'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998114'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_b9c9810e2a1a413fa1f1f46f90e32b49'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=TuS7LSRSBvkuc3STx2fTJ6uGmJQoZKr5iDDYeKi3MMk-1759000094-1.0.1.1-tN8LamoAeuokri7TnJslmvPKagfBV.Vy1WbK5gwYElkBUjlqCbN77_VEdrLTfG6qHuosGBsp6EgCj2aTMduWhVDYm5WePo2Fj690LN_Z2RM; path=/; expires=Sat, 27-Sep-25 19:38:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=N_.p7Ib1JoeoVgi9RNA5iYBg2zoU3_BpQACUIjT3Rdk-1759000094297-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d49c81b9fea92-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:08:14 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:08:14 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:08:14 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '3200'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '3225'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998114'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_b9c9810e2a1a413fa1f1f46f90e32b49'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=TuS7LSRSBvkuc3STx2fTJ6uGmJQoZKr5iDDYeKi3MMk-1759000094-1.0.1.1-tN8LamoAeuokri7TnJslmvPKagfBV.Vy1WbK5gwYElkBUjlqCbN77_VEdrLTfG6qHuosGBsp6EgCj2aTMduWhVDYm5WePo2Fj690LN_Z2RM; path=/; expires=Sat, 27-Sep-25 19:38:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=N_.p7Ib1JoeoVgi9RNA5iYBg2zoU3_BpQACUIjT3Rdk-1759000094297-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d49c81b9fea92-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:08:14 - openai._base_client - DEBUG - request_id: req_b9c9810e2a1a413fa1f1f46f90e32b49
2025-09-28 04:08:14 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 670ì í…ìŠ¤íŠ¸
2025-09-28 04:08:14 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 658ì, 7ê°œ í•„ë“œ
2025-09-28 04:08:14 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:08:14 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:08:14 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:08:14 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:08:14 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for curriculum recommendations in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´í“¨í„°ê³µí•™, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:08:14 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7ce75043-0783-4f05-93f3-7c5f519fb93a', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:08:14 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:08:14 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:08:19 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:08:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5475'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5496'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_78843f1715ec435da72f9edf06813c36'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d49dd7b92ea92-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:08:19 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:08:19 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:08:20 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:08:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5475', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '5496', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_78843f1715ec435da72f9edf06813c36', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d49dd7b92ea92-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:08:20 - openai._base_client - DEBUG - request_id: req_78843f1715ec435da72f9edf06813c36
2025-09-28 04:08:20 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 2200ì í…ìŠ¤íŠ¸
2025-09-28 04:08:20 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:08:20 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 717ì, 11ê°œ í•„ë“œ
2025-09-28 04:08:20 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 689ì, 11ê°œ í•„ë“œ
2025-09-28 04:08:20 - utils.json_utils - INFO - ğŸ” 3ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:08:20 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:08:20 - utils.json_utils - DEBUG - ğŸ” JSON #2: complexity=heavy, score=6
2025-09-28 04:08:20 - utils.json_utils - DEBUG - ğŸ” JSON #3: complexity=heavy, score=6
2025-09-28 04:08:20 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:08:20 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:08:20 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:08:20 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (9.13ì´ˆ)
2025-09-28 04:08:20 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:08:20 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:08:20 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:08:20 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef37086d0>
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:08:20 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:08:19 GMT'), (b'server', b'uvicorn'), (b'content-length', b'9616'), (b'content-type', b'application/json')])
2025-09-28 04:08:23 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:08:23 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:08:23 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:08:23 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef38d3dd0>
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:08:23 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:08:22 GMT'), (b'server', b'uvicorn'), (b'content-length', b'14'), (b'content-type', b'application/json')])
2025-09-28 04:08:24 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 200 OK"
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:08:24 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:08:24 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef3743cd0>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:08:24 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:08:24 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:08:24 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - 
============================================================
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ“š ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸ ì²˜ë¦¬ ì‹œì‘
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ“¥ ì‚¬ìš©ì ì§ˆë¬¸: ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ“Š ì¿¼ë¦¬ ë¶„ì„ ë°ì´í„°: {}
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ”§ ì¶”ê°€ ì¸ì: {'messages': [HumanMessage(content='ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”', additional_kwargs={}, response_metadata={}, id='b9ee0fe7-0a36-497b-8fb6-6033f02696d2')], 'user_query': 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”', 'session_id': 'test2', 'conversation_memory': <service.memory.memory.ConversationMemory object at 0x7faef3c874d0>, 'route': 'heavy', 'complexity': 'heavy', 'plan': [], 'routing_reason': 'ì „ì „ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €', 'expanded_query': 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for curriculum recommendations in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´í“¨í„°ê³µí•™, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´', 'keywords': 'ì»´í“¨í„°ê³µí•™ê³¼,ì»´í“¨í„°ê³µí•™,í”„ë¡œê·¸ë˜ë°,ì•Œê³ ë¦¬ì¦˜,ë°ì´í„°êµ¬ì¡°,AI,ë¨¸ì‹ ëŸ¬ë‹,ì†Œí”„íŠ¸ì›¨ì–´', 'slots': {}, 'processing_type': None, 'final_result': None, 'step_times': {'router': 9.132400035858154}, 'retry_count': 0, 'parallel_tasks': []}
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ: ì •ìƒ
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸŒ ë² ì´ìŠ¤ URL: http://curriculum:7996
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œì‘
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ HTTP í†µì‹  ì‹œì‘
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ“¦ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ìš”ì²­ ë°ì´í„°:
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO -   ğŸ“ ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO -   ğŸ“Š ìš”êµ¬ í•™ê³¼ ìˆ˜: 30
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO -   ğŸ¯ ì„¸ì…˜ ID: test2
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸŒ HTTP ìš”ì²­: POST http://curriculum:7996/chat
2025-09-28 04:08:24 - handlers.curriculum_handler - INFO - ğŸ“¡ HTTP ìš”ì²­ ì „ì†¡ ì¤‘...
2025-09-28 04:08:24 - httpcore.connection - DEBUG - connect_tcp.started host='curriculum' port=7996 local_address=None timeout=120.0 socket_options=None
2025-09-28 04:08:24 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef375d490>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:08:24 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:08:54 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:08:24 GMT'), (b'server', b'uvicorn'), (b'content-length', b'7374'), (b'content-type', b'application/json')])
2025-09-28 04:08:54 - httpx - INFO - HTTP Request: POST http://curriculum:7996/chat "HTTP/1.1 200 OK"
2025-09-28 04:08:54 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:08:54 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:08:54 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:08:54 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - ğŸ“¨ HTTP ì‘ë‹µ ìˆ˜ì‹ : 200
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - âœ… JSON íŒŒì‹± ì„±ê³µ
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë©”ì‹œì§€ ê¸¸ì´: 3354ì
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì²˜ë¦¬ ì„±ê³µ
2025-09-28 04:08:54 - httpcore.connection - DEBUG - close.started
2025-09-28 04:08:54 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - ğŸ“¡ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ì‘ë‹µ: {'success': True, 'message': 'ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ì§€ì‹ì„ ìŠµë“í•˜ê³ , ì‹¤ë¬´ì—ì„œ í™œìš© ê°€ëŠ¥í•œ í”„ë¡œê·¸ë˜ë° ë° ì‹œìŠ¤í…œ ì„¤ê³„ ëŠ¥ë ¥ì„ ë°°ìš°ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì‹œìŠ¤í…œ ì„¤ê³„, ë°ì´í„° ë¶„ì„ ë“±ì˜ ë¶„ì•¼ì—ì„œ ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì»´í“¨í„° ì‹œìŠ¤í…œ ì„¤ê³„.\n4. ì§ì—…: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nìµœì¢… ì¿¼ë¦¬: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nì •ì˜: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œì˜ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ê³„, ê°œë°œ, í…ŒìŠ¤íŠ¸, ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ì „ë¬¸ê°€ì´ë‹¤. ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ìš”êµ¬ì— ë§ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì†”ë£¨ì…˜ì„ ì œê³µí•œë‹¤.\n\nì£¼ìš” ì—­í• :\n- ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ë° ê°œë°œ\n- ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë° ì‹œìŠ¤í…œ ì„¤ê³„\n- ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´(C++, Java, Python ë“±)ë¥¼ í™œìš©í•œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ\n- ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…ì„ í†µí•œ í’ˆì§ˆ ë³´ì¦\n\n- ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„\n- ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì˜ êµ¬ì¡° ì„¤ê³„ ë° ìµœì í™”\n- í´ë¼ìš°ë“œ ì»´í“¨íŒ… í™˜ê²½ì—ì„œì˜ ì‹œìŠ¤í…œ ë°°í¬ ë° ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ê´€ë¦¬\n\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—…\n- ì• ìì¼(Agile) ë°©ë²•ë¡ ì„ í™œìš©í•œ í”„ë¡œì íŠ¸ ê´€ë¦¬\n- íŒ€ì› ê°„ì˜ í˜‘ì—… ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ í†µí•œ íš¨ìœ¨ì ì¸ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ìœ ì§€\n- ê³ ê°ê³¼ì˜ ì†Œí†µì„ í†µí•œ ìš”êµ¬ì‚¬í•­ ì¡°ì • ë° í”¼ë“œë°± ë°˜ì˜\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : í”„ë¡œê·¸ë˜ë°, ì‹œìŠ¤í…œ ì„¤ê³„, ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸\n- ì§€ì‹: ì»´í“¨í„°ê³µí•™ ê¸°ì´ˆ, ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í”„ë¡œì„¸ìŠ¤\n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. í”„ë¡œê·¸ë˜ë° ë° ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ\n- ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°(OOP) ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ë²•\n- ì›¹ ê°œë°œ(HTML, CSS, JavaScript) ë° ëª¨ë°”ì¼ ì•± ê°œë°œ(Android, iOS)\n- ë°ì´í„° êµ¬ì¡° ë° ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„\n\n2. ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì•„í‚¤í…ì²˜\n- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ë° RESTful API ì„¤ê³„\n- í´ë¼ìš°ë“œ í”Œë«í¼(AWS, Azure, GCP) í™œìš©\n- ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(MySQL, PostgreSQL, MongoDB) ì„¤ê³„\n\n3. ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ ë³´ì¦\n- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸, ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ê¸°ë²•\n- ìë™í™” í…ŒìŠ¤íŠ¸ ë„êµ¬(Selenium, JUnit, TestNG) í™œìš©\n- ì§€ì†ì  í†µí•©/ì§€ì†ì  ë°°í¬(CI/CD) íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n\n4. í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—…\n- ì• ìì¼(Agile) ë° ìŠ¤í¬ëŸ¼(Scrum) ë°©ë²•ë¡  ì ìš©\n- ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Git, SVN) í™œìš©\n- í˜‘ì—… ë„êµ¬(JIRA, Confluence, Slack) ì‚¬ìš©\n\n5. ì‹¤ë¬´ì—ì„œ í™œìš©ë˜ëŠ” íˆ´ ë° í”Œë«í¼\n- í†µí•© ê°œë°œ í™˜ê²½(IDE) ì‚¬ìš© (Eclipse, IntelliJ, Visual Studio)\n- ì»¨í…Œì´ë„ˆí™” ë„êµ¬(Docker, Kubernetes) í™œìš©\n- DevOps ë° ìë™í™” ë„êµ¬(Jenkins, Ansible) ì‚¬ìš©\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n- ì»´í“¨í„° ê³¼í•™ ê¸°ì´ˆ(Computer Science Fundamentals) â†’ ë°ì´í„° êµ¬ì¡°, ì•Œê³ ë¦¬ì¦˜, ìš´ì˜ì²´ì œ\n- ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™(Software Engineering) â†’ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ìƒëª…ì£¼ê¸°, ìš”êµ¬ì‚¬í•­ ë¶„ì„\n- ë„¤íŠ¸ì›Œí¬(Networking) â†’ TCP/IP, HTTP, ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n- ë°ì´í„°ë² ì´ìŠ¤(Database) â†’ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤, NoSQL ë°ì´í„°ë² ì´ìŠ¤\n- í´ë¼ìš°ë“œ ì»´í“¨íŒ…(Cloud Computing) â†’ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ëª¨ë¸, ê°€ìƒí™” ê¸°ìˆ \n- ë³´ì•ˆ(Security) â†’ ì†Œí”„íŠ¸ì›¨ì–´ ë³´ì•ˆ, ì•”í˜¸í™” ê¸°ë²•\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë„êµ¬ ë° í™˜ê²½ ì„¤ì • â†’ IDE, ë¹Œë“œ ë„êµ¬(Maven, Gradle)\n- ë²„ì „ ê´€ë¦¬ ë° í˜‘ì—… â†’ Git ë¸Œëœì¹˜ ì „ëµ, ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤\n- ì„±ëŠ¥ ìµœì í™” ë° ë¬¸ì œ í•´ê²° â†’ í”„ë¡œíŒŒì¼ë§, ë©”ëª¨ë¦¬ ê´€ë¦¬, ë³‘ëª© í˜„ìƒ ë¶„ì„\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ì»´í“¨í„°ê³µí•™ì´ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ê¸°ì´ˆíšŒë¡œì‹¤í—˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸,íšŒë¡œì´ë¡  1\nê°•ì¢Œëª…: ì „ìíšŒë¡œì‹¤í—˜\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì „ìíšŒë¡œ 1\nê°•ì¢Œëª…: ì •ë³´ê²€ìƒ‰\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤\nê°•ì¢Œëª…: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ë°ì´í„°ë² ì´ìŠ¤\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ëª¨ë°”ì¼í”„ë¡œê·¸ë˜ë°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì„ í˜•ëŒ€ìˆ˜í•™\nê°•ì¢Œëª…: ë°ì´í„°ë§ˆì´ë‹\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥\nê°•ì¢Œëª…: í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì¸ì²´ì™€ì˜ë³µ\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: -\nê°•ì¢Œëª…: ì»´í“¨í„°ë¹„ì „\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥, ê¸°ê³„í•™ìŠµ\nê°•ì¢Œëª…: ì„ë² ë””ë“œì‹œìŠ¤í…œ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¦¬ëˆ…ìŠ¤í”„ë¡œê·¸ë˜ë°, ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \n\n=== ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê³¼ ===\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡  1\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì•„í‚¤í…ì²˜ì´ë¡ ê³¼ì‹¤ì œ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ìº¡ìŠ¤í†¤í”„ë¡œì íŠ¸\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†Œí”„íŠ¸ì›¨ì–´ë„ë©”ì¸ëª¨ë¸ë§\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í•´ë‹¹ì—†ìŒ\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ , ì†Œí”„íŠ¸ì›¨ì–´ê°œë°œí”„ë¡œì„¸ìŠ¤\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´í’ˆì§ˆë°í…ŒìŠ¤íŒ…\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†ŒìŠ¤ì½”ë“œë¶„ì„\nê°•ì¢Œëª…: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: JAVAí”„ë¡œê·¸ë˜ë°ë°ì‹¤ìŠµ 2\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: JAVAí”„ë¡œê·¸ë˜ë°ë°ì‹¤ìŠµ 1\nê°•ì¢Œëª…: JAVAí”„ë¡œê·¸ë˜ë°ë°ì‹¤ìŠµ 1\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ë³´ì•ˆ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ê³ ê¸‰ì›¹í”„ë¡œê·¸ë˜ë°\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì›¹í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ê³µí•™\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê°œë°œí”„ë¡œì„¸ìŠ¤\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ ', 'service': 'curriculum', 'query': 'ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”'}
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì‘ë‹µ ì„±ê³µ: 3354ì ì‘ë‹µ
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸°: ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œí•´ì£¼ì„¸ìš”

1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ì§€ì‹ì„ ìŠµë“í•˜ê³ , ì‹¤ë¬´ì—ì„œ í™œìš© ê°€ëŠ¥í•œ í”„ë¡œê·¸ë˜ë° ë° ì‹œìŠ¤í…œ ì„¤ê³„ ëŠ¥ë ¥ì„ ë°°ìš°ê³  ì‹¶ìŠµë‹ˆë‹¤.
2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì‹œìŠ¤í…œ ì„¤ê³„, ë°ì´í„° ë¶„ì„ ë“±ì˜ ë¶„ì•¼ì—ì„œ ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
3. ì§ì—… ë¶„ì•¼: ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì»´í“¨...
2025-09-28 04:08:54 - handlers.curriculum_handler - INFO - ============================================================
2025-09-28 04:08:54 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] curriculum ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:08:54 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 3ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:08:54 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (34.05ì´ˆ)
2025-09-28 04:08:54 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:08:54 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:08:54 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:08:54 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:08:54 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:08:54 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:09:21 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: default, stream: False
2025-09-28 04:09:21 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜...
2025-09-28 04:09:21 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜...'
2025-09-28 04:09:21 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:09:21 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2d230e99-1536-4662-947d-63ec1a23b681', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:09:21 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:09:21 - httpcore.connection - DEBUG - close.started
2025-09-28 04:09:21 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:09:21 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:09:21 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7faef3853890>
2025-09-28 04:09:21 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7faef3ee3c80> server_hostname='api.openai.com' timeout=None
2025-09-28 04:09:21 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7faef375f7d0>
2025-09-28 04:09:21 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:09:21 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:09:21 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:09:21 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:09:21 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:09:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2171'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2202'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998109'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_48c6061a273b49d88a35ecef40265d63'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d4b7f3a3ed1ee-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:09:23 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:09:23 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:09:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2171', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2202', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998109', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_48c6061a273b49d88a35ecef40265d63', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d4b7f3a3ed1ee-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:09:23 - openai._base_client - DEBUG - request_id: req_48c6061a273b49d88a35ecef40265d63
2025-09-28 04:09:23 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 657ì í…ìŠ¤íŠ¸
2025-09-28 04:09:23 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 645ì, 7ê°œ í•„ë“œ
2025-09-28 04:09:23 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:09:23 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:09:23 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:09:23 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜'
2025-09-28 04:09:23 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses available in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:09:23 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-69b45ba9-929e-4b85-98e4-cc63f10cf65b', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:09:23 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:09:23 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:09:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2205'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2223'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_b0a8daf4c27a4ad3862129dfc57af2b3'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d4b8e2b2ed1ee-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:09:25 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:09:25 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:09:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2205', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2223', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_b0a8daf4c27a4ad3862129dfc57af2b3', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d4b8e2b2ed1ee-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:09:25 - openai._base_client - DEBUG - request_id: req_b0a8daf4c27a4ad3862129dfc57af2b3
2025-09-28 04:09:25 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 727ì í…ìŠ¤íŠ¸
2025-09-28 04:09:25 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:09:25 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:09:25 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:09:25 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:09:25 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:09:25 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:09:25 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (4.83ì´ˆ)
2025-09-28 04:09:25 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:09:25 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜...'
2025-09-28 04:09:25 - httpcore.connection - DEBUG - close.started
2025-09-28 04:09:25 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:09:25 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:09:25 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef375f490>
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:09:25 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:09:25 GMT'), (b'server', b'uvicorn'), (b'content-length', b'9616'), (b'content-type', b'application/json')])
2025-09-28 04:09:27 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:09:27 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:09:27 - httpcore.connection - DEBUG - close.started
2025-09-28 04:09:27 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:09:27 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:09:27 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef376f590>
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:09:27 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:09:27 GMT'), (b'server', b'uvicorn'), (b'content-length', b'14'), (b'content-type', b'application/json')])
2025-09-28 04:09:29 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 200 OK"
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:09:29 - httpcore.connection - DEBUG - close.started
2025-09-28 04:09:29 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:09:29 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:09:29 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faef3770450>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:09:28 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:09:29 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:09:29 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - 
============================================================
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ“š ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸ ì²˜ë¦¬ ì‹œì‘
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ“¥ ì‚¬ìš©ì ì§ˆë¬¸: ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ“Š ì¿¼ë¦¬ ë¶„ì„ ë°ì´í„°: {}
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ”§ ì¶”ê°€ ì¸ì: {'messages': [HumanMessage(content='ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜', additional_kwargs={}, response_metadata={}, id='f3f1af2e-2198-4a33-a67a-d14f0e16c3dd')], 'user_query': 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜', 'session_id': 'default', 'conversation_memory': <service.memory.memory.ConversationMemory object at 0x7faef3c874d0>, 'route': 'heavy', 'complexity': 'heavy', 'plan': [], 'routing_reason': 'ì „ì „ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €', 'expanded_query': 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses available in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´', 'keywords': 'ì»´í“¨í„°ê³µí•™ê³¼,ì»´ê³µ,í”„ë¡œê·¸ë˜ë°,ì•Œê³ ë¦¬ì¦˜,ë°ì´í„°êµ¬ì¡°,AI,ë¨¸ì‹ ëŸ¬ë‹,ì†Œí”„íŠ¸ì›¨ì–´', 'slots': {}, 'processing_type': None, 'final_result': None, 'step_times': {'router': 4.82524037361145}, 'retry_count': 0, 'parallel_tasks': []}
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ: ì •ìƒ
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸŒ ë² ì´ìŠ¤ URL: http://curriculum:7996
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œì‘
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ HTTP í†µì‹  ì‹œì‘
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ“¦ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ìš”ì²­ ë°ì´í„°:
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO -   ğŸ“ ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO -   ğŸ“Š ìš”êµ¬ í•™ê³¼ ìˆ˜: 30
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO -   ğŸ¯ ì„¸ì…˜ ID: default
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸŒ HTTP ìš”ì²­: POST http://curriculum:7996/chat
2025-09-28 04:09:29 - handlers.curriculum_handler - INFO - ğŸ“¡ HTTP ìš”ì²­ ì „ì†¡ ì¤‘...
2025-09-28 04:09:29 - httpcore.connection - DEBUG - connect_tcp.started host='curriculum' port=7996 local_address=None timeout=120.0 socket_options=None
2025-09-28 04:09:29 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7faefa91b850>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:09:29 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:09:45 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:09:28 GMT'), (b'server', b'uvicorn'), (b'content-length', b'6931'), (b'content-type', b'application/json')])
2025-09-28 04:09:45 - httpx - INFO - HTTP Request: POST http://curriculum:7996/chat "HTTP/1.1 200 OK"
2025-09-28 04:09:45 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:09:45 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:09:45 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:09:45 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - ğŸ“¨ HTTP ì‘ë‹µ ìˆ˜ì‹ : 200
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - âœ… JSON íŒŒì‹± ì„±ê³µ
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë©”ì‹œì§€ ê¸¸ì´: 3035ì
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì²˜ë¦¬ ì„±ê³µ
2025-09-28 04:09:45 - httpcore.connection - DEBUG - close.started
2025-09-28 04:09:45 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - ğŸ“¡ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ì‘ë‹µ: {'success': True, 'message': 'ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ê³¼ëª©ì„ ìˆ˜ê°•í•˜ì—¬ ì»´í“¨í„°ê³µí•™ ì „ë°˜ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ë¬¸ì„±ì„ ê°–ì¶”ê³ , ê¸°ìˆ  ê°œë°œ ë° ì—°êµ¬ì— ê¸°ì—¬í•  ìˆ˜ ìˆëŠ” ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: ì»´í“¨í„°ê³µí•™.\n4. ì§ì—…: ì»´í“¨í„°ê³µí•™ì.\n\nìµœì¢… ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ì.\n\nì •ì˜: ì»´í“¨í„°ê³µí•™ìëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œì˜ ì„¤ê³„, ê°œë°œ, ë¶„ì„ ë° ì‘ìš©ì„ ì—°êµ¬í•˜ëŠ” ì „ë¬¸ê°€ë¡œ, ì†Œí”„íŠ¸ì›¨ì–´ì™€ í•˜ë“œì›¨ì–´ì˜ í†µí•©ì„ í†µí•´ ë‹¤ì–‘í•œ ê¸°ìˆ ì  ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  í˜ì‹ ì„ ì´ëŒì–´ë‚´ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\nì£¼ìš” ì—­í• :\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì‹œìŠ¤í…œ ì„¤ê³„\n- ì•Œê³ ë¦¬ì¦˜ ë° ë°ì´í„° êµ¬ì¡° ì„¤ê³„ ë° êµ¬í˜„\n- ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ ì‹œìŠ¤í…œ ê°œë°œ\n- ì¸ê³µì§€ëŠ¥ ë° ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ ê°œë°œ ë° ì ìš©\n- ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ê´€ë¦¬\n\n- í•˜ë“œì›¨ì–´ ì„¤ê³„ ë° ìµœì í™”\n- ì»´í“¨í„° ì•„í‚¤í…ì²˜ ë° ë§ˆì´í¬ë¡œí”„ë¡œì„¸ì„œ ì„¤ê³„\n- ì„ë² ë””ë“œ ì‹œìŠ¤í…œ ë° IoT ê¸°ê¸° ê°œë°œ\n- ë””ì§€í„¸ íšŒë¡œ ì„¤ê³„ ë° FPGA í”„ë¡œê·¸ë˜ë°\n\n- ì—°êµ¬ ë° ê¸°ìˆ  í˜ì‹ \n- ìµœì‹  ê¸°ìˆ  ë™í–¥ ë¶„ì„ ë° ì—°êµ¬\n- ìƒˆë¡œìš´ ì»´í“¨íŒ… íŒ¨ëŸ¬ë‹¤ì„ ë° ê¸°ìˆ  ê°œë°œ\n- í•™ìˆ  ë…¼ë¬¸ ì‘ì„± ë° ë°œí‘œ\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„, ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ, ì¸ê³µì§€ëŠ¥\n- ì§€ì‹: ì»´í“¨í„° ì•„í‚¤í…ì²˜, ë°ì´í„°ë² ì´ìŠ¤, ë””ì§€í„¸ íšŒë¡œ\n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° í”„ë¡œê·¸ë˜ë°\n- í”„ë¡œê·¸ë˜ë° ì–¸ì–´(C, C++, Java, Python ë“±) ìˆ™ë ¨\n- ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ ì›ì¹™ ë° ë””ìì¸ íŒ¨í„´ ì´í•´\n- ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Git) í™œìš©\n\n2. ì•Œê³ ë¦¬ì¦˜ ë° ë°ì´í„° êµ¬ì¡°\n- ì •ë ¬, ê²€ìƒ‰, ê·¸ë˜í”„ ì•Œê³ ë¦¬ì¦˜ ë“± ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜ ì´í•´\n- ë°ì´í„° êµ¬ì¡°(ë¦¬ìŠ¤íŠ¸, ìŠ¤íƒ, í, íŠ¸ë¦¬, í•´ì‹œ í…Œì´ë¸” ë“±) í™œìš©\n- ì•Œê³ ë¦¬ì¦˜ ë³µì¡ë„ ë¶„ì„ ë° ìµœì í™”\n\n3. ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ\n- TCP/IP í”„ë¡œí† ì½œ ë° ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì´í•´\n- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ê¸°ë²•(ë°©í™”ë²½, ì•”í˜¸í™”, ì¸ì¦) ì ìš©\n- ì‚¬ì´ë²„ ë³´ì•ˆ ìœ„í˜‘ ë¶„ì„ ë° ëŒ€ì‘ ì „ëµ\n\n4. ì¸ê³µì§€ëŠ¥ ë° ë¨¸ì‹ ëŸ¬ë‹\n- ì§€ë„í•™ìŠµ, ë¹„ì§€ë„í•™ìŠµ, ê°•í™”í•™ìŠµ ì•Œê³ ë¦¬ì¦˜ ì´í•´\n- ë”¥ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬(TensorFlow, PyTorch) í™œìš©\n- ë°ì´í„° ì „ì²˜ë¦¬ ë° ëª¨ë¸ í‰ê°€ ê¸°ë²•\n\n5. í•˜ë“œì›¨ì–´ ì„¤ê³„ ë° ì„ë² ë””ë“œ ì‹œìŠ¤í…œ\n- ë””ì§€í„¸ ë…¼ë¦¬ ì„¤ê³„ ë° VHDL/Verilog í”„ë¡œê·¸ë˜ë°\n- ë§ˆì´í¬ë¡œì»¨íŠ¸ë¡¤ëŸ¬ ë° ì„ë² ë””ë“œ ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë°\n- í•˜ë“œì›¨ì–´-ì†Œí”„íŠ¸ì›¨ì–´ í†µí•© ë° í…ŒìŠ¤íŠ¸\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n- ì»´í“¨í„° ì•„í‚¤í…ì²˜ â†’ CPU ì„¤ê³„, ë©”ëª¨ë¦¬ ê³„ì¸µ êµ¬ì¡°, ëª…ë ¹ì–´ ì§‘í•©\n- ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ â†’ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤, SQL, íŠ¸ëœì­ì…˜ ê´€ë¦¬\n- ìš´ì˜ì²´ì œ â†’ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬, ë©”ëª¨ë¦¬ ê´€ë¦¬, íŒŒì¼ ì‹œìŠ¤í…œ\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n- ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ë° ë³´ì•ˆ â†’ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„, ì•”í˜¸í™” ê¸°ë²•\n- ì¸ê³µì§€ëŠ¥ ë° ë¨¸ì‹ ëŸ¬ë‹ â†’ ëª¨ë¸ í•™ìŠµ, ë°ì´í„° ë§ˆì´ë‹\n- ë””ì§€í„¸ íšŒë¡œ ë° ì‹œìŠ¤í…œ ì„¤ê³„ â†’ FPGA, ASIC ì„¤ê³„\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë„êµ¬ ë° í™˜ê²½ â†’ IDE, ë””ë²„ê¹… íˆ´\n- í´ë¼ìš°ë“œ ì»´í“¨íŒ… ë° ë¶„ì‚° ì‹œìŠ¤í…œ â†’ AWS, Azure, Kubernetes\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—… íˆ´ â†’ JIRA, Confluence, Slack\n\nì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ìˆ˜ê°•í•  ìˆ˜ ìˆëŠ” ê³¼ëª©ë“¤ì€ ì´ëŸ¬í•œ ê¸°ìˆ ê³¼ ì§€ì‹ì„ ìŠµë“í•˜ëŠ” ë° í•„ìˆ˜ì ì´ë©°, ë‹¤ì–‘í•œ ë¶„ì•¼ì˜ ì „ë¬¸ì„±ì„ ê°–ì¶”ëŠ” ë° ë„ì›€ì„ ì¤„ ê²ƒì…ë‹ˆë‹¤.\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì»´í“¨í„°ê³µí•™ì´ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ê¸°ì´ˆíšŒë¡œì‹¤í—˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸,íšŒë¡œì´ë¡  1\nê°•ì¢Œëª…: ì „ìíšŒë¡œì‹¤í—˜\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì „ìíšŒë¡œ 1\nê°•ì¢Œëª…: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì •ë³´ê²€ìƒ‰\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤\nê°•ì¢Œëª…: ì¸ê³µì§€ëŠ¥\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜, í™•ë¥ ë°í†µê³„\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì•”í˜¸ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°í†µì‹ \nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë…¼ë¦¬ì„¤ê³„\nê°•ì¢Œëª…: ë…¼ë¦¬ì„¤ê³„\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì´ì‚°ìˆ˜í•™\nê°•ì¢Œëª…: í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì¸ì²´ì™€ì˜ë³µ\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: -\nê°•ì¢Œëª…: ì»´í“¨í„°ë¹„ì „\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥, ê¸°ê³„í•™ìŠµ\nê°•ì¢Œëª…: ì»´í“¨í„°ë„¤íŠ¸ì›Œí¬\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°í†µì‹ \n\n=== ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê³¼ ===\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ê³µí•™\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ìº¡ìŠ¤í†¤í”„ë¡œì íŠ¸\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†Œí”„íŠ¸ì›¨ì–´ë„ë©”ì¸ëª¨ë¸ë§\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í•´ë‹¹ì—†ìŒ\nê°•ì¢Œëª…: ì»´í“¨íŒ…ë¬¸ì œì™€ì•Œê³ ë¦¬ì¦˜\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜\nê°•ì¢Œëª…: C++í”„ë¡œê·¸ë˜ë°\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: Python í”„ë¡œê·¸ë˜ë° 1\nê°•ì¢Œëª…: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ë³´ì•ˆ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ë¦¬ëˆ…ìŠ¤ì‹œìŠ¤í…œ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì„ í˜•ëŒ€ìˆ˜í•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì´ì‚°ìˆ˜í•™\nê°•ì¢Œëª…: ì‹í’ˆê²½ì œì›ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì—†ìŒ\nê°•ì¢Œëª…: ì´ì‚°ìˆ˜í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡  1\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ë°ì´í„°í†µì‹ \n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì»´í“¨í„°êµ¬ì¡°\nê°•ì¢Œëª…: ë””ì§€í„¸ê³µí•™\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©:', 'service': 'curriculum', 'query': 'ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜'}
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì‘ë‹µ ì„±ê³µ: 3035ì ì‘ë‹µ
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸°: ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ì—ì„œ ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©ì„ ì¶”ì²œí•´ì¤˜

1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ê³¼ëª©ì„ ìˆ˜ê°•í•˜ì—¬ ì»´í“¨í„°ê³µí•™ ì „ë°˜ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.
2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ë¬¸ì„±ì„ ê°–ì¶”ê³ , ê¸°ìˆ  ê°œë°œ ë° ì—°êµ¬ì— ê¸°ì—¬í•  ìˆ˜ ìˆëŠ” ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
3. ì§ì—… ë¶„ì•¼: ì»´í“¨í„°ê³µí•™.
4. ì§ì—…: ì»´í“¨í„°ê³µí•™ì.
...
2025-09-28 04:09:45 - handlers.curriculum_handler - INFO - ============================================================
2025-09-28 04:09:45 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] curriculum ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:09:45 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 3ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:09:45 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (19.85ì´ˆ)
2025-09-28 04:09:45 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:09:45 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:09:45 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:09:45 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:09:45 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:09:45 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:11:55 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:11:55 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:11:55 - main - INFO - ==================================================
2025-09-28 04:11:55 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:11:55 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:11:55 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:11:55 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:11:55 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:11:55 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:11:55 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:11:55 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:11:55 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:11:55 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:11:55 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:12:09 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_course, stream: False
2025-09-28 04:12:09 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:12:09 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:12:09 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:12:09 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d2b1988b-f9eb-4455-9b4e-dabbd32e0c52', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:12:09 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:12:09 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:12:09 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f412493b1d0>
2025-09-28 04:12:09 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4124e92de0> server_hostname='api.openai.com' timeout=None
2025-09-28 04:12:09 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f41249474d0>
2025-09-28 04:12:09 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:09 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:09 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:09 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:09 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:12:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2215'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2295'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998115'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_f3a3df04b17b4cbbbf983b52c09fa7f4'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=W7TAfa6tyOAX.fSGMER0R1eDL4thR913.Xz0SK7CUMg-1759000332-1.0.1.1-qwU434o9jaNvc7qH9rNKBVHxJzR_w7UwEd96Jp_9cVRaAUcbsyH5AMgakkDES9_DfbMYUhO_APsxqb.Sjh0jJlJX93BjimOJqsUx1hDgUGU; path=/; expires=Sat, 27-Sep-25 19:42:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=dUx5BwDwBvLsejG2u1iZ4SJf2tjdrxTE3xdj9yUrmG4-1759000332314-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d4f9d9cb2d1f5-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:12:12 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:12 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:12:12 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2215'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2295'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998115'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_f3a3df04b17b4cbbbf983b52c09fa7f4'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=W7TAfa6tyOAX.fSGMER0R1eDL4thR913.Xz0SK7CUMg-1759000332-1.0.1.1-qwU434o9jaNvc7qH9rNKBVHxJzR_w7UwEd96Jp_9cVRaAUcbsyH5AMgakkDES9_DfbMYUhO_APsxqb.Sjh0jJlJX93BjimOJqsUx1hDgUGU; path=/; expires=Sat, 27-Sep-25 19:42:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=dUx5BwDwBvLsejG2u1iZ4SJf2tjdrxTE3xdj9yUrmG4-1759000332314-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d4f9d9cb2d1f5-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:12:12 - openai._base_client - DEBUG - request_id: req_f3a3df04b17b4cbbbf983b52c09fa7f4
2025-09-28 04:12:12 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 643ì í…ìŠ¤íŠ¸
2025-09-28 04:12:12 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 631ì, 7ê°œ í•„ë“œ
2025-09-28 04:12:12 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:12:12 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:12:12 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:12:12 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:12:12 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:12:12 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-dcedc94c-d1f9-4234-b3bf-6c46afd16943', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n3) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n4) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n5) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n6) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„ â†’ Curriculum (ë‹¨ì¼ ì „ê³µì€ SQL)\n7) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:12:12 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:12 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:12:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2259'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2278'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999155'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_0aae1e3318954f66a8a2999ee47d28b3'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d4fad1eecd1f5-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:12:14 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:14 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:12:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2259', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2278', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999155', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_0aae1e3318954f66a8a2999ee47d28b3', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d4fad1eecd1f5-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:12:14 - openai._base_client - DEBUG - request_id: req_0aae1e3318954f66a8a2999ee47d28b3
2025-09-28 04:12:14 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 728ì í…ìŠ¤íŠ¸
2025-09-28 04:12:14 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:12:14 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:12:14 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:12:14 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:12:14 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:12:14 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:12:14 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (4.99ì´ˆ)
2025-09-28 04:12:14 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:12:14 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:12:14 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:12:14 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f41249403d0>
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:14 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:12:14 GMT'), (b'server', b'uvicorn'), (b'content-length', b'10052'), (b'content-type', b'application/json')])
2025-09-28 04:12:16 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:16 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:12:16 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:12:16 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f4126a9c790>
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:16 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:12:16 GMT'), (b'server', b'uvicorn'), (b'content-length', b'14'), (b'content-type', b'application/json')])
2025-09-28 04:12:18 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 200 OK"
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:18 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:12:18 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f411ff5b290>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:12:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:12:18 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:18 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - 
============================================================
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ“š ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸ ì²˜ë¦¬ ì‹œì‘
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ“¥ ì‚¬ìš©ì ì§ˆë¬¸: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ“Š ì¿¼ë¦¬ ë¶„ì„ ë°ì´í„°: {}
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ”§ ì¶”ê°€ ì¸ì: {'messages': [HumanMessage(content='ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', additional_kwargs={}, response_metadata={}, id='f1a1ee87-09a0-4ba8-8065-904b31ca8865')], 'user_query': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', 'session_id': 'test_course', 'conversation_memory': <service.memory.memory.ConversationMemory object at 0x7f4124e77e10>, 'route': 'heavy', 'complexity': 'heavy', 'plan': [], 'routing_reason': 'ì „ì „ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €', 'expanded_query': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´', 'keywords': 'ì»´í“¨í„°ê³µí•™ê³¼,ì»´ê³µ,í”„ë¡œê·¸ë˜ë°,ì•Œê³ ë¦¬ì¦˜,ë°ì´í„°êµ¬ì¡°,AI,ë¨¸ì‹ ëŸ¬ë‹,ì†Œí”„íŠ¸ì›¨ì–´', 'slots': {}, 'processing_type': None, 'final_result': None, 'step_times': {'router': 4.986682653427124}, 'retry_count': 0, 'parallel_tasks': []}
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ: ì •ìƒ
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸŒ ë² ì´ìŠ¤ URL: http://curriculum:7996
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œì‘
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ HTTP í†µì‹  ì‹œì‘
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ“¦ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ìš”ì²­ ë°ì´í„°:
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO -   ğŸ“ ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO -   ğŸ“Š ìš”êµ¬ í•™ê³¼ ìˆ˜: 30
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO -   ğŸ¯ ì„¸ì…˜ ID: test_course
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸŒ HTTP ìš”ì²­: POST http://curriculum:7996/chat
2025-09-28 04:12:18 - handlers.curriculum_handler - INFO - ğŸ“¡ HTTP ìš”ì²­ ì „ì†¡ ì¤‘...
2025-09-28 04:12:18 - httpcore.connection - DEBUG - connect_tcp.started host='curriculum' port=7996 local_address=None timeout=120.0 socket_options=None
2025-09-28 04:12:18 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f411ff70a50>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:18 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:25 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:12:25 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:12:25 - main - INFO - ==================================================
2025-09-28 04:12:25 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:12:25 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:12:25 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:12:25 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:12:25 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:12:25 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:12:25 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:12:25 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:12:25 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:12:25 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:12:25 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:12:36 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_curriculum, stream: False
2025-09-28 04:12:36 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”...
2025-09-28 04:12:36 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”...'
2025-09-28 04:12:36 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:12:36 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c6136d3c-c456-4e01-9a73-37179184add6', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:12:36 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:12:36 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:12:36 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5c6e4d0>
2025-09-28 04:12:36 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe3b6343c80> server_hostname='api.openai.com' timeout=None
2025-09-28 04:12:36 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5c361d0>
2025-09-28 04:12:36 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:36 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:36 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:36 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:36 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:12:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2403'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2425'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998117'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_b3488e03afef4792a8ad320a5d1e4de8'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=qQU46IqtdZ_N2vk.5YYJHDq5hTuoLZEYchgpa50qTjs-1759000358-1.0.1.1-b3aAA.Fb_ieYQHOdbiicZVIR2iZY5VxDUxktcoU8mYCV5eNaSQ_yZGIg1jgz2CG1kH09MrVq2B5EbRREB7pNrrLT.HKKGoiRiwcT3XZpa4I; path=/; expires=Sat, 27-Sep-25 19:42:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ztt6y26U7EBNy9iy.YOQNU.PI7jrr_nIqH58sDBl_jQ-1759000358638-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d50413dcd3277-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:12:38 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:38 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:12:38 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '2403'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2425'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998117'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_b3488e03afef4792a8ad320a5d1e4de8'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=qQU46IqtdZ_N2vk.5YYJHDq5hTuoLZEYchgpa50qTjs-1759000358-1.0.1.1-b3aAA.Fb_ieYQHOdbiicZVIR2iZY5VxDUxktcoU8mYCV5eNaSQ_yZGIg1jgz2CG1kH09MrVq2B5EbRREB7pNrrLT.HKKGoiRiwcT3XZpa4I; path=/; expires=Sat, 27-Sep-25 19:42:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ztt6y26U7EBNy9iy.YOQNU.PI7jrr_nIqH58sDBl_jQ-1759000358638-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d50413dcd3277-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:12:38 - openai._base_client - DEBUG - request_id: req_b3488e03afef4792a8ad320a5d1e4de8
2025-09-28 04:12:38 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 721ì í…ìŠ¤íŠ¸
2025-09-28 04:12:38 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 709ì, 7ê°œ í•„ë“œ
2025-09-28 04:12:38 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:12:38 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:12:38 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:12:38 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”'
2025-09-28 04:12:38 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for information on designing an integrated curriculum, possibly involving multiple departments or interdisciplinary studies. | ê´€ë ¨í‚¤ì›Œë“œ: ìœµí•©, ì»¤ë¦¬í˜ëŸ¼, ì„¤ê³„, í†µí•©êµìœ¡, í•™ì œê°„, êµìœ¡ê³¼ì •'
2025-09-28 04:12:38 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e0d6d591-70c0-4292-891b-e1585bee7828', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[CRITICAL ê³¼ëª© ì¶”ì²œ vs ìœµí•© ì»¤ë¦¬í˜ëŸ¼ êµ¬ë¶„]\n- ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ê´€ë ¨ í‚¤ì›Œë“œ:\n  "ê³¼ëª© ì¶”ì²œ", "ê°•ì˜ ì¶”ì²œ", "ìˆ˜ì—… ì¶”ì²œ", "ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©",\n  "ì¶”ì²œí•´ì¤˜", "~ê´€ë ¨ ìˆ˜ì—…", "~ê´€ë ¨ ê°•ì˜", "~ê³¼ëª©", "~ìˆ˜ì—…"\n  â†’ Vector Search ë˜ëŠ” SQL Agent ì‚¬ìš©\n\n- ìœµí•© ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ:\n  "ìœµí•©", "ë³µìˆ˜ì „ê³µ", "ë¶€ì „ê³µ", "ë‹¤ë¥¸ í•™ê³¼", "ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",\n  "ìœµí•© ì»¤ë¦¬í˜ëŸ¼", "ë‹¤ì „ê³µ", "í•™ìŠµ ê²½ë¡œ", "ë¡œë“œë§µ"\n  â†’ Curriculum Agent ì‚¬ìš©\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum (ë¬´ì¡°ê±´ medium)\n3) ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ë˜ëŠ” SQL (ë‹¨ì¼ ì „ê³µ)\n4) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n5) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n6) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n7) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n8) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\nQ: "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+FAISS_SEARCH",\n  "category": "course_lookup",\n  "question_type": "CourseRecommendation",\n  "data_source": "DB",\n  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "í•™ê³¼ëª… ì •ê·œí™”"},\n    {"step": 2, "agent": "FAISS-Search-Agent", "goal": "ê³¼ëª© ì¶”ì²œ"}\n  ]\n}\n\nQ: "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "CURRICULUM_PLAN",\n  "category": "curriculum_design",\n  "question_type": "CurriculumDesign",\n  "data_source": "Mixed",\n  "reasoning": "ìœµí•© í‚¤ì›Œë“œ â†’ Curriculum Agent",\n  "plan": [\n    {"step": 1, "agent": "Curriculum-Agent", "goal": "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„"}\n  ]\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:12:38 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:38 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:12:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'7418'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'7435'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998802'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_f03772d63fb44bc1bc1e2d7b859d8f7d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d505198453277-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:12:46 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:46 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:12:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '7418', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '7435', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998802', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_f03772d63fb44bc1bc1e2d7b859d8f7d', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d505198453277-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:12:46 - openai._base_client - DEBUG - request_id: req_f03772d63fb44bc1bc1e2d7b859d8f7d
2025-09-28 04:12:46 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1823ì í…ìŠ¤íŠ¸
2025-09-28 04:12:46 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:12:46 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:12:46 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:12:46 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:12:46 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:12:46 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:12:46 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (10.28ì´ˆ)
2025-09-28 04:12:46 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:12:46 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”...'
2025-09-28 04:12:46 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:12:46 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5c3f510>
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:46 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:12:45 GMT'), (b'server', b'uvicorn'), (b'content-length', b'9981'), (b'content-type', b'application/json')])
2025-09-28 04:12:49 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:49 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:12:49 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:12:49 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5b16c90>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 19:12:48 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 04:12:49 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 500 Internal Server Error"
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:49 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 500
2025-09-28 04:12:49 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:12:49 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5b17fd0>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:49 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:12:50 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:12:48 GMT'), (b'server', b'uvicorn'), (b'content-length', b'60'), (b'content-type', b'application/json')])
2025-09-28 04:12:50 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:12:50 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:12:50 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:12:50 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:12:50 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:12:50 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - 
============================================================
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ“š ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸ ì²˜ë¦¬ ì‹œì‘
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ“¥ ì‚¬ìš©ì ì§ˆë¬¸: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ“Š ì¿¼ë¦¬ ë¶„ì„ ë°ì´í„°: {}
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ”§ ì¶”ê°€ ì¸ì: {'messages': [HumanMessage(content='ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”', additional_kwargs={}, response_metadata={}, id='49c8f5f7-e30c-4d34-8c32-6dd1828e71c3')], 'user_query': 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”', 'session_id': 'test_curriculum', 'conversation_memory': <service.memory.memory.ConversationMemory object at 0x7fe3fd2c8490>, 'route': 'heavy', 'complexity': 'heavy', 'plan': [], 'routing_reason': 'ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €', 'expanded_query': 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for information on designing an integrated curriculum, possibly involving multiple departments or interdisciplinary studies. | ê´€ë ¨í‚¤ì›Œë“œ: ìœµí•©, ì»¤ë¦¬í˜ëŸ¼, ì„¤ê³„, í†µí•©êµìœ¡, í•™ì œê°„, êµìœ¡ê³¼ì •', 'keywords': 'ìœµí•©,ì»¤ë¦¬í˜ëŸ¼,ì„¤ê³„,í†µí•©êµìœ¡,í•™ì œê°„,êµìœ¡ê³¼ì •', 'slots': {}, 'processing_type': None, 'final_result': None, 'step_times': {'router': 10.278541326522827}, 'retry_count': 0, 'parallel_tasks': []}
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ: ì •ìƒ
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸŒ ë² ì´ìŠ¤ URL: http://curriculum:7996
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œì‘
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ HTTP í†µì‹  ì‹œì‘
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸ“¦ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ìš”ì²­ ë°ì´í„°:
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO -   ğŸ“ ì¿¼ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO -   ğŸ“Š ìš”êµ¬ í•™ê³¼ ìˆ˜: 30
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO -   ğŸ¯ ì„¸ì…˜ ID: test_curriculum
2025-09-28 04:12:50 - handlers.curriculum_handler - INFO - ğŸŒ HTTP ìš”ì²­: POST http://curriculum:7996/chat
2025-09-28 04:12:51 - handlers.curriculum_handler - INFO - ğŸ“¡ HTTP ìš”ì²­ ì „ì†¡ ì¤‘...
2025-09-28 04:12:51 - httpcore.connection - DEBUG - connect_tcp.started host='curriculum' port=7996 local_address=None timeout=120.0 socket_options=None
2025-09-28 04:12:51 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5b2d950>
2025-09-28 04:12:51 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:12:51 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:12:51 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:12:51 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:12:51 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:13:07 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:12:50 GMT'), (b'server', b'uvicorn'), (b'content-length', b'7459'), (b'content-type', b'application/json')])
2025-09-28 04:13:07 - httpx - INFO - HTTP Request: POST http://curriculum:7996/chat "HTTP/1.1 200 OK"
2025-09-28 04:13:07 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:13:07 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:13:07 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:13:07 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - ğŸ“¨ HTTP ì‘ë‹µ ìˆ˜ì‹ : 200
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - âœ… JSON íŒŒì‹± ì„±ê³µ
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë©”ì‹œì§€ ê¸¸ì´: 3377ì
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì²˜ë¦¬ ì„±ê³µ
2025-09-28 04:13:07 - httpcore.connection - DEBUG - close.started
2025-09-28 04:13:07 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - ğŸ“¡ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ì‘ë‹µ: {'success': True, 'message': 'ì¿¼ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ì„ í†µí•©í•˜ì—¬ ìƒˆë¡œìš´ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: í•™ë¬¸ ê°„ ìœµí•©ì„ í†µí•´ í˜ì‹ ì ì¸ êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ì„ ê°œë°œí•˜ê³ , ì´ë¥¼ í†µí•´ êµìœ¡ì˜ ì§ˆì„ í–¥ìƒì‹œí‚¤ëŠ” ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ê°œë°œ ë° êµìœ¡ í˜ì‹ .\n4. ì§ì—…: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆ.\n\nìµœì¢… ì¿¼ë¦¬: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆ.\n\nì •ì˜: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆëŠ” ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ê³¼ êµìœ¡ ì´ë¡ ì„ ìœµí•©í•˜ì—¬ í˜ì‹ ì ì´ê³  íš¨ê³¼ì ì¸ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•˜ëŠ” ì „ë¬¸ê°€ì´ë‹¤. í•™ìƒë“¤ì˜ í•™ìŠµ ê²½í—˜ì„ ê·¹ëŒ€í™”í•˜ê³ , êµìœ¡ ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆë„ë¡ ì»¤ë¦¬í˜ëŸ¼ì„ ê°œë°œí•˜ê³  í‰ê°€í•œë‹¤.\n\nì£¼ìš” ì—­í• :\n- êµìœ¡ í”„ë¡œê·¸ë¨ ì„¤ê³„ ë° ê°œë°œ\n  - í•™ìŠµ ëª©í‘œ ì„¤ì • ë° êµìœ¡ ê³¼ì • êµ¬ì¡°í™”\n  - ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì½˜í…ì¸  í†µí•© ë° ì¡°ì •\n  - êµìœ¡ ë°©ë²•ë¡  ë° í‰ê°€ ê¸°ì¤€ ê°œë°œ\n\n- í•™ë¬¸ ê°„ ìœµí•© ë° í˜ì‹ ì  êµìœ¡ ë°©ë²•ë¡  ì—°êµ¬\n  - STEM, ì¸ë¬¸í•™, ì˜ˆìˆ  ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì˜ ìœµí•© êµìœ¡ í”„ë¡œê·¸ë¨ ê°œë°œ\n  - í”„ë¡œì íŠ¸ ê¸°ë°˜ í•™ìŠµ(PBL), ë¬¸ì œ í•´ê²° í•™ìŠµ(Problem-Based Learning) ë“± í˜ì‹ ì  êµìœ¡ ë°©ë²•ë¡  ì ìš©\n  - ë””ì§€í„¸ ë„êµ¬ ë° ì˜¨ë¼ì¸ í”Œë«í¼ì„ í™œìš©í•œ í•˜ì´ë¸Œë¦¬ë“œ êµìœ¡ ëª¨ë¸ ì„¤ê³„\n\n- êµìœ¡ íš¨ê³¼ì„± í‰ê°€ ë° ê°œì„ \n  - í•™ìŠµì í”¼ë“œë°± ë° ì„±ê³¼ ë¶„ì„ì„ í†µí•œ ì»¤ë¦¬í˜ëŸ¼ ê°œì„ \n  - êµìœ¡ í”„ë¡œê·¸ë¨ì˜ íš¨ê³¼ì„± ë° íš¨ìœ¨ì„± í‰ê°€\n  - ìµœì‹  êµìœ¡ íŠ¸ë Œë“œ ë° ê¸°ìˆ ì„ ë°˜ì˜í•œ ì§€ì†ì  ì—…ë°ì´íŠ¸\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : êµìœ¡ í”„ë¡œê·¸ë¨ ì„¤ê³„, í•™ë¬¸ ê°„ ìœµí•©, êµìœ¡ ë°©ë²•ë¡  ê°œë°œ\n- ì§€ì‹: êµìœ¡í•™, í•™ìŠµ ì´ë¡ , í‰ê°€ ë°©ë²•ë¡ \n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. êµìœ¡ í”„ë¡œê·¸ë¨ ì„¤ê³„ ë° ê°œë°œ ëŠ¥ë ¥\n  - êµìœ¡ ëª©í‘œ ë° í•™ìŠµ ì„±ê³¼ ì„¤ì •\n  - êµìœ¡ ê³¼ì •ì˜ ë‹¨ê³„ì  ì„¤ê³„ ë° ì½˜í…ì¸  ê°œë°œ\n  - í•™ìŠµì ì¤‘ì‹¬ì˜ êµìœ¡ í™˜ê²½ ì¡°ì„±\n\n2. í•™ë¬¸ ê°„ ìœµí•© ë° í†µí•©ì  ì‚¬ê³ \n  - ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ í†µí•© ë° ì‘ìš©\n  - ì°½ì˜ì  ë¬¸ì œ í•´ê²° ë° ë¹„íŒì  ì‚¬ê³  ëŠ¥ë ¥\n  - ìœµí•© êµìœ¡ì„ ìœ„í•œ í˜‘ì—… ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê¸°ìˆ \n\n3. í˜ì‹ ì  êµìœ¡ ë°©ë²•ë¡  ì ìš©\n  - í”„ë¡œì íŠ¸ ê¸°ë°˜ í•™ìŠµ(PBL) ë° ë¬¸ì œ í•´ê²° í•™ìŠµ(Problem-Based Learning) ì„¤ê³„\n  - ë””ì§€í„¸ ë„êµ¬ ë° ì˜¨ë¼ì¸ í•™ìŠµ í”Œë«í¼ í™œìš©\n  - í•™ìŠµì ì°¸ì—¬ë¥¼ ìœ ë„í•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ êµìœ¡ ê¸°ë²• ê°œë°œ\n\n4. êµìœ¡ íš¨ê³¼ì„± í‰ê°€ ë° í”¼ë“œë°± ë¶„ì„\n  - í•™ìŠµì ì„±ê³¼ ë° í”¼ë“œë°± ë¶„ì„ì„ í†µí•œ ì»¤ë¦¬í˜ëŸ¼ ê°œì„ \n  - êµìœ¡ í”„ë¡œê·¸ë¨ì˜ ì§€ì†ì  í‰ê°€ ë° ì—…ë°ì´íŠ¸\n  - ë°ì´í„° ê¸°ë°˜ì˜ êµìœ¡ íš¨ê³¼ì„± ì¸¡ì • ë° ë³´ê³ \n\n5. ì‹¤ë¬´ì—ì„œ í™œìš©ë˜ëŠ” êµìœ¡ ê¸°ìˆ  ë° íˆ´\n  - êµìœ¡ ì½˜í…ì¸  ê°œë°œ íˆ´(Camtasia, Articulate Storyline ë“±)\n  - ì˜¨ë¼ì¸ í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œ(LMS) í™œìš©(Moodle, Blackboard ë“±)\n  - ë°ì´í„° ë¶„ì„ ë° ì‹œê°í™” íˆ´(Tableau, Excel ë“±)ì„ í†µí•œ êµìœ¡ ì„±ê³¼ ë¶„ì„\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n  - êµìœ¡í•™(Education) â†’ êµìœ¡ ì´ë¡  ë° í•™ìŠµ ì›ë¦¬\n  - í•™ìŠµ ì´ë¡ (Learning Theories) â†’ í•™ìŠµì ë™ê¸° ë¶€ì—¬ ë° ì°¸ì—¬ ìœ ë„\n  - í‰ê°€ ë°©ë²•ë¡ (Assessment Methodologies) â†’ í•™ìŠµ ì„±ê³¼ ì¸¡ì • ë° í‰ê°€\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n  - ìœµí•© êµìœ¡(Cross-disciplinary Education) â†’ í•™ë¬¸ ê°„ í†µí•© ë° í˜‘ì—… ì „ëµ\n  - í˜ì‹ ì  êµìœ¡ ë°©ë²•ë¡ (Innovative Pedagogies) â†’ í”„ë¡œì íŠ¸ ê¸°ë°˜ í•™ìŠµ, ë¬¸ì œ í•´ê²° í•™ìŠµ\n  - ë””ì§€í„¸ êµìœ¡ ê¸°ìˆ (Digital Education Technologies) â†’ ì˜¨ë¼ì¸ í•™ìŠµ í”Œë«í¼ ë° ë„êµ¬ í™œìš©\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n  - êµìœ¡ ì½˜í…ì¸  ê°œë°œ ë° ê´€ë¦¬ â†’ êµìœ¡ ìë£Œ ì œì‘ ë° ì—…ë°ì´íŠ¸\n  - í•™ìŠµì í”¼ë“œë°± ë° ì„±ê³¼ ë¶„ì„ â†’ êµìœ¡ í”„ë¡œê·¸ë¨ ê°œì„ ì„ ìœ„í•œ ë°ì´í„° í™œìš©\n  - êµìœ¡ íŠ¸ë Œë“œ ë° ê¸°ìˆ  ë™í–¥ íŒŒì•… â†’ ìµœì‹  êµìœ¡ í˜ì‹  ì‚¬ë¡€ ì—°êµ¬ ë° ì ìš©\n\n=== ìœµí•©ê¸°ìˆ ê³µí•™ë¶€(ITìœµí•©ê¸°ì „ê³µí•™) ===\nê°•ì¢Œëª…: ì°½ì˜ì ì¢…í•©ì„¤ê³„\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: í”„ë¡œì íŠ¸ë©ê¸°ì´ˆì¢…í•©ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ì¢…í•©ì„¤ê³„\nê°•ì¢Œëª…: í”„ë¡œì íŠ¸ë©ì¢…í•©ì„¤ê³„ 1\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í”„ë¡œì íŠ¸ë©ê¸°ì´ˆì¢…í•©ì„¤ê³„\nê°•ì¢Œëª…: ì»´í“¨í„°ì‘ìš©ì œë„ë°ì„¤ê³„\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: í”„ë¡œì íŠ¸ë©ì¢…í•©ì„¤ê³„ 2\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: í”„ë¡œì íŠ¸ë©ì‘ìš©ì¢…í•©ì„¤ê³„\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í”„ë¡œì íŠ¸ë©ê¸°ì´ˆì¢…í•©ì„¤ê³„\nê°•ì¢Œëª…: ì°¨ëŸ‰ìš©ì„ë² ë””ë“œì‹œìŠ¤í…œ\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë©”ì¹´íŠ¸ë¡œë‹‰ìŠ¤\nê°•ì¢Œëª…: CADë°ì‹¤ìŠµ\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì»´í“¨í„°ì‘ìš©ì œë„ë°ì„¤ê³„\n\n=== ë¬¸í—Œì •ë³´í•™ê³¼ ===\nê°•ì¢Œëª…: ë””ì§€í„¸ë„ì„œê´€ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í—Œì •ë³´í•™ì…ë¬¸, ì •ë³´ì„œë¹„ìŠ¤ë¡ \nê°•ì¢Œëª…: ë””ì§€í„¸ë„ì„œê´€ê¸°ìˆ ê³¼ì‹¤ì œ\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ë„ì„œê´€ë¡ \nê°•ì¢Œëª…: ì»´í“¨í„°ì •ë³´ì²˜ë¦¬\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í—Œì •ë³´í•™ì…ë¬¸\nê°•ì¢Œëª…: ë°ì´í„°ë² ì´ìŠ¤ë¡ \n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì›¹DBíƒìƒ‰\nê°•ì¢Œëª…: ë¬¸í™”ì»¨í…ì¸ ì„œë¹„ìŠ¤ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ë…ì„œêµìœ¡ë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í—Œì •ë³´í•™ì…ë¬¸\nê°•ì¢Œëª…: ë¬¸í™”ì½˜í…ì¸ ê´€ë¦¬ê¸°ìˆ \n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í™”ì»¨í…ì¸ ì„œë¹„ìŠ¤ë¡ \n\n=== ì•„ë™í•™ê³¼ ===\nê°•ì¢Œëª…: ë¶€ë¶€êµìœ¡\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°€ì¡±ê´€ê³„ë¡ \nê°•ì¢Œëª…: ì˜ìœ ì•„ë³´ìœ¡í”„ë¡œê·¸ë¨ê³¼êµêµ¬ê°œë°œ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë³´ìœ¡ê³¼ì •\nê°•ì¢Œëª…: ë³´ìœ¡ê³¼ì •\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ë¶€ëª¨êµìœ¡ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°€ì¡±ê´€ê³„ë¡ \nê°•ì¢Œëª…: ì •ì›ì„¤ê³„\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì§€í˜•ì„¤ê³„\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸¡ëŸ‰í•™ ë° ì‹¤ìŠµ, ì¡°ê²½ê³µí•™\nê°•ì¢Œëª…: ì¸¡ëŸ‰í•™ë°ì‹¤ìŠµ\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì¡°ê²½ê³µí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸¡ëŸ‰í•™ ë° ì‹¤ìŠµ\nê°•ì¢Œëª…: ê°€ì¡±ìƒí™œêµìœ¡\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°€ì¡±ê´€ê³„ë¡ \nê°•ì¢Œëª…: ì˜ìœ ì•„ë””ì§€í„¸ë¦¬í„°ëŸ¬ì‹œ\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì˜ìœ ì•„ë°œë‹¬\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ê²Œì„ë°í˜¼í•©í˜„ì‹¤\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n\n=== ìœµí•©ê¸°ìˆ ê³µí•™ë¶€(ITì‘ìš©ì‹œìŠ¤í…œê³µí•™) ===\nê°•ì¢Œëª…: ì„¼ì„œê³µí•™\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì „ê¸°ì „ìê¸°ì´ˆì‹¤í—˜\nê°•ì¢Œëª…: í‘œì¤€ì¡°ëª…ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ê³ ê¸‰í”„ë¡œê·¸ë˜ë°ì–¸ì–´\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì°½ì˜ì ê³µí•™ì„¤ê³„\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸, ì „ìì‹œìŠ¤í…œì„¤ê³„\nê°•ì¢Œëª…: ë©€í‹°ë¯¸ë””ì–´ì‹œìŠ¤í…œ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë°”í”„ë¡œê·¸ë˜ë°', 'service': 'curriculum', 'query': 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”'}
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì‘ë‹µ ì„±ê³µ: 3377ì ì‘ë‹µ
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸°: ì¿¼ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”

1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ì„ í†µí•©í•˜ì—¬ ìƒˆë¡œìš´ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
2. ì§„ë¡œ ëª©í‘œ: í•™ë¬¸ ê°„ ìœµí•©ì„ í†µí•´ í˜ì‹ ì ì¸ êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ì„ ê°œë°œí•˜ê³ , ì´ë¥¼ í†µí•´ êµìœ¡ì˜ ì§ˆì„ í–¥ìƒì‹œí‚¤ëŠ” ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
3. ì§ì—… ë¶„ì•¼: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ê°œë°œ ë° êµìœ¡ í˜ì‹ .
4. ì§ì—…: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””...
2025-09-28 04:13:07 - handlers.curriculum_handler - INFO - ============================================================
2025-09-28 04:13:07 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] curriculum ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:13:07 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 3ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:13:07 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (21.60ì´ˆ)
2025-09-28 04:13:07 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:13:07 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:13:07 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:13:07 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:13:07 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:13:07 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:13:21 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test_db, stream: False
2025-09-28 04:13:21 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:13:21 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:13:21 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:13:21 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-97ef5dfc-01c2-4e2a-ae52-8f493e037a01', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\në°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:13:21 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:13:21 - httpcore.connection - DEBUG - close.started
2025-09-28 04:13:21 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:13:21 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:13:21 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5ca4a90>
2025-09-28 04:13:21 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe3b6343c80> server_hostname='api.openai.com' timeout=None
2025-09-28 04:13:21 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5b2fcd0>
2025-09-28 04:13:21 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:13:21 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:13:21 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:13:21 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:13:21 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:13:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2528'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2557'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998113'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_3fce3c4753e2452aa64dc9aa7b4b70dd'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d515c68e9aa72-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:13:24 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:13:24 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:13:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2528', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2557', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998113', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_3fce3c4753e2452aa64dc9aa7b4b70dd', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d515c68e9aa72-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:13:24 - openai._base_client - DEBUG - request_id: req_3fce3c4753e2452aa64dc9aa7b4b70dd
2025-09-28 04:13:24 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 662ì í…ìŠ¤íŠ¸
2025-09-28 04:13:24 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 650ì, 7ê°œ í•„ë“œ
2025-09-28 04:13:24 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:13:24 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:13:24 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:13:24 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:13:24 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for courses related to databases in the Computer Science department. | ê´€ë ¨í‚¤ì›Œë“œ: ë°ì´í„°ë² ì´ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ì‹œìŠ¤í…œ, ë°ì´í„°ê´€ë¦¬, ì»´í“¨í„°ê³µí•™ê³¼, ì •ë³´ì‹œìŠ¤í…œ'
2025-09-28 04:13:24 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d0d97db6-54b3-42fe-b909-4dab26fe271b', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[CRITICAL ê³¼ëª© ì¶”ì²œ vs ìœµí•© ì»¤ë¦¬í˜ëŸ¼ êµ¬ë¶„]\n- ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ê´€ë ¨ í‚¤ì›Œë“œ:\n  "ê³¼ëª© ì¶”ì²œ", "ê°•ì˜ ì¶”ì²œ", "ìˆ˜ì—… ì¶”ì²œ", "ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©",\n  "ì¶”ì²œí•´ì¤˜", "~ê´€ë ¨ ìˆ˜ì—…", "~ê´€ë ¨ ê°•ì˜", "~ê³¼ëª©", "~ìˆ˜ì—…"\n  â†’ Vector Search ë˜ëŠ” SQL Agent ì‚¬ìš©\n\n- ìœµí•© ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ:\n  "ìœµí•©", "ë³µìˆ˜ì „ê³µ", "ë¶€ì „ê³µ", "ë‹¤ë¥¸ í•™ê³¼", "ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",\n  "ìœµí•© ì»¤ë¦¬í˜ëŸ¼", "ë‹¤ì „ê³µ", "í•™ìŠµ ê²½ë¡œ", "ë¡œë“œë§µ"\n  â†’ Curriculum Agent ì‚¬ìš©\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum (ë¬´ì¡°ê±´ medium)\n3) ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ë˜ëŠ” SQL (ë‹¨ì¼ ì „ê³µ)\n4) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n5) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n6) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n7) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n8) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\nQ: "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+FAISS_SEARCH",\n  "category": "course_lookup",\n  "question_type": "CourseRecommendation",\n  "data_source": "DB",\n  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "í•™ê³¼ëª… ì •ê·œí™”"},\n    {"step": 2, "agent": "FAISS-Search-Agent", "goal": "ê³¼ëª© ì¶”ì²œ"}\n  ]\n}\n\nQ: "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "CURRICULUM_PLAN",\n  "category": "curriculum_design",\n  "question_type": "CurriculumDesign",\n  "data_source": "Mixed",\n  "reasoning": "ìœµí•© í‚¤ì›Œë“œ â†’ Curriculum Agent",\n  "plan": [\n    {"step": 1, "agent": "Curriculum-Agent", "goal": "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„"}\n  ]\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:13:24 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:13:24 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:13:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1160'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1179'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998802'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_8fd5a10d75ff470c85bc09168a387f3c'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d516d99afaa72-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:13:25 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:13:25 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:13:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '1160', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1179', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998802', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_8fd5a10d75ff470c85bc09168a387f3c', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d516d99afaa72-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:13:25 - openai._base_client - DEBUG - request_id: req_8fd5a10d75ff470c85bc09168a387f3c
2025-09-28 04:13:25 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 223ì í…ìŠ¤íŠ¸
2025-09-28 04:13:25 - utils.json_utils - WARNING - ì™„ì „í•œ JSON ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ, ì •ê·œì‹ ë°©ì‹ìœ¼ë¡œ fallback
2025-09-28 04:13:25 - utils.json_utils - WARNING - JSON íŒ¨í„´ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
2025-09-28 04:13:25 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: medium
2025-09-28 04:13:25 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: medium
2025-09-28 04:13:25 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (4.14ì´ˆ)
2025-09-28 04:13:25 - service.nodes.base_node - INFO - â±ï¸ Light ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:13:25 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-53963d02-f08f-4466-8ba9-cdec3739d619', 'json_data': {'messages': [{'content': 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:13:25 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:13:25 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:13:31 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:13:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5341'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5363'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999985'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_a4ae88b4218d40ae96e7b2ddaae20a77'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d51761e68aa72-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:13:31 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:13:31 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:13:31 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:13:31 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:13:31 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:13:31 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:13:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5341', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '5363', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999985', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_a4ae88b4218d40ae96e7b2ddaae20a77', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d51761e68aa72-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:13:31 - openai._base_client - DEBUG - request_id: req_a4ae88b4218d40ae96e7b2ddaae20a77
2025-09-28 04:13:31 - service.nodes.base_node - INFO - âœ… Light ë…¸ë“œ ì™„ë£Œ (5.65ì´ˆ)
2025-09-28 04:13:31 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:13:31 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:13:31 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:13:31 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:13:31 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:13:31 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:15:14 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test, stream: False
2025-09-28 04:15:14 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:15:14 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:15:14 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:15:14 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e7a7b996-bac6-4366-9851-c750e721eaab', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\në°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:15:14 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:15:14 - httpcore.connection - DEBUG - close.started
2025-09-28 04:15:14 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:15:14 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:15:14 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5b438d0>
2025-09-28 04:15:14 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe3b6343c80> server_hostname='api.openai.com' timeout=None
2025-09-28 04:15:14 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5b43450>
2025-09-28 04:15:14 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:15:14 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:15:14 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:15:14 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:15:14 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:15:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'3314'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3326'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998113'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_a96ec3ff94664e9985b416d03fe1dacb'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d541e1967ea9e-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:15:17 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:15:17 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:15:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '3314', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '3326', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998113', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_a96ec3ff94664e9985b416d03fe1dacb', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d541e1967ea9e-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:15:17 - openai._base_client - DEBUG - request_id: req_a96ec3ff94664e9985b416d03fe1dacb
2025-09-28 04:15:17 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 668ì í…ìŠ¤íŠ¸
2025-09-28 04:15:17 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 656ì, 7ê°œ í•„ë“œ
2025-09-28 04:15:17 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:15:17 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:15:17 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:15:17 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:15:17 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for courses related to databases in the Computer Science department. | ê´€ë ¨í‚¤ì›Œë“œ: ë°ì´í„°ë² ì´ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ì‹œìŠ¤í…œ, ë°ì´í„°ê´€ë¦¬, ì»´í“¨í„°ê³µí•™ê³¼, ì •ë³´ì‹œìŠ¤í…œ, ë°ì´í„°ê³¼í•™'
2025-09-28 04:15:17 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-95bad091-90fe-4621-84b2-f763bf480da8', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[CRITICAL ê³¼ëª© ì¶”ì²œ vs ìœµí•© ì»¤ë¦¬í˜ëŸ¼ êµ¬ë¶„]\n- ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ê´€ë ¨ í‚¤ì›Œë“œ:\n  "ê³¼ëª© ì¶”ì²œ", "ê°•ì˜ ì¶”ì²œ", "ìˆ˜ì—… ì¶”ì²œ", "ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©",\n  "ì¶”ì²œí•´ì¤˜", "~ê´€ë ¨ ìˆ˜ì—…", "~ê´€ë ¨ ê°•ì˜", "~ê³¼ëª©", "~ìˆ˜ì—…"\n  â†’ Vector Search ë˜ëŠ” SQL Agent ì‚¬ìš©\n\n- ìœµí•© ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ:\n  "ìœµí•©", "ë³µìˆ˜ì „ê³µ", "ë¶€ì „ê³µ", "ë‹¤ë¥¸ í•™ê³¼", "ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",\n  "ìœµí•© ì»¤ë¦¬í˜ëŸ¼", "ë‹¤ì „ê³µ", "í•™ìŠµ ê²½ë¡œ", "ë¡œë“œë§µ"\n  â†’ Curriculum Agent ì‚¬ìš©\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum (ë¬´ì¡°ê±´ medium)\n3) ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ë˜ëŠ” SQL (ë‹¨ì¼ ì „ê³µ)\n4) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n5) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n6) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n7) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n8) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\nQ: "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+FAISS_SEARCH",\n  "category": "course_lookup",\n  "question_type": "CourseRecommendation",\n  "data_source": "DB",\n  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "í•™ê³¼ëª… ì •ê·œí™”"},\n    {"step": 2, "agent": "FAISS-Search-Agent", "goal": "ê³¼ëª© ì¶”ì²œ"}\n  ]\n}\n\nQ: "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "CURRICULUM_PLAN",\n  "category": "curriculum_design",\n  "question_type": "CurriculumDesign",\n  "data_source": "Mixed",\n  "reasoning": "ìœµí•© í‚¤ì›Œë“œ â†’ Curriculum Agent",\n  "plan": [\n    {"step": 1, "agent": "Curriculum-Agent", "goal": "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„"}\n  ]\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:15:17 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:15:17 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:15:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1305'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1317'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998802'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_815faa09ba9e4da9b08ccf579e9435e1'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d54340afbea9e-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:15:19 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:15:19 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:15:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '1305', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1317', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998802', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_815faa09ba9e4da9b08ccf579e9435e1', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d54340afbea9e-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:15:19 - openai._base_client - DEBUG - request_id: req_815faa09ba9e4da9b08ccf579e9435e1
2025-09-28 04:15:19 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 223ì í…ìŠ¤íŠ¸
2025-09-28 04:15:19 - utils.json_utils - WARNING - ì™„ì „í•œ JSON ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ, ì •ê·œì‹ ë°©ì‹ìœ¼ë¡œ fallback
2025-09-28 04:15:19 - utils.json_utils - WARNING - JSON íŒ¨í„´ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
2025-09-28 04:15:19 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: medium
2025-09-28 04:15:19 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: medium
2025-09-28 04:15:19 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (5.04ì´ˆ)
2025-09-28 04:15:19 - service.nodes.base_node - INFO - â±ï¸ Light ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:15:19 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-881446c5-eca0-4875-bcd1-5ce697b1a998', 'json_data': {'messages': [{'content': 'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:15:19 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:15:19 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:15:25 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:15:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5992'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'6011'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999985'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_15b3bced879647ada50f2b955539cd82'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d543d7db0ea9e-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:15:25 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:15:25 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:15:25 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:15:25 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:15:25 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:15:25 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:15:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5992', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '6011', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999985', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_15b3bced879647ada50f2b955539cd82', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d543d7db0ea9e-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:15:25 - openai._base_client - DEBUG - request_id: req_15b3bced879647ada50f2b955539cd82
2025-09-28 04:15:25 - service.nodes.base_node - INFO - âœ… Light ë…¸ë“œ ì™„ë£Œ (6.21ì´ˆ)
2025-09-28 04:15:25 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:15:25 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:15:25 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:15:25 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:15:25 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:15:25 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:15:48 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: test2, stream: False
2025-09-28 04:15:48 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”...
2025-09-28 04:15:48 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”...'
2025-09-28 04:15:48 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:15:48 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8bc65812-8b1e-4f8a-9dbb-d53899635f95', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:15:48 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:15:48 - httpcore.connection - DEBUG - close.started
2025-09-28 04:15:48 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:15:48 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:15:48 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5c90110>
2025-09-28 04:15:48 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe3b6343c80> server_hostname='api.openai.com' timeout=None
2025-09-28 04:15:48 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fe3b5c922d0>
2025-09-28 04:15:48 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:15:48 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:15:48 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:15:48 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:15:48 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:15:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'2632'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2651'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998117'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_3e2b0102f14e482fb87a137a0b15a562'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d54f6cb9e30c1-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:15:51 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:15:51 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:15:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '2632', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '2651', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998117', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_3e2b0102f14e482fb87a137a0b15a562', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d54f6cb9e30c1-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:15:51 - openai._base_client - DEBUG - request_id: req_3e2b0102f14e482fb87a137a0b15a562
2025-09-28 04:15:51 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 709ì í…ìŠ¤íŠ¸
2025-09-28 04:15:51 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 697ì, 7ê°œ í•„ë“œ
2025-09-28 04:15:51 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:15:51 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:15:51 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:15:51 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”'
2025-09-28 04:15:51 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for information on designing an integrated curriculum that combines multiple academic disciplines. | ê´€ë ¨í‚¤ì›Œë“œ: ìœµí•©, ì»¤ë¦¬í˜ëŸ¼, ì„¤ê³„, í†µí•©êµìœ¡, í•™ì œê°„, êµìœ¡ê³¼ì •'
2025-09-28 04:15:51 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-743c90ff-5212-4ab5-b900-297c73172944', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ï¿½ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[CRITICAL ê³¼ëª© ì¶”ì²œ vs ìœµí•© ì»¤ë¦¬í˜ëŸ¼ êµ¬ë¶„]\n- ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ê´€ë ¨ í‚¤ì›Œë“œ:\n  "ê³¼ëª© ì¶”ì²œ", "ê°•ì˜ ì¶”ì²œ", "ìˆ˜ì—… ì¶”ì²œ", "ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©",\n  "ì¶”ì²œí•´ì¤˜", "~ê´€ë ¨ ìˆ˜ì—…", "~ê´€ë ¨ ê°•ì˜", "~ê³¼ëª©", "~ìˆ˜ì—…"\n  â†’ Vector Search ë˜ëŠ” SQL Agent ì‚¬ìš©\n\n- ìœµí•© ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ:\n  "ìœµí•©", "ë³µìˆ˜ì „ê³µ", "ë¶€ì „ê³µ", "ë‹¤ë¥¸ í•™ê³¼", "ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",\n  "ìœµí•© ì»¤ë¦¬í˜ëŸ¼", "ë‹¤ì „ê³µ", "í•™ìŠµ ê²½ë¡œ", "ë¡œë“œë§µ"\n  â†’ Curriculum Agent ì‚¬ìš©\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum (ë¬´ì¡°ê±´ medium)\n3) ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ë˜ëŠ” SQL (ë‹¨ì¼ ì „ê³µ)\n4) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n5) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n6) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n7) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n8) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\nQ: "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+FAISS_SEARCH",\n  "category": "course_lookup",\n  "question_type": "CourseRecommendation",\n  "data_source": "DB",\n  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "í•™ê³¼ëª… ì •ê·œí™”"},\n    {"step": 2, "agent": "FAISS-Search-Agent", "goal": "ê³¼ëª© ì¶”ì²œ"}\n  ]\n}\n\nQ: "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "CURRICULUM_PLAN",\n  "category": "curriculum_design",\n  "question_type": "CurriculumDesign",\n  "data_source": "Mixed",\n  "reasoning": "ìœµí•© í‚¤ì›Œë“œ â†’ Curriculum Agent",\n  "plan": [\n    {"step": 1, "agent": "Curriculum-Agent", "goal": "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„"}\n  ]\n}', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:15:51 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:15:51 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:16:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'8625'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'8741'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998802'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_c2dac6622bee4467bb15d518f78c0afc'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d55089cfd30c1-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:16:00 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:16:00 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:16:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '8625', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '8741', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998802', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_c2dac6622bee4467bb15d518f78c0afc', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d55089cfd30c1-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:16:00 - openai._base_client - DEBUG - request_id: req_c2dac6622bee4467bb15d518f78c0afc
2025-09-28 04:16:00 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 1805ì í…ìŠ¤íŠ¸
2025-09-28 04:16:00 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 696ì, 11ê°œ í•„ë“œ
2025-09-28 04:16:00 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:16:00 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:16:00 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:16:00 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:16:00 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:16:00 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (11.80ì´ˆ)
2025-09-28 04:16:00 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:16:00 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”...'
2025-09-28 04:16:00 - httpcore.connection - DEBUG - close.started
2025-09-28 04:16:00 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:16:00 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:16:00 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5ca4e10>
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:16:00 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:16:00 GMT'), (b'server', b'uvicorn'), (b'content-length', b'9981'), (b'content-type', b'application/json')])
2025-09-28 04:16:02 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:16:02 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:16:02 - httpcore.connection - DEBUG - close.started
2025-09-28 04:16:02 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:16:02 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:16:02 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5b42050>
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:16:02 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 500, b'Internal Server Error', [(b'date', b'Sat, 27 Sep 2025 19:16:01 GMT'), (b'server', b'uvicorn'), (b'content-length', b'21'), (b'content-type', b'text/plain; charset=utf-8')])
2025-09-28 04:16:03 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 500 Internal Server Error"
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:16:03 - handlers.base_handler - ERROR - API ì˜¤ë¥˜: 500
2025-09-28 04:16:03 - httpcore.connection - DEBUG - close.started
2025-09-28 04:16:03 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:16:03 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:16:03 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5b3c950>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:16:02 GMT'), (b'server', b'uvicorn'), (b'content-length', b'60'), (b'content-type', b'application/json')])
2025-09-28 04:16:03 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:16:03 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - 
============================================================
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ“š ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸ ì²˜ë¦¬ ì‹œì‘
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ“¥ ì‚¬ìš©ì ì§ˆë¬¸: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ“Š ì¿¼ë¦¬ ë¶„ì„ ë°ì´í„°: {}
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ”§ ì¶”ê°€ ì¸ì: {'messages': [HumanMessage(content='ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”', additional_kwargs={}, response_metadata={}, id='9c311f31-3b1a-4256-8fa6-c7417a13aeb4')], 'user_query': 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”', 'session_id': 'test2', 'conversation_memory': <service.memory.memory.ConversationMemory object at 0x7fe3fd2c8490>, 'route': 'heavy', 'complexity': 'heavy', 'plan': [], 'routing_reason': 'ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €', 'expanded_query': 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for information on designing an integrated curriculum that combines multiple academic disciplines. | ê´€ë ¨í‚¤ì›Œë“œ: ìœµí•©, ì»¤ë¦¬í˜ëŸ¼, ì„¤ê³„, í†µí•©êµìœ¡, í•™ì œê°„, êµìœ¡ê³¼ì •', 'keywords': 'ìœµí•©,ì»¤ë¦¬í˜ëŸ¼,ì„¤ê³„,í†µí•©êµìœ¡,í•™ì œê°„,êµìœ¡ê³¼ì •', 'slots': {}, 'processing_type': None, 'final_result': None, 'step_times': {'router': 11.795369863510132}, 'retry_count': 0, 'parallel_tasks': []}
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ: ì •ìƒ
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸŒ ë² ì´ìŠ¤ URL: http://curriculum:7996
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œì‘
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ HTTP í†µì‹  ì‹œì‘
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ“¦ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ìš”ì²­ ë°ì´í„°:
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO -   ğŸ“ ì¿¼ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO -   ğŸ“Š ìš”êµ¬ í•™ê³¼ ìˆ˜: 30
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO -   ğŸ¯ ì„¸ì…˜ ID: test2
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸŒ HTTP ìš”ì²­: POST http://curriculum:7996/chat
2025-09-28 04:16:03 - handlers.curriculum_handler - INFO - ğŸ“¡ HTTP ìš”ì²­ ì „ì†¡ ì¤‘...
2025-09-28 04:16:03 - httpcore.connection - DEBUG - connect_tcp.started host='curriculum' port=7996 local_address=None timeout=120.0 socket_options=None
2025-09-28 04:16:03 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe3b5b3d910>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:16:03 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:16:24 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:16:03 GMT'), (b'server', b'uvicorn'), (b'content-length', b'6967'), (b'content-type', b'application/json')])
2025-09-28 04:16:24 - httpx - INFO - HTTP Request: POST http://curriculum:7996/chat "HTTP/1.1 200 OK"
2025-09-28 04:16:24 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:16:24 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:16:24 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:16:24 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - ğŸ“¨ HTTP ì‘ë‹µ ìˆ˜ì‹ : 200
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - âœ… JSON íŒŒì‹± ì„±ê³µ
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë©”ì‹œì§€ ê¸¸ì´: 3052ì
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì²˜ë¦¬ ì„±ê³µ
2025-09-28 04:16:24 - httpcore.connection - DEBUG - close.started
2025-09-28 04:16:24 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - ğŸ“¡ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ì‘ë‹µ: {'success': True, 'message': 'ì¿¼ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ì„ í†µí•©í•˜ì—¬ ìƒˆë¡œìš´ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: í•™ë¬¸ ê°„ ìœµí•©ì„ í†µí•´ í˜ì‹ ì ì¸ êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ì„ ê°œë°œí•˜ê³ , ì´ë¥¼ í†µí•´ êµìœ¡ì˜ ì§ˆì„ í–¥ìƒì‹œí‚¤ëŠ” ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ê°œë°œ ë° êµìœ¡ í˜ì‹ .\n4. ì§ì—…: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆ.\n\nìµœì¢… ì¿¼ë¦¬: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆ.\n\nì •ì˜: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆëŠ” ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ê³¼ êµìœ¡ ì´ë¡ ì„ ìœµí•©í•˜ì—¬ í˜ì‹ ì ì´ê³  íš¨ê³¼ì ì¸ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•˜ëŠ” ì „ë¬¸ê°€ì´ë‹¤. í•™ìƒë“¤ì˜ í•™ìŠµ ê²½í—˜ì„ ê·¹ëŒ€í™”í•˜ê³ , êµìœ¡ ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆë„ë¡ ì»¤ë¦¬í˜ëŸ¼ì„ ê°œë°œí•˜ê³  í‰ê°€í•œë‹¤.\n\nì£¼ìš” ì—­í• :\n- êµìœ¡ í”„ë¡œê·¸ë¨ ì„¤ê³„ ë° ê°œë°œ\n  - í•™ìŠµ ëª©í‘œì— ë§ëŠ” êµìœ¡ ì½˜í…ì¸  ë° í™œë™ ì„¤ê³„\n  - í•™ë¬¸ ê°„ ìœµí•©ì„ í†µí•œ ì°½ì˜ì  êµìœ¡ ë°©ë²•ë¡  ê°œë°œ\n  - êµìœ¡ ê³¼ì •ì˜ êµ¬ì¡° ë° íë¦„ì„ ì²´ê³„ì ìœ¼ë¡œ êµ¬ì„±\n\n- êµìœ¡ íš¨ê³¼ì„± í‰ê°€ ë° ê°œì„ \n  - êµìœ¡ í”„ë¡œê·¸ë¨ì˜ íš¨ê³¼ì„± í‰ê°€ë¥¼ ìœ„í•œ ì§€í‘œ ì„¤ì •\n  - í•™ìƒ í”¼ë“œë°± ë° ì„±ê³¼ ë¶„ì„ì„ í†µí•œ ì»¤ë¦¬í˜ëŸ¼ ê°œì„ \n  - ìµœì‹  êµìœ¡ íŠ¸ë Œë“œ ë° ê¸°ìˆ ì„ ë°˜ì˜í•œ í”„ë¡œê·¸ë¨ ì—…ë°ì´íŠ¸\n\n- êµìœ¡ ìë£Œ ë° ë¦¬ì†ŒìŠ¤ ê°œë°œ\n  - ë‹¤ì–‘í•œ í•™ìŠµ ìë£Œ(êµì¬, ë©€í‹°ë¯¸ë””ì–´ ì½˜í…ì¸  ë“±) ì œì‘\n  - ì˜¨ë¼ì¸ ë° ì˜¤í”„ë¼ì¸ êµìœ¡ ë¦¬ì†ŒìŠ¤ í†µí•© ê´€ë¦¬\n  - êµìœ¡ ê¸°ìˆ  ë„êµ¬ í™œìš©ì„ í†µí•œ í•™ìŠµ ê²½í—˜ ê°•í™”\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : êµìœ¡ í”„ë¡œê·¸ë¨ ì„¤ê³„, í•™ë¬¸ ê°„ ìœµí•©, êµìœ¡ íš¨ê³¼ì„± í‰ê°€\n- ì§€ì‹: êµìœ¡ ì´ë¡ , í•™ìŠµ ì‹¬ë¦¬í•™, êµìœ¡ ê¸°ìˆ \n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. êµìœ¡ í”„ë¡œê·¸ë¨ ì„¤ê³„ ë° í•™ë¬¸ ìœµí•©\n  - êµìœ¡ ëª©í‘œ ì„¤ì • ë° í•™ìŠµ ì„±ê³¼ ê¸°ë°˜ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n  - í•™ë¬¸ ê°„ ìœµí•©ì„ í†µí•œ ì°½ì˜ì  ë¬¸ì œ í•´ê²° ë°©ë²•ë¡  ê°œë°œ\n  - êµìœ¡ ê³¼ì •ì˜ íë¦„ ë° ë‹¨ê³„ì  í•™ìŠµ ê²½í—˜ ì„¤ê³„\n\n2. êµìœ¡ íš¨ê³¼ì„± í‰ê°€ ë° í”¼ë“œë°± ë¶„ì„\n  - êµìœ¡ í”„ë¡œê·¸ë¨ì˜ ì„±ê³¼ ì¸¡ì • ë° ë¶„ì„ ê¸°ë²•\n  - í•™ìƒ í”¼ë“œë°± ìˆ˜ì§‘ ë° ë¶„ì„ì„ í†µí•œ ì»¤ë¦¬í˜ëŸ¼ ê°œì„ \n  - êµìœ¡ íš¨ê³¼ì„± í‰ê°€ë¥¼ ìœ„í•œ ë°ì´í„° ê¸°ë°˜ ì ‘ê·¼ë²•\n\n3. êµìœ¡ ìë£Œ ê°œë°œ ë° ê¸°ìˆ  í™œìš©\n  - ë©€í‹°ë¯¸ë””ì–´ ì½˜í…ì¸  ì œì‘ ë° í™œìš©\n  - ì˜¨ë¼ì¸ í•™ìŠµ í”Œë«í¼ ë° ë„êµ¬ í™œìš©\n  - êµìœ¡ ê¸°ìˆ (EdTech) íŠ¸ë Œë“œ ë° ë„êµ¬ ì ìš©\n\n4. ì‹¤ë¬´ì—ì„œ í™œìš©ë˜ëŠ” êµìœ¡ ê¸°ìˆ  ë° íˆ´\n  - í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œ(LMS) í™œìš© (Moodle, Blackboard ë“±)\n  - êµìœ¡ ì½˜í…ì¸  ì œì‘ ë„êµ¬ (Articulate, Adobe Captivate)\n  - ë°ì´í„° ë¶„ì„ ë° ì‹œê°í™” ë„êµ¬ (Tableau, Power BI)\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n  - êµìœ¡ ì´ë¡  ë° í•™ìŠµ ì‹¬ë¦¬í•™ â†’ í•™ìŠµì ì¤‘ì‹¬ êµìœ¡ ì„¤ê³„\n  - êµìœ¡ í‰ê°€ ë° ì¸¡ì • â†’ êµìœ¡ íš¨ê³¼ì„± ë° ì„±ê³¼ ë¶„ì„\n  - êµìœ¡ ì² í•™ ë° ì •ì±… â†’ êµìœ¡ ëª©í‘œ ë° ë°©í–¥ì„± ì„¤ì •\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n  - í•™ë¬¸ ìœµí•© ë° ì°½ì˜ì  ë¬¸ì œ í•´ê²° â†’ ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ í†µí•©ì  ì ‘ê·¼\n  - êµìœ¡ í˜ì‹  ë° íŠ¸ë Œë“œ â†’ ìµœì‹  êµìœ¡ ë°©ë²•ë¡  ë° ê¸°ìˆ  ì ìš©\n  - êµìœ¡ ë¦¬ë”ì‹­ ë° ê´€ë¦¬ â†’ êµìœ¡ í”„ë¡œê·¸ë¨ ìš´ì˜ ë° ê´€ë¦¬ ì „ëµ\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n  - êµìœ¡ ìë£Œ ë° ì½˜í…ì¸  ê°œë°œ â†’ ë‹¤ì–‘í•œ í•™ìŠµ ìë£Œ ì œì‘ ë° í™œìš©\n  - êµìœ¡ ê¸°ìˆ  ë„êµ¬ í™œìš© â†’ ì˜¨ë¼ì¸ í•™ìŠµ í”Œë«í¼ ë° ë„êµ¬ ì ìš©\n  - êµìœ¡ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë° í˜‘ì—… â†’ êµìœ¡ì ë° í•™ìŠµì ê°„ì˜ íš¨ê³¼ì  ì†Œí†µ ë° í˜‘ë ¥\n\nì´ì™€ ê°™ì€ êµ¬ì¡°ë¡œ êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””ìì´ë„ˆë¡œì„œì˜ ê²½ë ¥ì„ ìŒ“ê³ , ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ì„ ìœµí•©í•˜ì—¬ í˜ì‹ ì ì¸ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n=== ë¬¸í—Œì •ë³´í•™ê³¼ ===\nê°•ì¢Œëª…: ë””ì§€í„¸ë„ì„œê´€ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í—Œì •ë³´í•™ì…ë¬¸, ì •ë³´ì„œë¹„ìŠ¤ë¡ \nê°•ì¢Œëª…: ë””ì§€í„¸ë„ì„œê´€ê¸°ìˆ ê³¼ì‹¤ì œ\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ë„ì„œê´€ë¡ \nê°•ì¢Œëª…: ì»´í“¨í„°ì •ë³´ì²˜ë¦¬\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í—Œì •ë³´í•™ì…ë¬¸\nê°•ì¢Œëª…: ë°ì´í„°ë² ì´ìŠ¤ë¡ \n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì›¹DBíƒìƒ‰\nê°•ì¢Œëª…: ë…ì„œêµìœ¡ë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í—Œì •ë³´í•™ì…ë¬¸\nê°•ì¢Œëª…: ë¬¸í™”ì»¨í…ì¸ ì„œë¹„ìŠ¤ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ë¬¸í™”ì½˜í…ì¸ ê´€ë¦¬ê¸°ìˆ \n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬¸í™”ì»¨í…ì¸ ì„œë¹„ìŠ¤ë¡ \nê°•ì¢Œëª…: ë¬¸í—Œì •ë³´í•™ì…ë¬¸\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì •ë³´ìë£Œì¡°ì§ì—°ìŠµ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì •ë³´ìë£Œì¡°ì§ë¡  1, ì •ë³´ìë£Œì¡°ì§ë¡  2\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ê²Œì„ë°í˜¼í•©í˜„ì‹¤\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\nê°•ì¢Œëª…: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\nê°•ì¢Œëª…: í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì¸ì²´ì™€ì˜ë³µ\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: -\nê°•ì¢Œëª…: ì»´í“¨í„°ê³µí•™ì´ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì¸ê°„-ì»´í“¨í„°ìƒí˜¸ì‘ìš©\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\nê°•ì¢Œëª…: ë°ì´í„°ë§ˆì´ë‹\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥\n\n=== ì‹¬ë¦¬í•™ê³¼ ===\nê°•ì¢Œëª…: ì§ì—…ê³¼ì§„ë¡œì»¨ì„¤íŒ…\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì‚°ì—…ë°ì¡°ì§ì‹¬ë¦¬í•™\nê°•ì¢Œëª…: ì‚°ì—…ë°ì¡°ì§ì‹¬ë¦¬í•™\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì‚¬íšŒì‹¬ë¦¬í•™\nê°•ì¢Œëª…: ì‹¬ë¦¬í†µê³„\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ì‹¬ë¦¬í•™\nê°•ì¢Œëª…: ìƒë‹´ì´ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì‹¬ë¦¬í•™ì—°êµ¬ë°©ë²•ë¡ \nê°•ì¢Œëª…: ê´‘ê³ ì‹¬ë¦¬í•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œë¹„ìì‹¬ë¦¬í•™\nê°•ì¢Œëª…: ìƒë‹´ì‹¬ë¦¬í•™ë°ì‹¤ìŠµ\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìƒë‹´ì´ë¡ \nê°•ì¢Œëª…: ì†Œë¹„ìì‹¬ë¦¬í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ì‹¬ë¦¬í•™\nê°•ì¢Œëª…: ë¬´ì—­ìƒë¬´ë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë¬´ì—­í•™ì˜ ì´í•´\nê°•ì¢Œëª…: ì‘ìš©ì‚¬íšŒì‹¬ë¦¬í•™\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì‚¬íšŒì‹¬ë¦¬í•™\n\n=== ë†ì¶•ì‚°ì‹í’ˆìœµí•©í•™ê³¼ ===\nê°•ì¢Œëª…: ë†ì—…êµìœ¡ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \n\n=== ìƒëª…ìì›ìœµí•©í•™ê³¼ ===\nê°•ì¢Œëª…: ë†ì—…êµìœ¡ë¡ \n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ëª©ê³µë ˆí¬ë ˆì´ì…˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ê²½ê´€ìì›ë¡ ', 'service': 'curriculum', 'query': 'ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”'}
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì‘ë‹µ ì„±ê³µ: 3052ì ì‘ë‹µ
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸°: ì¿¼ë¦¬: ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”

1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ë‹¤ì–‘í•œ í•™ë¬¸ ë¶„ì•¼ì˜ ì§€ì‹ì„ í†µí•©í•˜ì—¬ ìƒˆë¡œìš´ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
2. ì§„ë¡œ ëª©í‘œ: í•™ë¬¸ ê°„ ìœµí•©ì„ í†µí•´ í˜ì‹ ì ì¸ êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ì„ ê°œë°œí•˜ê³ , ì´ë¥¼ í†µí•´ êµìœ¡ì˜ ì§ˆì„ í–¥ìƒì‹œí‚¤ëŠ” ì „ë¬¸ê°€ë¡œ í™œë™í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
3. ì§ì—… ë¶„ì•¼: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ê°œë°œ ë° êµìœ¡ í˜ì‹ .
4. ì§ì—…: êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ ë””...
2025-09-28 04:16:24 - handlers.curriculum_handler - INFO - ============================================================
2025-09-28 04:16:24 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] curriculum ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:16:24 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 3ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:16:24 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (23.47ì´ˆ)
2025-09-28 04:16:24 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:16:24 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:16:24 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:16:24 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:16:24 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:16:24 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:24:14 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:24:14 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:24:14 - main - INFO - ==================================================
2025-09-28 04:24:14 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:24:14 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:24:14 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:24:14 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:24:14 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:24:14 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:24:14 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:24:14 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:24:14 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:24:14 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:24:14 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:34:20 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:34:20 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:34:20 - main - INFO - ==================================================
2025-09-28 04:34:20 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:34:20 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:34:20 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:34:20 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:34:20 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:34:20 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:34:20 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:34:20 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:34:20 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:34:20 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:34:20 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:34:40 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: default, stream: False
2025-09-28 04:34:40 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:34:40 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:34:40 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:34:40 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-71ebcfec-11ce-4ff1-930d-0492666ed699', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:34:40 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:34:40 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:34:40 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f79c5b093d0>
2025-09-28 04:34:40 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f79c61abe30> server_hostname='api.openai.com' timeout=None
2025-09-28 04:34:40 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f79c6087f10>
2025-09-28 04:34:40 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:34:40 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:34:40 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:34:40 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:34:40 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:34:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1755'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1901'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998115'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_b2e03dbe1c5746d196a8b58fbb1a3540'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=_921RTEk7Spsehixm9NXcTJBGiUN9SiEIQUVKtLbed0-1759001682-1.0.1.1-BjSVHcksvtaOPXj8y4_jiT6i0LEDsUL8JYvw1NWut_fk6dzueYwnB8Oi3d6.Ek2XzocaWbVkkGvv9R43uYNj_sBbiXBQ92MieLHmIuiuPVU; path=/; expires=Sat, 27-Sep-25 20:04:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ygMCw3lUTuBMjbsevMovus4h6AYVPQSfbLpBzDHw46U-1759001682340-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d7094c9170d05-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:34:42 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:34:42 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:34:42 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '1755'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1901'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998115'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_b2e03dbe1c5746d196a8b58fbb1a3540'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=_921RTEk7Spsehixm9NXcTJBGiUN9SiEIQUVKtLbed0-1759001682-1.0.1.1-BjSVHcksvtaOPXj8y4_jiT6i0LEDsUL8JYvw1NWut_fk6dzueYwnB8Oi3d6.Ek2XzocaWbVkkGvv9R43uYNj_sBbiXBQ92MieLHmIuiuPVU; path=/; expires=Sat, 27-Sep-25 20:04:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ygMCw3lUTuBMjbsevMovus4h6AYVPQSfbLpBzDHw46U-1759001682340-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d7094c9170d05-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:34:42 - openai._base_client - DEBUG - request_id: req_b2e03dbe1c5746d196a8b58fbb1a3540
2025-09-28 04:34:42 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 647ì í…ìŠ¤íŠ¸
2025-09-28 04:34:42 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 635ì, 7ê°œ í•„ë“œ
2025-09-28 04:34:42 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:34:42 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:34:42 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:34:42 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:34:42 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:34:42 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fcf99684-b797-48be-bb50-8697c11758ad', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ğŸš¨ STRICT JSON RESPONSE REQUIREMENT\n**YOU MUST RESPOND ONLY WITH VALID JSON. NO EXPLANATION, NO COMMENTS, NO EXTRA TEXT.**\n**START YOUR RESPONSE WITH { AND END WITH }**\n\n## ğŸ”¥ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[CRITICAL ê³¼ëª© ì¶”ì²œ vs ìœµí•© ì»¤ë¦¬í˜ëŸ¼ êµ¬ë¶„]\n- ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ê´€ë ¨ í‚¤ì›Œë“œ:\n  "ê³¼ëª© ì¶”ì²œ", "ê°•ì˜ ì¶”ì²œ", "ìˆ˜ì—… ì¶”ì²œ", "ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©",\n  "ì¶”ì²œí•´ì¤˜", "~ê´€ë ¨ ìˆ˜ì—…", "~ê´€ë ¨ ê°•ì˜", "~ê³¼ëª©", "~ìˆ˜ì—…"\n  â†’ Vector Search ë˜ëŠ” SQL Agent ì‚¬ìš©\n\n- ìœµí•© ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ:\n  "ìœµí•©", "ë³µìˆ˜ì „ê³µ", "ë¶€ì „ê³µ", "ë‹¤ë¥¸ í•™ê³¼", "ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",\n  "ìœµí•© ì»¤ë¦¬í˜ëŸ¼", "ë‹¤ì „ê³µ", "í•™ìŠµ ê²½ë¡œ", "ë¡œë“œë§µ"\n  â†’ Curriculum Agent ì‚¬ìš©\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n2) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum (ë¬´ì¡°ê±´ medium)\n3) ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ë˜ëŠ” SQL (ë‹¨ì¼ ì „ê³µ)\n4) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n5) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n6) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n7) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n8) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\nQ: "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+FAISS_SEARCH",\n  "category": "course_lookup",\n  "question_type": "CourseRecommendation",\n  "data_source": "DB",\n  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "í•™ê³¼ëª… ì •ê·œí™”"},\n    {"step": 2, "agent": "FAISS-Search-Agent", "goal": "ê³¼ëª© ì¶”ì²œ"}\n  ]\n}\n\nQ: "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "CURRICULUM_PLAN",\n  "category": "curriculum_design",\n  "question_type": "CurriculumDesign",\n  "data_source": "Mixed",\n  "reasoning": "ìœµí•© í‚¤ì›Œë“œ â†’ Curriculum Agent",\n  "plan": [\n    {"step": 1, "agent": "Curriculum-Agent", "goal": "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„"}\n  ]\n}\n\n## ğŸš¨ FINAL REMINDER: RESPOND ONLY WITH JSON\nQuery: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´\n\n**CRITICAL**: Your response must be ONLY valid JSON following the schema above. NO explanations, NO comments. Start with { and end with }.', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:34:42 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:34:42 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:34:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'6660'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'6684'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998641'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_7bb6a847595c47bdbae89afaab0da65f'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d70a2bb2e0d05-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:34:49 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:34:49 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:34:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '6660', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '6684', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998641', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_7bb6a847595c47bdbae89afaab0da65f', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d70a2bb2e0d05-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:34:49 - openai._base_client - DEBUG - request_id: req_7bb6a847595c47bdbae89afaab0da65f
2025-09-28 04:34:49 - handlers.query_analyzer.analyzer - INFO - ğŸ” [DEBUG] ë¼ìš°í„° ì‘ë‹µ: ```json
{
  "complexity": "heavy",
  "owner_hint": "DEPARTMENT_MAPPING+FAISS_SEARCH",
  "category": "course_lookup",
  "question_type": "CourseRecommendation",
  "data_source": "DB",
  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",
  "plan": [
    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "í•™ê³¼ëª… ì •ê·œí™”"},
    {"step": 2, "agent": "FAISS-Search-Agent", "goal": "ê³¼ëª© ì¶”ì²œ"}
  ],
  "complexity_level": "heavy",
  "execution_type": "sequential",
  "steps": [
    {"id": "step_1", "type": "department_mapping", "input": "ì»´í“¨í„°ê³µí•™ê³¼", "description": "í•™ê³¼ëª… ì •ê·œí™”"},
    {"id": "step_2", "type": "vector_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "ê³¼ëª© ì¶”ì²œ"}
  ],
  "dependencies": {
    "step_2": ["step_1"]
  }
}
```
2025-09-28 04:34:49 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 701ì í…ìŠ¤íŠ¸
2025-09-28 04:34:49 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 689ì, 11ê°œ í•„ë“œ
2025-09-28 04:34:49 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:34:49 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=heavy, score=6
2025-09-28 04:34:49 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=heavy, score=6
2025-09-28 04:34:49 - handlers.query_analyzer.analyzer - INFO - ğŸ” [DEBUG] ì¶”ì¶œëœ JSON: {'complexity': 'heavy', 'owner_hint': 'DEPARTMENT_MAPPING+FAISS_SEARCH', 'category': 'course_lookup', 'question_type': 'CourseRecommendation', 'data_source': 'DB', 'reasoning': 'ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰', 'plan': [{'step': 1, 'agent': 'Department-Mapping-Agent', 'goal': 'í•™ê³¼ëª… ì •ê·œí™”'}, {'step': 2, 'agent': 'FAISS-Search-Agent', 'goal': 'ê³¼ëª© ì¶”ì²œ'}], 'complexity_level': 'heavy', 'execution_type': 'sequential', 'steps': [{'id': 'step_1', 'type': 'department_mapping', 'input': 'ì»´í“¨í„°ê³µí•™ê³¼', 'description': 'í•™ê³¼ëª… ì •ê·œí™”'}, {'id': 'step_2', 'type': 'vector_search', 'input': 'ì •ê·œí™”ëœ í•™ê³¼ëª…', 'description': 'ê³¼ëª© ì¶”ì²œ'}], 'dependencies': {'step_2': ['step_1']}}
2025-09-28 04:34:49 - handlers.query_analyzer.analyzer - INFO - ğŸ” [DEBUG] ìµœì¢… ê²°ì •: {'complexity': 'heavy', 'is_complex': True, 'category': 'course_lookup', 'owner_hint': 'DEPARTMENT_MAPPING+FAISS_SEARCH', 'plan': None, 'reasoning': 'ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰'}
2025-09-28 04:34:49 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: heavy
2025-09-28 04:34:49 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: heavy
2025-09-28 04:34:49 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (9.28ì´ˆ)
2025-09-28 04:34:49 - service.nodes.base_node - INFO - â±ï¸ HeavySequential ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:34:49 - service.nodes.query_route.heavy_nodes - INFO - âš¡ [HEAVY_SEQUENTIAL] ë³µì¡í•œ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:34:49 - httpcore.connection - DEBUG - connect_tcp.started host='tool-sql' port=7999 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:34:49 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f79c593ca90>
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:34:49 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:34:48 GMT'), (b'server', b'uvicorn'), (b'content-length', b'10052'), (b'content-type', b'application/json')])
2025-09-28 04:34:51 - httpx - INFO - HTTP Request: POST http://tool-sql:7999/api/v1/agent "HTTP/1.1 200 OK"
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:34:51 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] sql ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:34:51 - httpcore.connection - DEBUG - connect_tcp.started host='vector-search' port=7997 local_address=None timeout=30.0 socket_options=None
2025-09-28 04:34:51 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f79c596f510>
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:34:51 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:34:51 GMT'), (b'server', b'uvicorn'), (b'content-length', b'14'), (b'content-type', b'application/json')])
2025-09-28 04:34:53 - httpx - INFO - HTTP Request: POST http://vector-search:7997/search "HTTP/1.1 200 OK"
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:34:53 - httpcore.connection - DEBUG - connect_tcp.started host='department-mapping' port=8000 local_address=None timeout=10.0 socket_options=None
2025-09-28 04:34:53 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f79c5990910>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:34:52 GMT'), (b'server', b'uvicorn'), (b'content-length', b'44'), (b'content-type', b'application/json')])
2025-09-28 04:34:53 - httpx - INFO - HTTP Request: POST http://department-mapping:8000/map "HTTP/1.1 200 OK"
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:34:53 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] dept ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - 
============================================================
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ“š ì»¤ë¦¬í˜ëŸ¼ ì—ì´ì „íŠ¸ ì²˜ë¦¬ ì‹œì‘
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ“¥ ì‚¬ìš©ì ì§ˆë¬¸: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ“Š ì¿¼ë¦¬ ë¶„ì„ ë°ì´í„°: {}
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ”§ ì¶”ê°€ ì¸ì: {'messages': [HumanMessage(content='ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', additional_kwargs={}, response_metadata={}, id='4729fbe8-4063-407c-ad9f-22d2c5abb3cc')], 'user_query': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', 'session_id': 'default', 'conversation_memory': <service.memory.memory.ConversationMemory object at 0x7f7a0d134790>, 'route': 'heavy', 'complexity': 'heavy', 'plan': [], 'routing_reason': 'ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰', 'expanded_query': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´', 'keywords': 'ì»´í“¨í„°ê³µí•™ê³¼,ì»´ê³µ,í”„ë¡œê·¸ë˜ë°,ì•Œê³ ë¦¬ì¦˜,ë°ì´í„°êµ¬ì¡°,AI,ë¨¸ì‹ ëŸ¬ë‹,ì†Œí”„íŠ¸ì›¨ì–´', 'slots': {}, 'processing_type': None, 'final_result': None, 'step_times': {'router': 9.281454086303711}, 'retry_count': 0, 'parallel_tasks': []}
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ: ì •ìƒ
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸŒ ë² ì´ìŠ¤ URL: http://curriculum:7996
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œì‘
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ”„ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ HTTP í†µì‹  ì‹œì‘
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ“¦ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ìš”ì²­ ë°ì´í„°:
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO -   ğŸ“ ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO -   ğŸ“Š ìš”êµ¬ í•™ê³¼ ìˆ˜: 30
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO -   ğŸ¯ ì„¸ì…˜ ID: default
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸŒ HTTP ìš”ì²­: POST http://curriculum:7996/chat
2025-09-28 04:34:53 - handlers.curriculum_handler - INFO - ğŸ“¡ HTTP ìš”ì²­ ì „ì†¡ ì¤‘...
2025-09-28 04:34:53 - httpcore.connection - DEBUG - connect_tcp.started host='curriculum' port=7996 local_address=None timeout=120.0 socket_options=None
2025-09-28 04:34:53 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f79c5992150>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:34:53 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Sat, 27 Sep 2025 19:34:52 GMT'), (b'server', b'uvicorn'), (b'content-length', b'6851'), (b'content-type', b'application/json')])
2025-09-28 04:35:07 - httpx - INFO - HTTP Request: POST http://curriculum:7996/chat "HTTP/1.1 200 OK"
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - ğŸ“¨ HTTP ì‘ë‹µ ìˆ˜ì‹ : 200
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - âœ… JSON íŒŒì‹± ì„±ê³µ
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë©”ì‹œì§€ ê¸¸ì´: 2965ì
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì²˜ë¦¬ ì„±ê³µ
2025-09-28 04:35:07 - httpcore.connection - DEBUG - close.started
2025-09-28 04:35:07 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - ğŸ“¡ ì»¤ë¦¬í˜ëŸ¼ ì„œë¹„ìŠ¤ ì‘ë‹µ: {'success': True, 'message': 'ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ê³¼ëª©ì„ í†µí•´ ì»´í“¨í„°ê³µí•™ ì „ë°˜ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì‹œìŠ¤í…œ ì„¤ê³„, ë°ì´í„° ë¶„ì„ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ë¬¸ì„±ì„ ê°–ì¶”ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì»´í“¨í„° ì‹œìŠ¤í…œ ì„¤ê³„.\n4. ì§ì—…: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nìµœì¢… ì¿¼ë¦¬: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nì •ì˜: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œ ë° ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ê³„, ê°œë°œ, í…ŒìŠ¤íŠ¸, ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ì „ë¬¸ê°€ë¡œ, ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ìš”êµ¬ì— ë§ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì£¼ìš” ì—­í• :\n- ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ë° ê°œë°œ\n- ì‚¬ìš©ì ìš”êµ¬ ë¶„ì„ ë° ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ì •ì˜\n- í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ í™œìš©í•œ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬í˜„\n- ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…\n\n- ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì•„í‚¤í…ì²˜ ê°œë°œ\n- ì‹œìŠ¤í…œ êµ¬ì¡° ì„¤ê³„ ë° ìµœì í™”\n- ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ê´€ë¦¬\n- ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ ì‹œìŠ¤í…œ ì„¤ê³„\n\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—…\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í”„ë¡œì íŠ¸ ê³„íš ë° ì¼ì • ê´€ë¦¬\n- íŒ€ì› ê°„ì˜ í˜‘ì—… ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : í”„ë¡œê·¸ë˜ë°, ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„, ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜\n- ì§€ì‹: ì»´í“¨í„°ê³µí•™ ê¸°ì´ˆ, ë°ì´í„°ë² ì´ìŠ¤, ë„¤íŠ¸ì›Œí¬\n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ë° ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ\n- Python, Java, C++ ë“± ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ìˆ™ë ¨\n- ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì´í•´\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë¼ì´í”„ì‚¬ì´í´(SDLC) ë° ì• ìì¼ ë°©ë²•ë¡  ì ìš©\n\n2. ì‹œìŠ¤í…œ ì„¤ê³„ ë° ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(DBMS) ì´í•´ ë° SQL í™œìš©\n- í´ë¼ìš°ë“œ ì»´í“¨íŒ… ë° ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„\n- ì‹œìŠ¤í…œ ì„±ëŠ¥ ìµœì í™” ë° í™•ì¥ì„± ê³ ë ¤\n\n3. ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ\n- ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ë° ì¸í„°ë„· êµ¬ì¡° ì´í•´\n- ì •ë³´ ë³´ì•ˆ ì›ì¹™ ë° ì•”í˜¸í™” ê¸°ìˆ  ì ìš©\n- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ë° ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ ì„¤ê³„\n\n4. ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ ë³´ì¦\n- ìë™í™” í…ŒìŠ¤íŠ¸ ë° í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD) ë°©ë²•ë¡ \n- ì†Œí”„íŠ¸ì›¨ì–´ í’ˆì§ˆ ê´€ë¦¬ ë° ë²„ê·¸ ì¶”ì  ì‹œìŠ¤í…œ í™œìš©\n- ì‚¬ìš©ì ê²½í—˜(UX) ë° ì¸í„°í˜ì´ìŠ¤(UI) ë””ìì¸ ì›ì¹™ ì ìš©\n\n5. ì‹¤ë¬´ì—ì„œ í™œìš©ë˜ëŠ” íˆ´ ë° í”Œë«í¼\n- ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Git, SVN) í™œìš©\n- í†µí•© ê°œë°œ í™˜ê²½(IDE) ë° ì½”ë“œ í¸ì§‘ê¸° ì‚¬ìš©\n- í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(AWS, Azure, Google Cloud) í™œìš©\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n- ì»´í“¨í„° ê³¼í•™ ê¸°ì´ˆ â†’ ì•Œê³ ë¦¬ì¦˜, ìë£Œêµ¬ì¡°, ì»´í“¨í„° ì•„í‚¤í…ì²˜\n- ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ â†’ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë°©ë²•ë¡  ë° í”„ë¡œì íŠ¸ ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ â†’ ë°ì´í„° ëª¨ë¸ë§ ë° ì¿¼ë¦¬ ìµœì í™”\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n- ì¸ê³µì§€ëŠ¥ ë° ë¨¸ì‹ ëŸ¬ë‹ â†’ ë°ì´í„° ë¶„ì„ ë° ì˜ˆì¸¡ ëª¨ë¸ë§\n- ë¶„ì‚° ì‹œìŠ¤í…œ ë° í´ë¼ìš°ë“œ ì»´í“¨íŒ… â†’ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ ë° ìš´ì˜\n- ì‚¬ì´ë²„ ë³´ì•ˆ â†’ ë³´ì•ˆ ìœ„í˜‘ ë¶„ì„ ë° ëŒ€ì‘ ì „ëµ\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ íˆ´ ë° í™˜ê²½ ì„¤ì • â†’ DevOps, CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ê²½í—˜ ë””ìì¸ â†’ UX/UI ë””ìì¸ ì›ì¹™ ë° ë„êµ¬ í™œìš©\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—… íˆ´ â†’ Jira, Trello, Slack ë“± í™œìš©\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ì»´í“¨í„°ê³µí•™ì´ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ê¸°ì´ˆíšŒë¡œì‹¤í—˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸,íšŒë¡œì´ë¡  1\nê°•ì¢Œëª…: ì „ìíšŒë¡œì‹¤í—˜\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì „ìíšŒë¡œ 1\nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\nê°•ì¢Œëª…: ì •ë³´ê²€ìƒ‰\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ë°ì´í„°ë§ˆì´ë‹\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥\nê°•ì¢Œëª…: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì„ í˜•ëŒ€ìˆ˜í•™\nê°•ì¢Œëª…: ë°ì´í„°ë² ì´ìŠ¤\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì¸ê³µì§€ëŠ¥\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜, í™•ë¥ ë°í†µê³„\nê°•ì¢Œëª…: ì»´í“¨í„°ë¹„ì „\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥, ê¸°ê³„í•™ìŠµ\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë…¼ë¦¬ì„¤ê³„\nê°•ì¢Œëª…: ì‹œìŠ¤í…œë³´ì•ˆ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\n\n=== ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê³¼ ===\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡  1\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ìº¡ìŠ¤í†¤í”„ë¡œì íŠ¸\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†Œí”„íŠ¸ì›¨ì–´ë„ë©”ì¸ëª¨ë¸ë§\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í•´ë‹¹ì—†ìŒ\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ê³µí•™\nê°•ì¢Œëª…: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´í’ˆì§ˆë°í…ŒìŠ¤íŒ…\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†ŒìŠ¤ì½”ë“œë¶„ì„\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ , ì†Œí”„íŠ¸ì›¨ì–´ê°œë°œí”„ë¡œì„¸ìŠ¤\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ë³´ì•ˆ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì•„í‚¤í…ì²˜ì´ë¡ ê³¼ì‹¤ì œ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\nê°•ì¢Œëª…: ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: Python í”„ë¡œê·¸ë˜ë° 1\nê°•ì¢Œëª…: ê³ ê¸‰ì›¹í”„ë¡œê·¸ë˜ë°\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì›¹í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: C++í”„ë¡œê·¸ë˜ë°\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì»´í“¨íŒ…ë¬¸ì œì™€ì•Œê³ ë¦¬ì¦˜\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜', 'service': 'curriculum', 'query': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”'}
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - âœ… ì»¤ë¦¬í˜ëŸ¼ ì‘ë‹µ ì„±ê³µ: 2965ì ì‘ë‹µ
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - ğŸ“„ ì‘ë‹µ ë¯¸ë¦¬ë³´ê¸°: ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”

1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ê³¼ëª©ì„ í†µí•´ ì»´í“¨í„°ê³µí•™ ì „ë°˜ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.
2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì‹œìŠ¤í…œ ì„¤ê³„, ë°ì´í„° ë¶„ì„ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ë¬¸ì„±ì„ ê°–ì¶”ê³  ì‹¶ìŠµë‹ˆë‹¤.
3. ì§ì—… ë¶„ì•¼: ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì»´í“¨í„° ì‹œìŠ¤í…œ ì„¤ê³„.
4. ì§ì—…: ...
2025-09-28 04:35:07 - handlers.curriculum_handler - INFO - ============================================================
2025-09-28 04:35:07 - service.nodes.query_route.heavy_nodes - INFO - âœ… [HEAVY] curriculum ê²€ìƒ‰ ì™„ë£Œ
2025-09-28 04:35:07 - service.nodes.query_route.heavy_nodes - INFO - ğŸ¯ [HEAVY] ìˆœì°¨ ì²˜ë¦¬ ì™„ë£Œ: 3ê°œ ë‹¨ê³„ ì„±ê³µ
2025-09-28 04:35:07 - service.nodes.base_node - INFO - âœ… HeavySequential ë…¸ë“œ ì™„ë£Œ (18.45ì´ˆ)
2025-09-28 04:35:07 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:35:07 - service.nodes.synthesis_nodes - INFO - ğŸ” [DEBUG] ìŠ¬ë¡¯ ë‚´ìš©: {'sql': 'ì¡°íšŒ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'dept': 'í•™ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'curriculum': 'ì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ê³¼ëª©ì„ í†µí•´ ì»´í“¨í„°ê³µí•™ ì „ë°˜ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì‹œìŠ¤í…œ ì„¤ê³„, ë°ì´í„° ë¶„ì„ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ë¬¸ì„±ì„ ê°–ì¶”ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì»´í“¨í„° ì‹œìŠ¤í…œ ì„¤ê³„.\n4. ì§ì—…: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nìµœì¢… ì¿¼ë¦¬: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nì •ì˜: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œ ë° ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ê³„, ê°œë°œ, í…ŒìŠ¤íŠ¸, ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ì „ë¬¸ê°€ë¡œ, ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ìš”êµ¬ì— ë§ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì£¼ìš” ì—­í• :\n- ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ë° ê°œë°œ\n- ì‚¬ìš©ì ìš”êµ¬ ë¶„ì„ ë° ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ì •ì˜\n- í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ í™œìš©í•œ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬í˜„\n- ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…\n\n- ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì•„í‚¤í…ì²˜ ê°œë°œ\n- ì‹œìŠ¤í…œ êµ¬ì¡° ì„¤ê³„ ë° ìµœì í™”\n- ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ê´€ë¦¬\n- ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ ì‹œìŠ¤í…œ ì„¤ê³„\n\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—…\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í”„ë¡œì íŠ¸ ê³„íš ë° ì¼ì • ê´€ë¦¬\n- íŒ€ì› ê°„ì˜ í˜‘ì—… ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : í”„ë¡œê·¸ë˜ë°, ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„, ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜\n- ì§€ì‹: ì»´í“¨í„°ê³µí•™ ê¸°ì´ˆ, ë°ì´í„°ë² ì´ìŠ¤, ë„¤íŠ¸ì›Œí¬\n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ë° ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ\n- Python, Java, C++ ë“± ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ìˆ™ë ¨\n- ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì´í•´\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë¼ì´í”„ì‚¬ì´í´(SDLC) ë° ì• ìì¼ ë°©ë²•ë¡  ì ìš©\n\n2. ì‹œìŠ¤í…œ ì„¤ê³„ ë° ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(DBMS) ì´í•´ ë° SQL í™œìš©\n- í´ë¼ìš°ë“œ ì»´í“¨íŒ… ë° ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„\n- ì‹œìŠ¤í…œ ì„±ëŠ¥ ìµœì í™” ë° í™•ì¥ì„± ê³ ë ¤\n\n3. ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ\n- ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ë° ì¸í„°ë„· êµ¬ì¡° ì´í•´\n- ì •ë³´ ë³´ì•ˆ ì›ì¹™ ë° ì•”í˜¸í™” ê¸°ìˆ  ì ìš©\n- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ë° ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ ì„¤ê³„\n\n4. ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ ë³´ì¦\n- ìë™í™” í…ŒìŠ¤íŠ¸ ë° í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD) ë°©ë²•ë¡ \n- ì†Œí”„íŠ¸ì›¨ì–´ í’ˆì§ˆ ê´€ë¦¬ ë° ë²„ê·¸ ì¶”ì  ì‹œìŠ¤í…œ í™œìš©\n- ì‚¬ìš©ì ê²½í—˜(UX) ë° ì¸í„°í˜ì´ìŠ¤(UI) ë””ìì¸ ì›ì¹™ ì ìš©\n\n5. ì‹¤ë¬´ì—ì„œ í™œìš©ë˜ëŠ” íˆ´ ë° í”Œë«í¼\n- ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Git, SVN) í™œìš©\n- í†µí•© ê°œë°œ í™˜ê²½(IDE) ë° ì½”ë“œ í¸ì§‘ê¸° ì‚¬ìš©\n- í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(AWS, Azure, Google Cloud) í™œìš©\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n- ì»´í“¨í„° ê³¼í•™ ê¸°ì´ˆ â†’ ì•Œê³ ë¦¬ì¦˜, ìë£Œêµ¬ì¡°, ì»´í“¨í„° ì•„í‚¤í…ì²˜\n- ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ â†’ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë°©ë²•ë¡  ë° í”„ë¡œì íŠ¸ ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ â†’ ë°ì´í„° ëª¨ë¸ë§ ë° ì¿¼ë¦¬ ìµœì í™”\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n- ì¸ê³µì§€ëŠ¥ ë° ë¨¸ì‹ ëŸ¬ë‹ â†’ ë°ì´í„° ë¶„ì„ ë° ì˜ˆì¸¡ ëª¨ë¸ë§\n- ë¶„ì‚° ì‹œìŠ¤í…œ ë° í´ë¼ìš°ë“œ ì»´í“¨íŒ… â†’ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ ë° ìš´ì˜\n- ì‚¬ì´ë²„ ë³´ì•ˆ â†’ ë³´ì•ˆ ìœ„í˜‘ ë¶„ì„ ë° ëŒ€ì‘ ì „ëµ\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ íˆ´ ë° í™˜ê²½ ì„¤ì • â†’ DevOps, CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ê²½í—˜ ë””ìì¸ â†’ UX/UI ë””ìì¸ ì›ì¹™ ë° ë„êµ¬ í™œìš©\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—… íˆ´ â†’ Jira, Trello, Slack ë“± í™œìš©\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ì»´í“¨í„°ê³µí•™ì´ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ê¸°ì´ˆíšŒë¡œì‹¤í—˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸,íšŒë¡œì´ë¡  1\nê°•ì¢Œëª…: ì „ìíšŒë¡œì‹¤í—˜\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì „ìíšŒë¡œ 1\nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\nê°•ì¢Œëª…: ì •ë³´ê²€ìƒ‰\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ë°ì´í„°ë§ˆì´ë‹\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥\nê°•ì¢Œëª…: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì„ í˜•ëŒ€ìˆ˜í•™\nê°•ì¢Œëª…: ë°ì´í„°ë² ì´ìŠ¤\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì¸ê³µì§€ëŠ¥\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜, í™•ë¥ ë°í†µê³„\nê°•ì¢Œëª…: ì»´í“¨í„°ë¹„ì „\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥, ê¸°ê³„í•™ìŠµ\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë…¼ë¦¬ì„¤ê³„\nê°•ì¢Œëª…: ì‹œìŠ¤í…œë³´ì•ˆ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\n\n=== ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê³¼ ===\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡  1\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ìº¡ìŠ¤í†¤í”„ë¡œì íŠ¸\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†Œí”„íŠ¸ì›¨ì–´ë„ë©”ì¸ëª¨ë¸ë§\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í•´ë‹¹ì—†ìŒ\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ê³µí•™\nê°•ì¢Œëª…: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´í’ˆì§ˆë°í…ŒìŠ¤íŒ…\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†ŒìŠ¤ì½”ë“œë¶„ì„\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ , ì†Œí”„íŠ¸ì›¨ì–´ê°œë°œí”„ë¡œì„¸ìŠ¤\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ë³´ì•ˆ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì•„í‚¤í…ì²˜ì´ë¡ ê³¼ì‹¤ì œ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\nê°•ì¢Œëª…: ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: Python í”„ë¡œê·¸ë˜ë° 1\nê°•ì¢Œëª…: ê³ ê¸‰ì›¹í”„ë¡œê·¸ë˜ë°\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì›¹í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: C++í”„ë¡œê·¸ë˜ë°\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì»´í“¨íŒ…ë¬¸ì œì™€ì•Œê³ ë¦¬ì¦˜\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜'}
2025-09-28 04:35:07 - service.nodes.synthesis_nodes - INFO - âœ… [DEBUG] ìŠ¬ë¡¯ sqlì—ì„œ ê²°ê³¼ ë°œê²¬: 18ì
2025-09-28 04:35:07 - service.nodes.synthesis_nodes - INFO - âœ… [DEBUG] ìŠ¬ë¡¯ deptì—ì„œ ê²°ê³¼ ë°œê²¬: 14ì
2025-09-28 04:35:07 - service.nodes.synthesis_nodes - INFO - âœ… [DEBUG] ìŠ¬ë¡¯ curriculumì—ì„œ ê²°ê³¼ ë°œê²¬: 2965ì
2025-09-28 04:35:07 - service.nodes.synthesis_nodes - INFO - ğŸ“Š [DEBUG] ì´ 3ê°œ ê²°ê³¼ ìˆ˜ì§‘ë¨
2025-09-28 04:35:07 - synthesis.start - INFO - ğŸš€ í•©ì„± ì‹œì‘: prompt_length=8489
2025-09-28 04:35:07 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-5f67b761-8bc7-4f34-95ff-bae92d9c7cd1', 'json_data': {'messages': [{'content': 'ë‹¹ì‹ ì€ ëŒ€í•™ ì •ë³´ ë©˜í† ì…ë‹ˆë‹¤. ì—ì´ì „íŠ¸ê°€ ì°¾ì€ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚¬ìš©ì ì§ˆë¬¸ì— ëŒ€í•´ ìì—°ìŠ¤ëŸ½ê³  ë„ì›€ì´ ë˜ëŠ” ë‹µë³€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\n\n\n\nì‚¬ìš©ì ì§ˆë¬¸: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nì—ì´ì „íŠ¸ê°€ ì°¾ì€ ì •ë³´:\nì¡°íšŒ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\ní•™ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\nì¿¼ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n1. ìµœì¢… í•™ìŠµ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ì˜ ê¸°ì´ˆ ë° ì‹¬í™” ê³¼ëª©ì„ í†µí•´ ì»´í“¨í„°ê³µí•™ ì „ë°˜ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.\n2. ì§„ë¡œ ëª©í‘œ: ì»´í“¨í„°ê³µí•™ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ, ì‹œìŠ¤í…œ ì„¤ê³„, ë°ì´í„° ë¶„ì„ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ë¬¸ì„±ì„ ê°–ì¶”ê³  ì‹¶ìŠµë‹ˆë‹¤.\n3. ì§ì—… ë¶„ì•¼: ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ì»´í“¨í„° ì‹œìŠ¤í…œ ì„¤ê³„.\n4. ì§ì—…: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nìµœì¢… ì¿¼ë¦¬: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´.\n\nì •ì˜: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œ ë° ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ê³„, ê°œë°œ, í…ŒìŠ¤íŠ¸, ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ì „ë¬¸ê°€ë¡œ, ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ìš”êµ¬ì— ë§ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì£¼ìš” ì—­í• :\n- ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ë° ê°œë°œ\n- ì‚¬ìš©ì ìš”êµ¬ ë¶„ì„ ë° ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ì •ì˜\n- í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ í™œìš©í•œ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬í˜„\n- ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…\n\n- ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì•„í‚¤í…ì²˜ ê°œë°œ\n- ì‹œìŠ¤í…œ êµ¬ì¡° ì„¤ê³„ ë° ìµœì í™”\n- ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ê´€ë¦¬\n- ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ ì‹œìŠ¤í…œ ì„¤ê³„\n\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—…\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í”„ë¡œì íŠ¸ ê³„íš ë° ì¼ì • ê´€ë¦¬\n- íŒ€ì› ê°„ì˜ í˜‘ì—… ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\n\nì¶”ì¶œëœ ê¸°ìˆ  ë˜ëŠ” ì§€ì‹:\n- ê¸°ìˆ : í”„ë¡œê·¸ë˜ë°, ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„, ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜\n- ì§€ì‹: ì»´í“¨í„°ê³µí•™ ê¸°ì´ˆ, ë°ì´í„°ë² ì´ìŠ¤, ë„¤íŠ¸ì›Œí¬\n\nì¶”ë¡ ëœ ê¸°ìˆ :\n1. í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ë° ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ\n- Python, Java, C++ ë“± ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ìˆ™ë ¨\n- ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì´í•´\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë¼ì´í”„ì‚¬ì´í´(SDLC) ë° ì• ìì¼ ë°©ë²•ë¡  ì ìš©\n\n2. ì‹œìŠ¤í…œ ì„¤ê³„ ë° ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(DBMS) ì´í•´ ë° SQL í™œìš©\n- í´ë¼ìš°ë“œ ì»´í“¨íŒ… ë° ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„\n- ì‹œìŠ¤í…œ ì„±ëŠ¥ ìµœì í™” ë° í™•ì¥ì„± ê³ ë ¤\n\n3. ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ\n- ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ë° ì¸í„°ë„· êµ¬ì¡° ì´í•´\n- ì •ë³´ ë³´ì•ˆ ì›ì¹™ ë° ì•”í˜¸í™” ê¸°ìˆ  ì ìš©\n- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ë° ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ ì„¤ê³„\n\n4. ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ ë³´ì¦\n- ìë™í™” í…ŒìŠ¤íŠ¸ ë° í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD) ë°©ë²•ë¡ \n- ì†Œí”„íŠ¸ì›¨ì–´ í’ˆì§ˆ ê´€ë¦¬ ë° ë²„ê·¸ ì¶”ì  ì‹œìŠ¤í…œ í™œìš©\n- ì‚¬ìš©ì ê²½í—˜(UX) ë° ì¸í„°í˜ì´ìŠ¤(UI) ë””ìì¸ ì›ì¹™ ì ìš©\n\n5. ì‹¤ë¬´ì—ì„œ í™œìš©ë˜ëŠ” íˆ´ ë° í”Œë«í¼\n- ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Git, SVN) í™œìš©\n- í†µí•© ê°œë°œ í™˜ê²½(IDE) ë° ì½”ë“œ í¸ì§‘ê¸° ì‚¬ìš©\n- í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(AWS, Azure, Google Cloud) í™œìš©\n\nì¶”ë¡ ëœ ì§€ì‹:\n1. í•µì‹¬ ì§€ì‹ (Core Knowledge)\n- ì»´í“¨í„° ê³¼í•™ ê¸°ì´ˆ â†’ ì•Œê³ ë¦¬ì¦˜, ìë£Œêµ¬ì¡°, ì»´í“¨í„° ì•„í‚¤í…ì²˜\n- ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ â†’ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë°©ë²•ë¡  ë° í”„ë¡œì íŠ¸ ê´€ë¦¬\n- ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ â†’ ë°ì´í„° ëª¨ë¸ë§ ë° ì¿¼ë¦¬ ìµœì í™”\n\n2. ì „ë¬¸ ì§€ì‹ (Specialized Knowledge)\n- ì¸ê³µì§€ëŠ¥ ë° ë¨¸ì‹ ëŸ¬ë‹ â†’ ë°ì´í„° ë¶„ì„ ë° ì˜ˆì¸¡ ëª¨ë¸ë§\n- ë¶„ì‚° ì‹œìŠ¤í…œ ë° í´ë¼ìš°ë“œ ì»´í“¨íŒ… â†’ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ ë° ìš´ì˜\n- ì‚¬ì´ë²„ ë³´ì•ˆ â†’ ë³´ì•ˆ ìœ„í˜‘ ë¶„ì„ ë° ëŒ€ì‘ ì „ëµ\n\n3. ì‹¤ë¬´ ì§€ì‹ (Practical Knowledge)\n- ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ íˆ´ ë° í™˜ê²½ ì„¤ì • â†’ DevOps, CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ê²½í—˜ ë””ìì¸ â†’ UX/UI ë””ìì¸ ì›ì¹™ ë° ë„êµ¬ í™œìš©\n- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—… íˆ´ â†’ Jira, Trello, Slack ë“± í™œìš©\n\n=== ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ===\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì›ì˜ˆì‘ë¬¼ìƒë¦¬í•™ë°ì‹¤í—˜\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™ ë˜ëŠ” ì‹ë¬¼í•™\nê°•ì¢Œëª…: ì›ì˜ˆì‹ë¬¼í•´ë¶€í•™\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™\nê°•ì¢Œëª…: ì‹ë¬¼ìƒì¥ì¡°ì ˆí•™\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¼ë°˜ìƒë¬¼í•™, ì‹ë¬¼ìƒë¦¬í•™\nê°•ì¢Œëª…: ì»´í“¨í„°ê³µí•™ì´ë¡ \n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ê¸°ì´ˆíšŒë¡œì‹¤í—˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸,íšŒë¡œì´ë¡  1\nê°•ì¢Œëª…: ì „ìíšŒë¡œì‹¤í—˜\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì „ìíšŒë¡œ 1\nê°•ì¢Œëª…: ì›¹ì„œë¹„ìŠ¤ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤, ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\nê°•ì¢Œëª…: ì •ë³´ê²€ìƒ‰\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë°ì´í„°ë² ì´ìŠ¤\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ë°ì´í„°ë§ˆì´ë‹\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥\nê°•ì¢Œëª…: ìˆ˜ì¹˜í•´ì„ë°ìµœì í™”\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì„ í˜•ëŒ€ìˆ˜í•™\nê°•ì¢Œëª…: ë°ì´í„°ë² ì´ìŠ¤\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì»´í“¨í„°ë…¼ë¦¬ë°ë…¼ìˆ ë¡ \n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì¸ê³µì§€ëŠ¥\n3í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜, í™•ë¥ ë°í†µê³„\nê°•ì¢Œëª…: ì»´í“¨í„°ë¹„ì „\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì¸ê³µì§€ëŠ¥, ê¸°ê³„í•™ìŠµ\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë…¼ë¦¬ì„¤ê³„\nê°•ì¢Œëª…: ì‹œìŠ¤í…œë³´ì•ˆ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\n\n=== ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê³¼ ===\nê°•ì¢Œëª…: ì•Œê³ ë¦¬ì¦˜\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìë£Œêµ¬ì¡°\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡  1\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ìº¡ìŠ¤í†¤í”„ë¡œì íŠ¸\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†Œí”„íŠ¸ì›¨ì–´ë„ë©”ì¸ëª¨ë¸ë§\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ \n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: í•´ë‹¹ì—†ìŒ\nê°•ì¢Œëª…: ìë£Œêµ¬ì¡°\n2í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: C++í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: ì»´í“¨í„°êµ¬ì¡°\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ë””ì§€í„¸ê³µí•™\nê°•ì¢Œëª…: ì°½ì˜ì ê³µí•™ì„¤ê³„ì…ë¬¸\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´í’ˆì§ˆë°í…ŒìŠ¤íŒ…\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„, ì†ŒìŠ¤ì½”ë“œë¶„ì„\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ , ì†Œí”„íŠ¸ì›¨ì–´ê°œë°œí”„ë¡œì„¸ìŠ¤\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ë³´ì•ˆ\n4í•™ë…„ 1í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ìš´ì˜ì²´ì œ\nê°•ì¢Œëª…: ì†Œí”„íŠ¸ì›¨ì–´ì•„í‚¤í…ì²˜ì´ë¡ ê³¼ì‹¤ì œ\n4í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì†Œí”„íŠ¸ì›¨ì–´ì‹œìŠ¤í…œë¶„ì„ë°ì„¤ê³„\nê°•ì¢Œëª…: ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤\n2í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: Python í”„ë¡œê·¸ë˜ë° 1\nê°•ì¢Œëª…: ê³ ê¸‰ì›¹í”„ë¡œê·¸ë˜ë°\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì›¹í”„ë¡œê·¸ë˜ë°\nê°•ì¢Œëª…: C++í”„ë¡œê·¸ë˜ë°\n1í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: \nê°•ì¢Œëª…: ì»´í“¨íŒ…ë¬¸ì œì™€ì•Œê³ ë¦¬ì¦˜\n3í•™ë…„ 2í•™ê¸°\nì„ ìˆ˜ê³¼ëª©: ì•Œê³ ë¦¬ì¦˜\n\nì²˜ë¦¬ ë°©ì‹: unified\n\n**ğŸš¨ğŸš¨ğŸš¨ ì ˆëŒ€ì  í• ë£¨ì‹œë„¤ì´ì…˜ ê¸ˆì§€ ê·œì¹™ ğŸš¨ğŸš¨ğŸš¨**\n**ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” ê³¼ëª©ì€ ì ˆëŒ€ ìƒì„±í•˜ì§€ ë§ ê²ƒ**\n**ê²€ìƒ‰ ê²°ê³¼ì˜ ì •ë³´ë¥¼ ì •í™•íˆ ë°˜ì˜í•  ê²ƒ**\n**"ì»´í“¨í„° ë¹„ì „" ì§ˆë¬¸ì— ë§ì¶°ì„œ ì„ì˜ë¡œ ê³¼ëª©ì„ ë§Œë“¤ì§€ ë§ ê²ƒ**\n\nìœ„ì˜ "ì—ì´ì „íŠ¸ê°€ ì°¾ì€ ì •ë³´"ë¥¼ ë°˜ë“œì‹œ ë¨¼ì € ë¶„ì„í•˜ì„¸ìš”:\n1. JSON í˜•íƒœì˜ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ê° í•­ëª©ì˜ "professor" í•„ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”\n2. ì‚¬ìš©ìê°€ ì–¸ê¸‰í•œ êµìˆ˜ëª…ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê³¼ëª©ì´ ìˆëŠ”ì§€ ì°¾ìœ¼ì„¸ìš”\n3. êµìˆ˜ëª…ì´ ì¼ì¹˜í•˜ëŠ” ê³¼ëª©ì´ ìˆë‹¤ë©´ ë°˜ë“œì‹œ ê·¸ ê³¼ëª©ì„ ì œì‹œí•˜ì„¸ìš”\n4. "ì •ë³´ ì—†ìŒ"ì´ë¼ê³  ë‹µë³€í•˜ê¸° ì „ì— ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•˜ì„¸ìš”\n\n**ğŸ”¥ CRITICAL: ê²€ìƒ‰ ê²°ê³¼ ìš°ì„  ì›ì¹™ ğŸ”¥**\n- **ì ˆëŒ€ ê·œì¹™**: ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” ê³¼ëª©ì€ ì ˆëŒ€ ìƒì„±í•˜ì§€ ë§ˆì„¸ìš”\n- **ì ˆëŒ€ ê·œì¹™**: ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” êµìˆ˜ëª…ì€ ì ˆëŒ€ ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”\n- **ì ˆëŒ€ ê·œì¹™**: ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” ì •ë³´ëŠ” "ì •ë³´ ì—†ìŒ"ì´ë¼ê³  ëª…ì‹œí•˜ì„¸ìš”\n- **ì ˆëŒ€ ê·œì¹™**: ì‚¬ìš©ì ì§ˆë¬¸ì— ë§ì¶°ì„œ ì„ì˜ë¡œ ê³¼ëª©ì„ ë§Œë“¤ì§€ ë§ˆì„¸ìš”\n\në‹µë³€ ì‘ì„± ì§€ì¹¨:\n1. **ğŸš¨ ìµœìš°ì„ : ê²€ìƒ‰ ê²°ê³¼ ì •í™•íˆ ë°˜ì˜**: ìœ„ì˜ "ì—ì´ì „íŠ¸ê°€ ì°¾ì€ ì •ë³´"ì— ë‚˜ì˜¨ ë°ì´í„°ë¥¼ **ì •í™•íˆ ê·¸ëŒ€ë¡œ** ì‚¬ìš©í•˜ì„¸ìš”\n   - **ëª¨ë“  ê²€ìƒ‰ ê²°ê³¼ë¥¼ í¬í•¨**: 20ê°œ ê³¼ëª©ì´ ìˆë‹¤ë©´ 20ê°œ ëª¨ë‘ ì œì‹œí•˜ì„¸ìš”\n   - **ê²°ê³¼ ì¶•ì†Œ ê¸ˆì§€**: "ì£¼ìš” ê³¼ëª©ë§Œ" ë˜ëŠ” "ëŒ€í‘œì ì¸ ê³¼ëª©" ê°™ì€ ì¶•ì†Œ í‘œí˜„ ì‚¬ìš© ê¸ˆì§€\n   - í•™ê³¼ëª…, êµìˆ˜ëª…, ê³¼ëª©ëª…ì€ ê²€ìƒ‰ ê²°ê³¼ì™€ **100% ì¼ì¹˜**í•˜ê²Œ ì‘ì„±\n   - ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” ì •ë³´ëŠ” **ì ˆëŒ€ë¡œ ì¶”ê°€í•˜ê±°ë‚˜ ì¶”ì¸¡í•˜ì§€ ë§ˆì„¸ìš”**\n   - **êµìˆ˜ëª… ê²€ìƒ‰ ì‹œ ì£¼ì˜**: ê²€ìƒ‰ ê²°ê³¼ì— êµìˆ˜ëª…ì´ í¬í•¨ëœ ê³¼ëª©ì´ ìˆë‹¤ë©´ ë°˜ë“œì‹œ ê·¸ êµìˆ˜ê°€ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì œì‹œí•˜ì„¸ìš”\n   - ë¶ˆí™•ì‹¤í•˜ë©´ "ì •ë³´ ì—†ìŒ"ì´ë¼ê³  ëª…ì‹œí•˜ì„¸ìš”\n\n1-1. **ğŸš¨ğŸš¨ğŸš¨ í•™ê³¼ ë§¤í•‘ ê²°ê³¼ ì ˆëŒ€ ìš°ì„  ğŸš¨ğŸš¨ğŸš¨**: ì‚¬ìš©ìê°€ íŠ¹ì • í•™ê³¼ë¥¼ ì–¸ê¸‰í•œ ê²½ìš°\n   - **ë§¤í•‘ëœ í•™ê³¼ì˜ ê³¼ëª©ë“¤ë§Œ ì„ íƒí•˜ê³  ë‹¤ë¥¸ í•™ê³¼ ê³¼ëª©ì€ ì™„ì „íˆ ì œì™¸**í•˜ì„¸ìš”\n   - **ì ˆëŒ€ ê·œì¹™**: "ì»´ê³µ" â†’ "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€"ë¡œ ë§¤í•‘ë˜ì—ˆë‹¤ë©´, ì „ìê³µí•™ë¶€ë‚˜ ê¸°ê³„ê³µí•™ë¶€ ê³¼ëª©ì€ **ì ˆëŒ€ í¬í•¨ ê¸ˆì§€**\n   - **ìœ ì‚¬ë„ ë¬´ì‹œ**: ë‹¤ë¥¸ í•™ê³¼ ê³¼ëª©ì´ ìœ ì‚¬ë„ê°€ ë†’ì•„ë„ **ì ˆëŒ€ë¡œ ì„ íƒí•˜ì§€ ë§ˆì„¸ìš”**\n   - **ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ì¤€ìˆ˜**: ì‚¬ìš©ìê°€ "ì»´ê³µìˆ˜ì—…"ì„ ìš”ì²­í–ˆë‹¤ë©´ ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ê³¼ëª©ë§Œ ì œì‹œ\n   - **ì‹¤ìˆ˜ ì¸ì •**: ë‹¤ë¥¸ í•™ê³¼ ê³¼ëª©ì„ ì œì‹œí–ˆë‹¤ë©´ "ì£„ì†¡í•©ë‹ˆë‹¤. ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ê³¼ëª©ì„ ë‹¤ì‹œ ì°¾ì•„ë“œë¦¬ê² ìŠµë‹ˆë‹¤"ë¼ê³  ì‘ë‹µ\n\n2. **ì§ˆë¬¸ ì˜ë„ íŒŒì•…**: ì‚¬ìš©ì ì§ˆë¬¸ì˜ í•µì‹¬ ì˜ë„ë¥¼ ì •í™•íˆ íŒŒì•…í•˜ì„¸ìš”\n   - "ì–´ë””ì„œ ì—´ë¦¬ëƒ", "ê°•ì˜ì‹¤", "ëª‡ í˜¸" â†’ **ê°•ì˜ì‹¤(location)**ì„ ê°€ì¥ ë¨¼ì €, í¬ê²Œ ê°•ì¡°í•˜ì—¬ ë‹µë³€\n   - "ì–¸ì œ", "ì‹œê°„í‘œ", "ëª‡ êµì‹œ" â†’ **ì‹œê°„í‘œ(schedule)** ìš°ì„  ë‹µë³€  \n   - "ì–´ëŠ í•™ê³¼", "ì–´ëŠ ê³¼", "í•™ê³¼ ì–´ë””" â†’ **í•™ê³¼ëª…** ìš°ì„  ë‹µë³€\n   - "ëˆ„ê°€ ê°€ë¥´ì¹˜ëƒ", "êµìˆ˜ ëˆ„êµ¬", "â—‹â—‹ êµìˆ˜ë‹˜ì€ ë¬´ìŠ¨ ìˆ˜ì—…" â†’ **êµìˆ˜ëª…** ìš°ì„  ë‹µë³€\n   - "ëª‡ í•™ì ", "í•™ì " â†’ **í•™ì  ì •ë³´** ìš°ì„  ë‹µë³€\n   \n   **êµìˆ˜ëª… ì§ˆë¬¸ íŠ¹ë³„ ì²˜ë¦¬**:\n   - ì‚¬ìš©ìê°€ íŠ¹ì • êµìˆ˜ëª…ì„ ì–¸ê¸‰í–ˆë‹¤ë©´, ê²€ìƒ‰ ê²°ê³¼ì—ì„œ í•´ë‹¹ êµìˆ˜ëª…ì´ í¬í•¨ëœ ëª¨ë“  ê³¼ëª©ì„ ì°¾ì•„ ì œì‹œí•˜ì„¸ìš”\n   - "ì´ì •íœ´ êµìˆ˜ë‹˜ì€ ë¬´ìŠ¨ ìˆ˜ì—… ê°€ë¥´ì¹˜ì‹œëŠë°?" â†’ ê²€ìƒ‰ ê²°ê³¼ì—ì„œ "ì´ì •íœ´"ê°€ professor í•„ë“œì— ìˆëŠ” ëª¨ë“  ê³¼ëª©ì„ ì°¾ì•„ ì œì‹œ\n   - êµìˆ˜ëª…ì´ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê³¼ëª©ì´ ìˆë‹¤ë©´ "ê°€ë¥´ì¹˜ëŠ”ê²Œ ì—†ë‹¤"ê³  ì ˆëŒ€ ë‹µë³€í•˜ì§€ ë§ˆì„¸ìš”\n\n3. **ğŸ”¥ ì´ì „ ëŒ€í™” ì—°ê²°ì„± ê°•í™” ğŸ”¥**: ìœ„ ëŒ€í™” íˆìŠ¤í† ë¦¬ê°€ ìˆë‹¤ë©´ **ë°˜ë“œì‹œ** ì´ì „ ëŒ€í™”ì™€ ì—°ê²°í•˜ì—¬ ë‹µë³€í•˜ì„¸ìš”\n   - **ì§€ì‹œì–´ í•´ì„**: ì‚¬ìš©ìê°€ "ê·¸ê±°", "ê·¸ êµìˆ˜ë‹˜", "ì²« ë²ˆì§¸", "ë§ˆì§€ë§‰", "í•œì§€ì˜ êµìˆ˜ë‹˜" ë“± **êµ¬ì²´ì  ì°¸ì¡°**ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ì „ ëŒ€í™”ì—ì„œ ì–¸ê¸‰ëœ ë‚´ìš©ì„ ì°¾ì•„ ì •í™•íˆ ë§¤ì¹­\n   - **ì—°ê²° í‘œí˜„ ì˜ë¬´ ì‚¬ìš©**: "ì•ì„œ ë§ì”€ë“œë¦° êµìˆ˜ë‹˜ë“¤ ì¤‘ì—ì„œ...", "ì´ì „ì— ë³´ì—¬ë“œë¦° ëª©ë¡ì—ì„œ..." ë“±ìœ¼ë¡œ **ë°˜ë“œì‹œ** ì—°ê²°\n   - **ì»¨í…ìŠ¤íŠ¸ ìš°ì„ **: ì‚¬ìš©ìê°€ ì´ì „ ëŒ€í™”ë¥¼ ì°¸ì¡°í•˜ëŠ” ì§ˆë¬¸ì„ í–ˆë‹¤ë©´, ìƒˆë¡œìš´ ê²€ìƒ‰ë³´ë‹¤ **ì´ì „ ê²°ê³¼ë¥¼ ìš°ì„  í™œìš©**\n   - **ì˜ˆì‹œ**:\n     * ì´ì „: "ì»´í“¨í„°ê³µí•™ê³¼ êµìˆ˜ë‹˜ë“¤: 1.í•œì§€ì˜, 2.ê°•ê²½ë€..."\n     * í˜„ì¬: "í•œì§€ì˜ êµìˆ˜ë‹˜ ë­˜ ê°€ë¥´ì¹˜ë‚˜ìš”?"\n     * ë‹µë³€: "ì•ì„œ ë³´ì—¬ë“œë¦° ì»´í“¨í„°ê³µí•™ê³¼ êµìˆ˜ë‹˜ ëª©ë¡ ì¤‘ **í•œì§€ì˜ êµìˆ˜ë‹˜**ê»˜ì„œ ê°€ë¥´ì¹˜ì‹œëŠ” ê³¼ëª©ì€..."\n\n4. ì‚¬ìš©ì ì§ˆë¬¸ì— ì§ì ‘ì ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”\n\n5. ì°¾ì€ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ì‹¤ìš©ì ì¸ ì •ë³´ë¥¼ ì œê³µí•˜ì„¸ìš”\n\n6. **ìƒì„¸ ì •ë³´ ì œê³µ**: ê° ê³¼ëª©ì— ëŒ€í•´ **ê²€ìƒ‰ëœ ì‹¤ì œ ì •ë³´ë§Œ** ì œê³µí•˜ì„¸ìš”:\n   - ê³¼ëª©ëª… (name) - í•„ìˆ˜\n   - **í•™ê³¼ (department_full_name ìµœìš°ì„ , ì—†ìœ¼ë©´ department)** - í•„ìˆ˜  \n     âš ï¸ **ì¤‘ìš”**: `department_full_name`ì´ ìˆìœ¼ë©´ ë°˜ë“œì‹œ ì´ê²ƒì„ ì‚¬ìš©í•˜ì„¸ìš” (SQL JOIN ê²°ê³¼ê°€ ë” ì •í™•í•¨)\n   - êµìˆ˜ëª… (professor) - ìˆëŠ” ê²½ìš°ë§Œ\n   - **ê°•ì˜ì‹¤ (location)** - ìˆëŠ” ê²½ìš°ë§Œ, **"ì–´ë””ì„œ ì—´ë¦¬ëƒ" ì§ˆë¬¸ ì‹œ ìµœìš°ì„ **\n   - **ì‹œê°„í‘œ (schedule)** - ìˆëŠ” ê²½ìš°ë§Œ, **"ì–¸ì œ" ì§ˆë¬¸ ì‹œ ìµœìš°ì„ **\n   - í•™ì  (credits) - ìˆëŠ” ê²½ìš°ë§Œ\n   - ê³¼ëª©ì½”ë“œ (course_code) - ìˆëŠ” ê²½ìš°ë§Œ\n   - ì„ ìˆ˜ê³¼ëª© (prerequisite) - ìˆëŠ” ê²½ìš°ë§Œ\n   - ëŒ€ìƒ í•™ë…„ (target_grade) - ìˆëŠ” ê²½ìš°ë§Œ\n   - ìˆ˜ì—…ë°©ì‹ (delivery_mode) - ìˆëŠ” ê²½ìš°ë§Œ\n\n7. ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ë˜, ìœ„ ì •ë³´ë“¤ì„ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ì„œ ì œì‹œí•˜ì„¸ìš”\n\n8. ë‹¨ê³„ë³„ ì²˜ë¦¬ ê³¼ì •("ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê²€ìƒ‰ ì¤‘ì…ë‹ˆë‹¤" ë“±)ì€ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”\n\n9. ì‹œìŠ¤í…œ ë‚´ë¶€ ì •ë³´(VECTOR_SEARCH, SQL_DATABASE ë“±)ëŠ” ë…¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”\n\n10. ì¶”ì²œ ê³¼ëª©ì´ ìˆë‹¤ë©´ ìˆ˜ê°• ìˆœì„œë‚˜ ì„ ìˆ˜ê³¼ëª©ë„ í•¨ê»˜ ì•ˆë‚´í•˜ì„¸ìš”\n\n11. **ğŸš¨ğŸš¨ğŸš¨ í• ë£¨ì‹œë„¤ì´ì…˜ ì ˆëŒ€ ê¸ˆì§€ ğŸš¨ğŸš¨ğŸš¨**: \n    **ì˜ˆì‹œ ë¶„ì„**: ê²€ìƒ‰ ê²°ê³¼ê°€ "ë°ì´í„°ë§ˆì´ë‹ (ì‚°ì—…ì •ë³´ì‹œìŠ¤í…œê³µí•™ê³¼)"ë¼ë©´\n    - âœ… ì •ë‹µ: "ë°ì´í„°ë§ˆì´ë‹ì€ **ì‚°ì—…ì •ë³´ì‹œìŠ¤í…œê³µí•™ê³¼**ì—ì„œ ì—´ë¦½ë‹ˆë‹¤"\n    - âŒ í‹€ë¦¼: "ë°ì´í„°ë§ˆì´ë‹ì€ ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ì—ì„œ ì—´ë¦½ë‹ˆë‹¤" (ì™„ì „íˆ ë‹¤ë¥¸ í•™ê³¼)\n    - âŒ í‹€ë¦¼: ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” êµìˆ˜ëª…, í•™ì , ì‹œê°„í‘œ ì •ë³´ ì¶”ê°€\n    \n    **ì—„ê²©í•œ ê·œì¹™**:\n    - ê²€ìƒ‰ ê²°ê³¼ì˜ í•™ê³¼ëª…ì„ **ì ˆëŒ€ë¡œ** ë‹¤ë¥¸ í•™ê³¼ëª…ìœ¼ë¡œ ë°”ê¾¸ì§€ ë§ˆì„¸ìš”\n    - ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” êµìˆ˜ëª…ì„ **ì ˆëŒ€ë¡œ** ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”  \n    - ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” ì •ë³´ëŠ” "ì •ë³´ ì—†ìŒ"ì´ë¼ê³  ëª…ì‹œí•˜ì„¸ìš”\n\n12. ë¶€ì¡±í•œ ì •ë³´ê°€ ìˆë‹¤ë©´ ì¶”ê°€ ì§ˆë¬¸ì„ ìœ ë„í•˜ì„¸ìš”\n\n13. **ì¤‘ìš”**: ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ì§€ ë§ˆì„¸ìš”\n\n14. **ğŸš¨ ì ˆëŒ€ì  í•™ê³¼ í•„í„°ë§ ğŸš¨**: ì‚¬ìš©ìê°€ íŠ¹ì • í•™ê³¼ë¥¼ ëª…ì‹œí•œ ê²½ìš°\n    - **ì ˆëŒ€ ê·œì¹™**: "ì»´ê³µ" = ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€ ê³¼ëª©**ë§Œ** í—ˆìš©, ì „ìê³µí•™ë¶€/ê¸°ê³„ê³µí•™ë¶€ ë“± **ì ˆëŒ€ ê¸ˆì§€**\n    - **ì—„ê²© ì ìš©**: "ì „ìê³µí•™" = ì „ìê³µí•™ë¶€**ë§Œ**, "ê²½ì˜" = ê²½ì˜í•™ê³¼**ë§Œ**\n    - **ì˜ˆì™¸ ì—†ìŒ**: ì•„ë¬´ë¦¬ ìœ ì‚¬ë„ê°€ ë†’ì•„ë„ ë§¤í•‘ë˜ì§€ ì•Šì€ í•™ê³¼ ê³¼ëª©ì€ **100% ì œì™¸**\n    - **ì‚¬ìš©ì ì‹¤ë§ ë°©ì§€**: ì˜ëª»ëœ í•™ê³¼ ê³¼ëª© ì œì‹œ ì‹œ "ì£„ì†¡í•©ë‹ˆë‹¤, ë‹¤ì‹œ ì°¾ê² ìŠµë‹ˆë‹¤" ì‘ë‹µ í•„ìˆ˜\n\n15. **ğŸš¨ğŸš¨ğŸš¨ í•™ê³¼ ì •ë³´ ì •í™•ì„± ê²€ì¦ ğŸš¨ğŸš¨ğŸš¨**:\n    - **ë°ì´í„° ì •í™•ì„± ìš°ì„ **: `department_full_name`ì´ ìˆìœ¼ë©´ ì´ê²ƒì´ ì‹¤ì œ ì†Œì† í•™ê³¼ì…ë‹ˆë‹¤\n    - **êµì°¨ ê²€ì¦**: `department`ì™€ `department_full_name`ì´ ë‹¤ë¥´ë©´ `department_full_name`ì„ ì‹¤ì œ ì†Œì†ìœ¼ë¡œ ê°„ì£¼\n    - **ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ ì—„ê²© ì ìš©**: ì‚¬ìš©ìê°€ "ì»´ê³µ"(ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€)ì„ ìš”ì²­í–ˆëŠ”ë° ì‹¤ì œ ì†Œì†ì´ ë‹¤ë¥¸ í•™ê³¼ë©´ **ì œì™¸**í•´ì•¼ í•¨\n    - **ì˜ˆì‹œ**:\n      - department=\'ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€\', department_full_name=\'êµ­ì œì´ê³µí•™ë¶€\'\n      - â†’ ì‹¤ì œ ì†Œì†: êµ­ì œì´ê³µí•™ë¶€, ì‚¬ìš©ìê°€ "ì»´ê³µ"ì„ ìš”ì²­í–ˆë‹¤ë©´ **ì œì™¸**\n      - â†’ ê°•ì˜ì‹¤, êµìˆ˜ ì •ë³´ ëª¨ë‘ êµ­ì œì´ê³µí•™ë¶€ ê¸°ì¤€ìœ¼ë¡œ í‘œì‹œ\n\n16. **ì—„ê²©ì„±**: "ì°¸ê³ ìš©ìœ¼ë¡œ í¬í•¨", "ê´€ë ¨ë„ê°€ ë†’ì•„ í¬í•¨" ë“±ì˜ ì´ìœ ë¡œ ë‹¤ë¥¸ í•™ê³¼ ê³¼ëª©ì„ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”\n\n17. **ì™„ì „ì„±**: ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ì— ì •í™•íˆ ë§ëŠ” í•™ê³¼ì˜ ê³¼ëª©ë“¤ë§Œ í™œìš©í•˜ì—¬ ì„ íƒì§€ë¥¼ ì œê³µí•˜ì„¸ìš”\n\n18. **ğŸš¨ ê²°ê³¼ ê°œìˆ˜ ë³´ì¥ ğŸš¨**: \n    - ê²€ìƒ‰ ê²°ê³¼ì— 20ê°œ ê³¼ëª©ì´ ìˆë‹¤ë©´ ë°˜ë“œì‹œ 20ê°œ ëª¨ë‘ ì œì‹œí•˜ì„¸ìš”\n    - 2-3ê°œë§Œ ì œì‹œí•˜ê³  "ì´ ì™¸ì—ë„..." ê°™ì€ í‘œí˜„ ì‚¬ìš© ê¸ˆì§€\n    - ëª¨ë“  ê³¼ëª©ì„ ê°œë³„ì ìœ¼ë¡œ ë‚˜ì—´í•˜ì—¬ ì™„ì „í•œ ì •ë³´ ì œê³µ\n\n**ì¶œë ¥ í˜•ì‹ ì˜ˆì‹œ**:\n\n**ì¼ë°˜ì ì¸ ë‹µë³€ í˜•ì‹**:\n**1. [ê³¼ëª©ëª…]**\n- í•™ê³¼: [í•™ê³¼ëª…]\n- êµìˆ˜: [êµìˆ˜ëª…] (ë˜ëŠ” "ì •ë³´ ì—†ìŒ" ë˜ëŠ” í•„ë“œ ìƒëµ)\n- ê°•ì˜ì‹¤: [ê°•ì˜ì‹¤] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ì‹œê°„í‘œ: [ì‹œê°„í‘œ] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- í•™ì : [í•™ì ]í•™ì  (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ê³¼ëª©ì½”ë“œ: [ê³¼ëª©ì½”ë“œ] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ì„ ìˆ˜ê³¼ëª©: [ì„ ìˆ˜ê³¼ëª©] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ, ì—†ìœ¼ë©´ "ì •ë³´ ì—†ìŒ")\n- ëŒ€ìƒí•™ë…„: [ëŒ€ìƒí•™ë…„] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ìˆ˜ì—…ë°©ì‹: [ìˆ˜ì—…ë°©ì‹] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ì„¤ëª…: [ê³¼ëª© ì„¤ëª…] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n\n**"ì–´ë””ì„œ ì—´ë¦¬ëƒ" ì§ˆë¬¸ì— ëŒ€í•œ ìš°ì„ ìˆœìœ„ ë‹µë³€ í˜•ì‹**:\n"[êµìˆ˜ëª…] êµìˆ˜ë‹˜ì˜ [ê³¼ëª©ëª…] ìˆ˜ì—…ì€ **[ê°•ì˜ì‹¤]**ì—ì„œ ì—´ë¦½ë‹ˆë‹¤."\n\nì˜ˆì‹œ:\n- "ì†¡í˜„ì œ êµìˆ˜ë‹˜ì˜ ë°ì´í„°ë§ˆì´ë‹ ìˆ˜ì—…ì€ **ì»´í“¨í„°ì •ë³´ê´€ 205í˜¸**ì—ì„œ ì—´ë¦½ë‹ˆë‹¤."\n- "ê¹€í‰ êµìˆ˜ë‹˜ì˜ ì •ë³´ê²€ìƒ‰ ìˆ˜ì—…ì€ **ë¬¸í—Œì •ë³´ê´€ 301í˜¸**ì—ì„œ ì—´ë¦½ë‹ˆë‹¤."\n\n**ì‹œê°„í‘œ ì •ë³´ê°€ ìˆìœ¼ë©´ ì¶”ê°€**:\n- "ì‹œê°„í‘œ: í™”ëª© 1-2êµì‹œ"\n- "ìˆ˜ì—…ë°©ì‹: ëŒ€ë©´ìˆ˜ì—…"\n\n**"ì–¸ì œ" ì§ˆë¬¸ì— ëŒ€í•œ ìš°ì„ ìˆœìœ„ ë‹µë³€ í˜•ì‹**:\n"[êµìˆ˜ëª…] êµìˆ˜ë‹˜ì˜ [ê³¼ëª©ëª…] ìˆ˜ì—…ì€ **[ì‹œê°„í‘œ]**ì— ìˆìŠµë‹ˆë‹¤."\n\n**"â—‹â—‹ êµìˆ˜ë‹˜ì€ ë¬´ìŠ¨ ìˆ˜ì—… ê°€ë¥´ì¹˜ì‹œëŠë°?" ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ í˜•ì‹**:\n"[êµìˆ˜ëª…] êµìˆ˜ë‹˜ê»˜ì„œëŠ” ë‹¤ìŒ ê³¼ëª©ë“¤ì„ ê°€ë¥´ì¹˜ì‹­ë‹ˆë‹¤:\n\n**1. [ê³¼ëª©ëª…]**\n- í•™ê³¼: [í•™ê³¼ëª…]\n- ê°•ì˜ì‹¤: [ê°•ì˜ì‹¤] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ì‹œê°„í‘œ: [ì‹œê°„í‘œ] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- í•™ì : [í•™ì ]í•™ì  (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n- ì„¤ëª…: [ê³¼ëª© ì„¤ëª…] (ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ë§Œ)\n\n**2. [ë‹¤ë¥¸ ê³¼ëª©ëª…]** (í•´ë‹¹ êµìˆ˜ê°€ ê°€ë¥´ì¹˜ëŠ” ë‹¤ë¥¸ ê³¼ëª©ì´ ìˆëŠ” ê²½ìš°)\n- ..."\n\nì¶”ê°€ ì •ë³´ê°€ ìˆìœ¼ë©´ ê°„ë‹¨íˆ ë§ë¶™ì´ë˜, ê°•ì˜ì‹¤/ì‹œê°„í‘œë¥¼ ê°€ì¥ ê°•ì¡°í•˜ì—¬ ë‹µë³€í•˜ì„¸ìš”.\n\nìœ„ ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë‹µë³€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”:', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:35:07 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:35:07 - httpcore.connection - DEBUG - close.started
2025-09-28 04:35:07 - httpcore.connection - DEBUG - close.complete
2025-09-28 04:35:07 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:35:07 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f79c59a1d50>
2025-09-28 04:35:07 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f79c61abe30> server_hostname='api.openai.com' timeout=None
2025-09-28 04:35:07 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f79c59a16d0>
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:35:07 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:35:25 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:35:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'17574'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'17601'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29995521'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'8ms'), (b'x-request-id', b'req_85495a16545e4d1d91a5c457a16564df'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d7141fff0564b-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:35:25 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:35:25 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:35:25 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:35:25 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:35:25 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:35:25 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:35:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '17574', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '17601', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29995521', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '8ms', 'x-request-id': 'req_85495a16545e4d1d91a5c457a16564df', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d7141fff0564b-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:35:25 - openai._base_client - DEBUG - request_id: req_85495a16545e4d1d91a5c457a16564df
2025-09-28 04:35:25 - synthesis.success - INFO - âœ… í•©ì„± ì„±ê³µ: result_length=1086
2025-09-28 04:35:25 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:35:25 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (17.95ì´ˆ)
2025-09-28 04:35:25 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:35:25 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:35:25 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:37:23 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:23 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:37:23 - main - INFO - ==================================================
2025-09-28 04:37:23 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:37:23 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:37:23 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:23 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:37:23 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:37:23 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:37:23 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:37:23 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:37:23 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:23 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:23 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:37:35 - main - INFO - ğŸš€ AI Mentor Service ì‹œì‘ - ë¡œê·¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:35 - main - DEBUG - ğŸ“ ë¡œê·¸ ë””ë ‰í† ë¦¬: /app/logs
2025-09-28 04:37:35 - main - INFO - ==================================================
2025-09-28 04:37:35 - main - INFO - ğŸš€ ì„œë²„ ì‹œì‘ - í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì‹œì‘
2025-09-28 04:37:35 - service.core.mentor_service - INFO - ğŸš€ HybridMentorService ì´ˆê¸°í™”
2025-09-28 04:37:35 - service.memory.memory - INFO - ConversationMemory ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:35 - service.core.langgraph_app - INFO - ğŸ—ï¸ í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì‹œì‘
2025-09-28 04:37:35 - service.core.langgraph_app - INFO - ğŸ”§ ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
2025-09-28 04:37:35 - service.nodes.node_manager - INFO - ğŸ¯ ì´ 12ê°œ ë…¸ë“œ ë“±ë¡: ['router', 'light', 'medium_department', 'medium_sql', 'medium_vector', 'medium_curriculum', 'heavy_sequential', 'synthesis', 'finalize', 'error_handling', 'health_check', 'debug']
2025-09-28 04:37:35 - service.core.langgraph_app - INFO - âœ… 12ê°œ ë…¸ë“œ ì¶”ê°€ ì™„ë£Œ
2025-09-28 04:37:35 - service.core.langgraph_app - INFO - âœ… í†µí•© ê·¸ë˜í”„ ì»´íŒŒì¼ ì™„ë£Œ
2025-09-28 04:37:35 - service.core.langgraph_app - INFO - âœ… í†µí•© LangGraph ì•„í‚¤í…ì²˜ ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:35 - service.core.mentor_service - INFO - âœ… ì´ˆê¸°í™” ì™„ë£Œ
2025-09-28 04:37:35 - main - INFO - âœ… ì„œë²„ ì‹œì‘ - ëª¨ë“  í•¸ë“¤ëŸ¬ ì›Œë°ì—… ì™„ë£Œ
2025-09-28 04:37:55 - controller.agentController - INFO - ğŸš€ /agent endpoint called for session: default, stream: False
2025-09-28 04:37:55 - service.core.mentor_service - INFO - ğŸ¤– ì§ˆë¬¸ ì²˜ë¦¬: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...
2025-09-28 04:37:55 - service.core.langgraph_app - INFO - ğŸš€ í†µí•© ì¿¼ë¦¬ ì²˜ë¦¬ ì‹œì‘: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”...'
2025-09-28 04:37:55 - service.nodes.base_node - INFO - â±ï¸ Router ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:37:55 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-81d22b0a-acc1-43b2-b88c-b01b8df6e8cb', 'json_data': {'messages': [{'content': 'You are a query expansion specialist for the Jeonbuk National University AI Mentor.\nAnalyze the user query and expand it to improve search results.\nOutput MUST be a single JSON object â€” no free-form text outside of JSON.\n\n[EXPANSION GOALS]\n1. expansion_context: 1â€“2 sentences that explain the search context.\n2. expansion_keywords: 3â€“8 core keywords (comma-separated) - for backward compatibility.\n3. expansion_augmentation: Structured summary in the format "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)".\n4. constraints: Extract any filters (semester, level, college).\n5. entities: Structured entity extraction with clear professor/course/department separation.\n6. **DOMAIN KNOWLEDGE EXPANSION**: Use your knowledge to expand abbreviations and aliases to full academic terms.\n\n[ROUTING HINTS]\n- If the query mentions a person name with "êµìˆ˜"/"êµìˆ˜ë‹˜"/"Professor", prefer database metadata lookup:\n  - "decision_question_type": "StructuredQuery"\n  - "decision_data_source": "DB"\n- Unless explicit biography/achievement intent appears (e.g., "ì•½ë ¥", "í”„ë¡œí•„", "ë…¼ë¬¸", "ì—°êµ¬ì—…ì ", "ìƒì• "), keep the data source as DB for professor/department/course metadata queries.\n- Only choose "VectorSearch" (or "Hybrid") when the user explicitly asks about course content/topics (e.g., "ë‚´ìš©", "ì£¼ì œ", "ë°°ìš°ë‚˜ìš”", "cover", "syllabus", "topics").\n\n[CONSECUTIVE QUESTION DETECTION]\n- Look for reference words that indicate continuation of previous conversation:\n  - Pronouns: "ê·¸", "ê·¸ê²ƒ", "ì´ê²ƒ", "ì €ê²ƒ"\n  - Demonstratives: "ê·¸ ìˆ˜ì—…", "ê·¸ ê³¼ëª©", "ê·¸ êµìˆ˜ë‹˜", "í•´ë‹¹ ê³¼ëª©"\n  - Partial references: "ë”¥ëŸ¬ë‹ ê¸°ì´ˆ", "ì–´ë–¤ êµìˆ˜", "ëª‡ í•™ì "\n  - Follow-up questions: "ì–¸ì œ ì—´ë ¤?", "ëˆ„ê°€ ê°€ë¥´ì³?", "ëª‡ í•™ì ì´ì•¼?"\n- When detected, mark as "is_follow_up": true in entities\n\n[DOMAIN KNOWLEDGE EXPANSION]\n**í•™ê³¼ ë³„ì¹­ í™•ì¥**: ì‚¬ìš©ìê°€ ë³„ì¹­ì´ë‚˜ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ë©´ ì •ì‹ í•™ê³¼ëª…ë„ í¬í•¨í•˜ì„¸ìš”:\n- "ë¬¸ì •ê³¼" â†’ "ë¬¸í—Œì •ë³´í•™ê³¼" (ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬í•™ í¬í•¨)\n- "ì»´ê³µ" â†’ "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´í“¨í„°ì¸ê³µì§€ëŠ¥í•™ë¶€" \n- "ì „ì „" â†’ "ì „ê¸°ì „ìê³µí•™ê³¼", "ì „ìê³µí•™ë¶€"\n- "ê²½ì˜" â†’ "ê²½ì˜í•™ê³¼", "ê²½ì˜í•™ë¶€"\n- "ë¬¼ë¦¬" â†’ "ë¬¼ë¦¬í•™ê³¼", "ë¬¼ë¦¬í•™ë¶€"\n- "í™”ê³µ" â†’ "í™”í•™ê³µí•™ê³¼"\n- "ê¸°ê³„ê³µ" â†’ "ê¸°ê³„ê³µí•™ê³¼", "ê¸°ê³„ê³µí•™ë¶€"\n\n**í•™ë¬¸ ë„ë©”ì¸ í™•ì¥**: í•™ê³¼ì˜ í•µì‹¬ í•™ë¬¸ ì˜ì—­ë„ í‚¤ì›Œë“œì— í¬í•¨:\n- ë¬¸í—Œì •ë³´í•™ê³¼ â†’ "ë„ì„œê´€í•™, ì •ë³´ê´€ë¦¬, ì•„ì¹´ì´ë¸Œ, ë©”íƒ€ë°ì´í„°, ì •ë³´ê²€ìƒ‰, ë¶„ë¥˜ì²´ê³„"\n- ì»´í“¨í„°ê³µí•™ê³¼ â†’ "í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´"\n- ì „ìê³µí•™ê³¼ â†’ "íšŒë¡œì„¤ê³„, ì‹ í˜¸ì²˜ë¦¬, í†µì‹ , ë°˜ë„ì²´, ì„ë² ë””ë“œ"\n- ê²½ì˜í•™ê³¼ â†’ "ë§ˆì¼€íŒ…, ì¬ë¬´, ì¸ì‚¬, ì „ëµ, íšŒê³„, ì¡°ì§"\n\n[KEYWORD RULES FOR CACHE MATCHING]\n- Do NOT invent entities. Prefer tokens directly present in the user query; include high-certainty variants only.\n- **BUT apply domain knowledge expansion** for academic department aliases and subject areas.\n\n[ENTITY EXTRACTION RULES]\n1. PROFESSOR NAMES (êµìˆ˜ëª…):\n   - Extract ONLY actual professor names mentioned in the query\n   - Format: "ì´ë¦„" (without titles like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor")\n   - Examples: "ì†¡í˜„ì œ", "ê¹€ì² ìˆ˜", "ì´ì˜í¬"\n   - DO NOT include generic terms like "êµìˆ˜", "êµìˆ˜ë‹˜", "Professor"\n\n2. COURSE NAMES (ê³¼ëª©ëª…):\n   - Extract ONLY actual course/subject names mentioned in the query\n   - Include both full name and compact variant (without spaces)\n   - Examples: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ", "ë°ì´í„°êµ¬ì¡°", "ë¨¸ì‹ ëŸ¬ë‹"\n   - Include course codes if present: "CS101", "CSED123"\n   - DO NOT include generic terms like "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©"\n\n3. DEPARTMENT NAMES (í•™ê³¼ëª…):\n   - Extract department names as written\n   - Include common aliases only if explicitly mentioned\n   - Examples: "ì»´í“¨í„°ê³µí•™ê³¼", "ì»´ê³µ", "ì „ìê³µí•™ê³¼"\n   - DO NOT include generic terms like "í•™ê³¼", "í•™ë¶€", "ì „ê³µ"\n\n4. EXCLUSION RULES:\n   - NEVER include generic words: "êµìˆ˜", "êµìˆ˜ë‹˜", "ìˆ˜ì—…", "ê°•ì˜", "ê³¼ëª©", "í•™ê³¼", "ëŒ€í•™", "í•™êµ"\n   - NEVER invent names that don\'t appear in the query\n   - Keep 3â€“8 precise, non-duplicated tokens\n   - Order by importance: professor, course, department, campus/college\n\n[EXAMPLES]\nExample 1: "ë¨¸ì‹ ëŸ¬ë‹ ìˆ˜ì—…"\nâ†’ expansion_context: "Looking for machine learning and AI-related courses in the Computer Science department."\nâ†’ expansion_keywords: "ë¨¸ì‹ ëŸ¬ë‹,machine learning,ì¸ê³µì§€ëŠ¥,AI,ì»´í“¨í„°ê³µí•™,ë°ì´í„°ê³¼í•™"\nâ†’ expansion_augmentation: "(Definition: Machine learning algorithms, Topic: Computer Science, Outcome: AI development skills, Department: Computer Science)"\n\nExample 2: "ì†¡í˜„ì œ êµìˆ˜ë‹˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡  ì–´ë””ì„œ ì—´ë ¤?"\nâ†’ expansion_context: "Looking for course schedule information for Professor Song Hyeon-je\'s Programming Language Theory course."\nâ†’ expansion_keywords: "ì†¡í˜„ì œ,í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ,í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡ ,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Programming language concepts, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ì†¡í˜„ì œ", "course": "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ ", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 3: "ê¹€ì² ìˆ˜ êµìˆ˜ë‹˜ ë°ì´í„°êµ¬ì¡° ìˆ˜ì—… ì‹œê°„í‘œ"\nâ†’ expansion_context: "Looking for course schedule for Professor Kim Chul-su\'s Data Structures course."\nâ†’ expansion_keywords: "ê¹€ì² ìˆ˜,ë°ì´í„°êµ¬ì¡°,ì»´í“¨í„°ê³µí•™ê³¼,ê°•ì˜ì‹œê°„í‘œ"\nâ†’ expansion_augmentation: "(Definition: Data structure algorithms, Topic: Computer Science, Outcome: Programming skills, Department: Computer Science)"\nâ†’ entities: {"professor": "ê¹€ì² ìˆ˜", "course": "ë°ì´í„°êµ¬ì¡°", "department": "ì»´í“¨í„°ê³µí•™ê³¼", "course_code": null}\n\nExample 4: "ë¬¸ì •ê³¼ì—ì„œ ê°€ë¥´ì¹˜ëŠ” ê³¼ëª©ì„ ì°¾ì•„ì¤˜"\nâ†’ expansion_context: "Looking for courses offered in the Department of Library and Information Science (ë¬¸í—Œì •ë³´í•™ê³¼)."\nâ†’ expansion_keywords: "ë¬¸ì •ê³¼,ë¬¸í—Œì •ë³´í•™ê³¼,ë„ì„œê´€í•™,ì •ë³´ê´€ë¦¬,ì•„ì¹´ì´ë¸Œ,ë©”íƒ€ë°ì´í„°,ì •ë³´ê²€ìƒ‰,ë¶„ë¥˜ì²´ê³„"\nâ†’ expansion_augmentation: "(Definition: Library and information science courses, Topic: Information Management, Outcome: Library science skills, Department: Library and Information Science)"\nâ†’ entities: {"professor": null, "course": null, "department": "ë¬¸í—Œì •ë³´í•™ê³¼", "course_code": null}\n\n[OUTPUT JSON]\n{\n  "expansion_context": "1â€“2 sentences describing context",\n  "expansion_keywords": "keyword1,keyword2,keyword3",\n  "expansion_augmentation": "(Definition: ..., Topic: ..., Outcome: ..., Department: ...)",\n  "constraints": {\n    "semester": "Spring|Fall|null",\n    "level": "Introductory|Intermediate|Advanced|null",\n    "college": "college name|null"\n  },\n  "entities": {\n    "professor": "exact professor name or null",\n    "course": "exact course name or null",\n    "department": "exact department name or null",\n    "is_follow_up": "true if this is a follow-up question referring to previous context, false otherwise",\n    "course_code": "course code if present or null"\n  },\n  "decision_question_type": "StructuredQuery|Exploratory|Curriculum|GeneralChat",\n  "decision_data_source": "DB|VectorSearch|Hybrid|None"\n}\n\n[USER QUERY]\nì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\nExpand the query and output JSON only.ã…‡', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:37:55 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:37:55 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 04:37:55 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f139e47bcd0>
2025-09-28 04:37:55 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f139eb4be30> server_hostname='api.openai.com' timeout=None
2025-09-28 04:37:55 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f139e48bd50>
2025-09-28 04:37:55 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:37:55 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:37:55 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:37:55 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:37:55 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:37:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1809'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1824'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998115'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_0a93e90a920d4000b6521a74a8cfa84e'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=_RmDc7hRZM8BLDfsWkd1FqNxQg6Q_EerLw3u1izYSlI-1759001878-1.0.1.1-jNHqDb1HMvv0J5sBbEhGw53yt0aaRxuGlyeyHAbGdnNX3PPtJLhYhwwEhq5UfeFfsqnLbAHN4n1kNNKQ6eDoQN9Z6jvm1stNouJh3.eXvcI; path=/; expires=Sat, 27-Sep-25 20:07:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=tMi9YkP0RcyMWy0ALa5Jas0Un5xLjq0gOGbVMMZCUWI-1759001878010-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d755aba5f03cc-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:37:58 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:37:58 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 27 Sep 2025 19:37:58 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'jeonbuk-national-university'), ('openai-processing-ms', '1809'), ('openai-project', 'proj_GsEDOgdDSI76JalmDfnt7uXv'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1824'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '30000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '29998115'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_0a93e90a920d4000b6521a74a8cfa84e'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=_RmDc7hRZM8BLDfsWkd1FqNxQg6Q_EerLw3u1izYSlI-1759001878-1.0.1.1-jNHqDb1HMvv0J5sBbEhGw53yt0aaRxuGlyeyHAbGdnNX3PPtJLhYhwwEhq5UfeFfsqnLbAHN4n1kNNKQ6eDoQN9Z6jvm1stNouJh3.eXvcI; path=/; expires=Sat, 27-Sep-25 20:07:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=tMi9YkP0RcyMWy0ALa5Jas0Un5xLjq0gOGbVMMZCUWI-1759001878010-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '985d755aba5f03cc-ICN'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-28 04:37:58 - openai._base_client - DEBUG - request_id: req_0a93e90a920d4000b6521a74a8cfa84e
2025-09-28 04:37:58 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 647ì í…ìŠ¤íŠ¸
2025-09-28 04:37:58 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 635ì, 7ê°œ í•„ë“œ
2025-09-28 04:37:58 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:37:58 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=2
2025-09-28 04:37:58 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=None, score=2
2025-09-28 04:37:58 - handlers.query_analyzer.analyzer - INFO - ğŸ”— [ì¿¼ë¦¬ì¡°í•©] ì›ë³¸: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”'
2025-09-28 04:37:58 - handlers.query_main - INFO - ğŸ”— í™•ì¥ ì •ë³´ê°€ ì¡°í•©ëœ í–¥ìƒëœ ì¿¼ë¦¬: 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”

[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´'
2025-09-28 04:37:58 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c77b2b3b-f201-42c4-a2b7-3904c683252e', 'json_data': {'messages': [{'content': '# CRITICAL DEPARTMENT ALIAS ROUTER v4\n\n## ğŸš¨ STRICT JSON RESPONSE REQUIREMENT\n**YOU MUST RESPOND ONLY WITH VALID JSON. NO EXPLANATION, NO COMMENTS, NO EXTRA TEXT.**\n**START YOUR RESPONSE WITH { AND END WITH }**\n\n## ğŸ”¥ í•µì‹¬ ê·œì¹™\n- "ì»´ê³µ" ë“±ì¥ ì‹œ â†’ ë¬´ì¡°ê±´ Department-Mapping ì„ í–‰!\n  - owner_hint = DEPARTMENT_MAPPING+SQL_QUERY\n  - complexity = heavy\n\n[AGENTS]\n- FAISS-Search-Agent: ê°•ì¢Œ ì„¤ëª…/ë‚´ìš© ê²€ìƒ‰ (ì£¼ì œÂ·ë‚´ìš© ìœ ì‚¬ë„ ë§¤ì¹­)\n- SQL-Agent: êµìˆ˜/í•™ê³¼/ê°•ì¢Œ ë©”íƒ€ì •ë³´ ë° ì¡°ê±´ ê²€ìƒ‰ (ì½”ë“œ, êµìˆ˜, í•™ê¸°, í•™ë…„, ìœ„ì¹˜ ë“±)\n- Department-Mapping-Agent: í•™ê³¼/í•™ë¶€/ëŒ€í•™ ëª…ì¹­ ì •ê·œí™”\n- Curriculum-Agent: ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„\n- LLM-Fallback-Agent: ì¼ë°˜ ëŒ€í™”, ì¸ì‚¬, ì¡ë‹´\n\n[CRITICAL ê³¼ëª© ì¶”ì²œ vs ìœµí•© ì»¤ë¦¬í˜ëŸ¼ êµ¬ë¶„]\n- ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ê´€ë ¨ í‚¤ì›Œë“œ â†’ FAISS Search (ë¬´ì¡°ê±´):\n  "ê³¼ëª© ì¶”ì²œ", "ê°•ì˜ ì¶”ì²œ", "ìˆ˜ì—… ì¶”ì²œ", "ë“¤ì„ ìˆ˜ ìˆëŠ” ê³¼ëª©",\n  "ì¶”ì²œí•´ì¤˜", "~ê´€ë ¨ ìˆ˜ì—…", "~ê´€ë ¨ ê°•ì˜", "~ê³¼ëª©", "~ìˆ˜ì—…",\n  "~ì™€ ê´€ë ¨ëœ ìˆ˜ì—…", "~ì— ëŒ€í•œ ê³¼ëª©", "ë°°ìš¸ ìˆ˜ ìˆëŠ” ê³¼ëª©"\n  â†’ FAISS_SEARCH (ê³¼ëª© ë‚´ìš© ê²€ìƒ‰)\n\n- ìœµí•© ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum Agent (ë¬´ì¡°ê±´):\n  "ìœµí•©", "ë³µìˆ˜ì „ê³µ", "ë¶€ì „ê³µ", "ë‹¤ë¥¸ í•™ê³¼", "ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„",\n  "ìœµí•© ì»¤ë¦¬í˜ëŸ¼", "ë‹¤ì „ê³µ", "í•™ìŠµ ê²½ë¡œ", "ë¡œë“œë§µ", "ì§„ë¡œ ì„¤ê³„"\n  â†’ CURRICULUM_PLAN (ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„)\n\n[ë¼ìš°íŒ… ìš°ì„ ìˆœìœ„]\n1) ê³¼ëª©/ê°•ì˜/ìˆ˜ì—… ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS (ë¬´ì¡°ê±´)\n2) ìœµí•©/ë³µìˆ˜ì „ê³µ ì»¤ë¦¬í˜ëŸ¼ í‚¤ì›Œë“œ â†’ Curriculum (ë¬´ì¡°ê±´ medium)\n3) í•™ê³¼ ë³„ì¹­(ì»´ê³µ/ì „ì „/ì†Œì›¨ê³µ ë“±) â†’ Department-Mapping ì„ í–‰\n   - êµìˆ˜ ì¿¼ë¦¬: Mapping â†’ SQL\n   - ê³¼ëª© ë‚´ìš©: Mapping â†’ FAISS\n   - í•™ê³¼ëª…ë§Œ: Mapping\n4) êµìˆ˜ ì–¸ê¸‰(ì‚¬ëŒ ì´ë¦„+êµìˆ˜/Prof) â†’ SQL (ë‹¨, í•™ê³¼ë³„ì¹­ ì—†ì„ ë•Œ)\n5) í•™ê³¼/ëŒ€í•™ í–‰ì •ì •ë³´ â†’ SQL\n6) í•™ë…„/í•™ê¸°/ë¶„ë°˜ ì¡°ê±´ â†’ SQL\n7) ê°•ì¢Œ ë‚´ìš©/ì£¼ì œ ê²€ìƒ‰ â†’ FAISS\n8) ì¼ë°˜ ëŒ€í™” â†’ LLM-Fallback\n\n[ë³µì¡ë„ ì •ì˜]\n- light: ì¸ì‚¬/ì¡ë‹´ â†’ 1ë‹¨ê³„ LLM-Fallback\n- medium: ë‹¨ì¼ ì—ì´ì „íŠ¸ 1ê°œ ì‹¤í–‰ â†’ plan ê¸¸ì´ 1\n- heavy: ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹¤í–‰ â†’ plan ê¸¸ì´ â‰¥2\n- ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„: ë¬´ì¡°ê±´ medium\n\n[ì¶œë ¥ ìŠ¤í‚¤ë§ˆ]\n{\n  "complexity": "light|medium|heavy",\n  "owner_hint": "SQL_QUERY | FAISS_SEARCH | DEPARTMENT_MAPPING | CURRICULUM_PLAN | LLM_FALLBACK | DEPARTMENT_MAPPING+SQL_QUERY | DEPARTMENT_MAPPING+FAISS_SEARCH | FAISS_SEARCH+SQL_QUERY",\n  "category": "course_lookup|course_content|curriculum_design|general",\n  "question_type": "ProfessorCourseLookup|InfoLookup|CurriculumDesign|ChitChat|CourseLocationLookup",\n  "data_source": "DB|Web|Mixed",\n  "reasoning": "ì§§ì€ ê·¼ê±°",\n  "plan": [\n    {"step": 1, "agent": "ì—ì´ì „íŠ¸ëª…", "goal": "ê°„ê²°í•œ ì„¤ëª…"}\n  ],\n  "complexity_level": "complexity ë³µì‚¬",\n  "execution_type": "sequential|parallel|hybrid",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping|sql_search|vector_search|curriculum_design|llm_response", "input": "ì¿¼ë¦¬", "description": "plan.goal ë³µì‚¬"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\n[LangGraph ë³€í™˜ ê·œì¹™]\n- Department-Mapping-Agent â†’ department_mapping\n- SQL-Agent â†’ sql_search\n- FAISS-Search-Agent â†’ vector_search\n- Curriculum-Agent â†’ curriculum_design\n- LLM-Fallback-Agent â†’ llm_response\n- execution_type: ìˆœì°¨=sequential, ë³‘ë ¬=parallel, í˜¼í•©=hybrid\n\n[CRITICAL ì˜ˆì‹œ]\nQ: "ì»´ê³µ êµìˆ˜ë‹˜ ëˆ„êµ¬ ìˆì–´?"\n{\n  "complexity": "heavy",\n  "owner_hint": "DEPARTMENT_MAPPING+SQL_QUERY",\n  "category": "course_lookup",\n  "question_type": "ProfessorCourseLookup",\n  "data_source": "DB",\n  "reasoning": "ì»´ê³µ ë³„ì¹­ ê°ì§€ â†’ Mapping ë¨¼ì €",\n  "plan": [\n    {"step": 1, "agent": "Department-Mapping-Agent", "goal": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"step": 2, "agent": "SQL-Agent", "goal": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "complexity_level": "heavy",\n  "execution_type": "sequential",\n  "steps": [\n    {"id": "step_1", "type": "department_mapping", "input": "ì»´ê³µ", "description": "ì»´ê³µì„ í‘œì¤€ í•™ê³¼ëª…ìœ¼ë¡œ ì •ê·œí™”"},\n    {"id": "step_2", "type": "sql_search", "input": "ì •ê·œí™”ëœ í•™ê³¼ëª…", "description": "êµìˆ˜ ëª©ë¡ ì¡°íšŒ"}\n  ],\n  "dependencies": {\n    "step_2": ["step_1"]\n  }\n}\n\nQ: "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "FAISS_SEARCH",\n  "category": "course_lookup",\n  "question_type": "CourseRecommendation",\n  "data_source": "DB",\n  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",\n  "plan": [\n    {"step": 1, "agent": "FAISS-Search-Agent", "goal": "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ"}\n  ]\n}\n\nQ: "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„í•´ì£¼ì„¸ìš”"\n{\n  "complexity": "medium",\n  "owner_hint": "CURRICULUM_PLAN",\n  "category": "curriculum_design",\n  "question_type": "CurriculumDesign",\n  "data_source": "Mixed",\n  "reasoning": "ìœµí•© í‚¤ì›Œë“œ â†’ Curriculum Agent",\n  "plan": [\n    {"step": 1, "agent": "Curriculum-Agent", "goal": "ìœµí•© ì»¤ë¦¬í˜ëŸ¼ ì„¤ê³„"}\n  ]\n}\n\n## ğŸš¨ FINAL REMINDER: RESPOND ONLY WITH JSON\nQuery: ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”\n\n[í™•ì¥ì •ë³´] ë°°ê²½ì •ë³´: Looking for recommended courses in the Department of Computer Science. | ê´€ë ¨í‚¤ì›Œë“œ: ì»´í“¨í„°ê³µí•™ê³¼, ì»´ê³µ, í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„°êµ¬ì¡°, AI, ë¨¸ì‹ ëŸ¬ë‹, ì†Œí”„íŠ¸ì›¨ì–´\n\n**CRITICAL**: Your response must be ONLY valid JSON following the schema above. NO explanations, NO comments. Start with { and end with }.', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:37:58 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:37:58 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:37:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'1510'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1526'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29998623'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_9d0a375fb7f44824909fd261f527bda5'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d7569b9a303cc-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:37:59 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:37:59 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:37:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '1510', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1526', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29998623', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_9d0a375fb7f44824909fd261f527bda5', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d7569b9a303cc-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:37:59 - openai._base_client - DEBUG - request_id: req_9d0a375fb7f44824909fd261f527bda5
2025-09-28 04:37:59 - handlers.query_analyzer.analyzer - INFO - ğŸ” [DEBUG] ë¼ìš°í„° ì‘ë‹µ: ```json
{
  "complexity": "medium",
  "owner_hint": "FAISS_SEARCH",
  "category": "course_lookup",
  "question_type": "CourseRecommendation",
  "data_source": "DB",
  "reasoning": "ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰",
  "plan": [
    {"step": 1, "agent": "FAISS-Search-Agent", "goal": "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ"}
  ],
  "complexity_level": "medium",
  "execution_type": "sequential",
  "steps": [
    {"id": "step_1", "type": "vector_search", "input": "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ", "description": "ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ"}
  ],
  "dependencies": {}
}
```
2025-09-28 04:37:59 - utils.json_utils - DEBUG - JSON ë¸”ë¡ ì¶”ì¶œ ì‹œë„: 504ì í…ìŠ¤íŠ¸
2025-09-28 04:37:59 - utils.json_utils - DEBUG - ğŸ”§ JSON ê°ì²´ ì¶”ì¶œ: 492ì, 11ê°œ í•„ë“œ
2025-09-28 04:37:59 - utils.json_utils - INFO - ğŸ” 1ê°œ JSON ê°ì²´ ë°œê²¬, ìµœì  ì„ íƒ ì¤‘...
2025-09-28 04:37:59 - utils.json_utils - DEBUG - ğŸ” JSON #1: complexity=medium, score=5
2025-09-28 04:37:59 - utils.json_utils - INFO - âœ… ìµœì  JSON ì„ íƒ: complexity=medium, score=5
2025-09-28 04:37:59 - handlers.query_analyzer.analyzer - INFO - ğŸ” [DEBUG] ì¶”ì¶œëœ JSON: {'complexity': 'medium', 'owner_hint': 'FAISS_SEARCH', 'category': 'course_lookup', 'question_type': 'CourseRecommendation', 'data_source': 'DB', 'reasoning': 'ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰', 'plan': [{'step': 1, 'agent': 'FAISS-Search-Agent', 'goal': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ'}], 'complexity_level': 'medium', 'execution_type': 'sequential', 'steps': [{'id': 'step_1', 'type': 'vector_search', 'input': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ', 'description': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œ'}], 'dependencies': {}}
2025-09-28 04:37:59 - handlers.query_analyzer.analyzer - INFO - ğŸ” [DEBUG] ìµœì¢… ê²°ì •: {'complexity': 'medium', 'is_complex': True, 'category': 'course_lookup', 'owner_hint': 'FAISS_SEARCH', 'plan': None, 'reasoning': 'ê³¼ëª© ì¶”ì²œ í‚¤ì›Œë“œ â†’ FAISS ê²€ìƒ‰'}
2025-09-28 04:37:59 - handlers.query_analyzer.analyzer - INFO - ğŸ¯ ë¼ìš°íŒ… ê²°ì •: medium
2025-09-28 04:37:59 - service.nodes.routing_nodes - INFO - âœ… ë¼ìš°íŒ…: medium
2025-09-28 04:37:59 - service.nodes.base_node - INFO - âœ… Router ë…¸ë“œ ì™„ë£Œ (4.15ì´ˆ)
2025-09-28 04:37:59 - service.nodes.base_node - INFO - â±ï¸ Light ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:37:59 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1272d73f-5f5b-438e-8f02-1d417dfa8b9a', 'json_data': {'messages': [{'content': 'ì»´í“¨í„°ê³µí•™ê³¼ ê³¼ëª© ì¶”ì²œí•´ì£¼ì„¸ìš”', 'role': 'user'}], 'model': 'gpt-4o', 'max_completion_tokens': 4000, 'stream': False, 'temperature': 0.0}}
2025-09-28 04:37:59 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 04:37:59 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 04:38:05 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 27 Sep 2025 19:38:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'jeonbuk-national-university'), (b'openai-processing-ms', b'5451'), (b'openai-project', b'proj_GsEDOgdDSI76JalmDfnt7uXv'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5478'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'30000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'29999987'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_9ed8f40391c74400828868cc5cf3c76d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'985d75747c0a03cc-ICN'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-28 04:38:05 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-28 04:38:05 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 04:38:05 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 04:38:05 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 04:38:05 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 04:38:05 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Sat, 27 Sep 2025 19:38:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'jeonbuk-national-university', 'openai-processing-ms': '5451', 'openai-project': 'proj_GsEDOgdDSI76JalmDfnt7uXv', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '5478', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '30000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '29999987', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_9ed8f40391c74400828868cc5cf3c76d', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '985d75747c0a03cc-ICN', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-09-28 04:38:05 - openai._base_client - DEBUG - request_id: req_9ed8f40391c74400828868cc5cf3c76d
2025-09-28 04:38:05 - service.nodes.base_node - INFO - âœ… Light ë…¸ë“œ ì™„ë£Œ (5.68ì´ˆ)
2025-09-28 04:38:05 - service.nodes.base_node - INFO - â±ï¸ í•©ì„± ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:38:05 - service.nodes.synthesis_nodes - INFO - ğŸ” [DEBUG] ìŠ¬ë¡¯ ë‚´ìš©: {}
2025-09-28 04:38:05 - service.nodes.synthesis_nodes - INFO - ğŸ“Š [DEBUG] ì´ 0ê°œ ê²°ê³¼ ìˆ˜ì§‘ë¨
2025-09-28 04:38:05 - service.nodes.synthesis_nodes - INFO - âœ… í•©ì„± ì™„ë£Œ
2025-09-28 04:38:05 - service.nodes.base_node - INFO - âœ… í•©ì„± ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
2025-09-28 04:38:05 - service.nodes.base_node - INFO - â±ï¸ Finalize ë…¸ë“œ ì‹¤í–‰ ì‹œì‘
2025-09-28 04:38:05 - service.nodes.utility_nodes - INFO - âœ… ì²˜ë¦¬ ì™„ë£Œ
2025-09-28 04:38:05 - service.nodes.base_node - INFO - âœ… Finalize ë…¸ë“œ ì™„ë£Œ (0.00ì´ˆ)
